PFByb2plY3QgVG9vbHNWZXJzaW9uPSI0LjAiIHhtbG5zPSJodHRwOi8vc2NoZW1hcy5taWNyb3Nv
ZnQuY29tL2RldmVsb3Blci9tc2J1aWxkLzIwMDMiPgogIDwhLS0gTVNCdWlsZFNoZWxsLCBhIFBv
d2Vyc2hlbGwgSG9zdCBydW5uaW5nIHdpdGhpbiBNU0J1aWxkLmV4ZSAtLT4KICA8IS0tIFRoaXMg
Y29kZSBsZXQncyB5b3UgQnlwYXNzIEFwcGxpY2F0aW9uIFdoaXRlbGlzdGluZyBhbmQgUG93ZXJz
aGVsbC5leGUgcmVzdHJpY3Rpb25zLiAtLT4KICA8IS0tIFNhdmUgVGhpcyBGaWxlIEFuZCBFeGVj
dXRlIFRoZSBGb2xsb3dpbmcgQ29tbWFuZDogLS0+CiAgPCEtLSBDOlxXaW5kb3dzXE1pY3Jvc29m
dC5ORVRcRnJhbWV3b3JrXHY0LjAuMzAzMTlcbXNidWlsZC5leGUgTVNCdWlsZFNoZWxsLmNzcHJv
aiAtLT4KICA8IS0tIEF1dGhvciBhbmQgZm91bmRlciBvZiB0aGUgTVNCdWlsZCBBcHBsaWNhdGlv
biBXaGl0ZWxpc3RpbmcgQnlwYXNzIGNvZGU6IENhc2V5IFNtaXRoLCBUd2l0dGVyOiBAc3ViVGVl
IC0tPgogIDwhLS0gUG93ZXJzaGVsbCBIb3N0IENvZGU6IE9yaWdpbmFsIGZyb20gTWljcm9zb2Z0
IChNU0ROKSwgbW9kaWZpZWQgYnkgQ24zM2xpeiwgVHdpdHRlcjogQENuZWVsaXMgLS0+CiAgPCEt
LSBMaWNlbnNlOiBCU0QgMy1DbGF1c2UgLS0+CiAgPFRhcmdldCBOYW1lPSJNU0J1aWxkUG9zaCI+
CiAgIDxNU0J1aWxkU2hlbGwvPgogIDwvVGFyZ2V0PgogICA8VXNpbmdUYXNrCiAgICBUYXNrTmFt
ZT0iTVNCdWlsZFNoZWxsIgogICAgVGFza0ZhY3Rvcnk9IkNvZGVUYXNrRmFjdG9yeSIKICAgIEFz
c2VtYmx5RmlsZT0iQzpcV2luZG93c1xNaWNyb3NvZnQuTmV0XEZyYW1ld29ya1x2NC4wLjMwMzE5
XE1pY3Jvc29mdC5CdWlsZC5UYXNrcy52NC4wLmRsbCIgPgogICAgIDxUYXNrPgogICAgICA8UmVm
ZXJlbmNlIEluY2x1ZGU9IlN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24iIC8+CQkKICAgICAg
PENvZGUgVHlwZT0iQ2xhc3MiIExhbmd1YWdlPSJjcyI+CiAgICAgICAgPCFbQ0RBVEFbCgkJCXVz
aW5nIFN5c3RlbTsKCQkJdXNpbmcgU3lzdGVtLklPOwoJCQl1c2luZyBTeXN0ZW0uVGV4dDsKCQkJ
dXNpbmcgU3lzdGVtLkxpbnE7CgkJCXVzaW5nIFN5c3RlbS5HbG9iYWxpemF0aW9uOwoJCQl1c2lu
ZyBTeXN0ZW0uUmVmbGVjdGlvbjsKCQkJdXNpbmcgU3lzdGVtLlNlY3VyaXR5OwoJCQl1c2luZyBN
aWNyb3NvZnQuV2luMzI7CgkJCXVzaW5nIE1pY3Jvc29mdC5CdWlsZC5GcmFtZXdvcms7CgkJCXVz
aW5nIE1pY3Jvc29mdC5CdWlsZC5VdGlsaXRpZXM7CgkJCXVzaW5nIFN5c3RlbS5Db21wb25lbnRN
b2RlbDsKCQkJdXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7CgkJCXVzaW5nIFN5c3Rl
bS5Db2xsZWN0aW9ucy5PYmplY3RNb2RlbDsKCQkJdXNpbmcgU3lzdGVtLlJ1bnRpbWUuSW50ZXJv
cFNlcnZpY2VzOwoJCQl1c2luZyBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uOwoJCQl1c2lu
ZyBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLkhvc3Q7CgkJCXVzaW5nIFN5c3RlbS5NYW5h
Z2VtZW50LkF1dG9tYXRpb24uUnVuc3BhY2VzOwoJCQl1c2luZyBQb3dlclNoZWxsID0gU3lzdGVt
Lk1hbmFnZW1lbnQuQXV0b21hdGlvbi5Qb3dlclNoZWxsOwoKCgkJCXB1YmxpYyBjbGFzcyBNU0J1
aWxkU2hlbGwgOiAgVGFzaywgSVRhc2sKCQkJewoJCQkJW0RsbEltcG9ydCgibnRkbGwuZGxsIild
CgkJCQlwcml2YXRlIHN0YXRpYyBleHRlcm4gaW50IFJ0bEdldFZlcnNpb24ob3V0IFJUTF9PU1ZF
UlNJT05JTkZPRVggbHBWZXJzaW9uSW5mb3JtYXRpb24pOwoKCQkJCVtTdHJ1Y3RMYXlvdXQoTGF5
b3V0S2luZC5TZXF1ZW50aWFsKV0KCQkJCWludGVybmFsIHN0cnVjdCBSVExfT1NWRVJTSU9OSU5G
T0VYCgkJCQl7CgkJCQkJaW50ZXJuYWwgdWludCBkd09TVmVyc2lvbkluZm9TaXplOwoJCQkJCWlu
dGVybmFsIHVpbnQgZHdNYWpvclZlcnNpb247CgkJCQkJaW50ZXJuYWwgdWludCBkd01pbm9yVmVy
c2lvbjsKCQkJCQlpbnRlcm5hbCB1aW50IGR3QnVpbGROdW1iZXI7CgkJCQkJaW50ZXJuYWwgdWlu
dCBkd1BsYXRmb3JtSWQ7CgkJCQkJW01hcnNoYWxBcyhVbm1hbmFnZWRUeXBlLkJ5VmFsVFN0ciwg
U2l6ZUNvbnN0ID0gMTI4KV0KCQkJCQlpbnRlcm5hbCBzdHJpbmcgc3pDU0RWZXJzaW9uOwoJCQkJ
fQoKCQkJCXB1YmxpYyBzdGF0aWMgZGVjaW1hbCBSdGxHZXRWZXJzaW9uKCkKCQkJCXsKCQkJCQlS
VExfT1NWRVJTSU9OSU5GT0VYIG9zdmkgPSBuZXcgUlRMX09TVkVSU0lPTklORk9FWCgpOwoJCQkJ
CW9zdmkuZHdPU1ZlcnNpb25JbmZvU2l6ZSA9ICh1aW50KU1hcnNoYWwuU2l6ZU9mKG9zdmkpOwoJ
CQkJCS8vY29uc3Qgc3RyaW5nIHZlcnNpb24gPSAiTWljcm9zb2Z0IFdpbmRvd3MiOwoJCQkJCWlm
IChSdGxHZXRWZXJzaW9uKG91dCBvc3ZpKSA9PSAwKQoJCQkJCXsKCQkJCQkJc3RyaW5nIFZlcnNp
b24gPSBvc3ZpLmR3TWFqb3JWZXJzaW9uICsgIi4iICsgb3N2aS5kd01pbm9yVmVyc2lvbjsKCQkJ
CQkJcmV0dXJuIGRlY2ltYWwuUGFyc2UoVmVyc2lvbiwgQ3VsdHVyZUluZm8uSW52YXJpYW50Q3Vs
dHVyZSk7CgkJCQkJfQoJCQkJCWVsc2UKCQkJCQl7CgkJCQkJCXJldHVybiAtMTsKCQkJCQl9CgkJ
CQl9CgkJCQoJCQkJcHVibGljIHN0YXRpYyB2b2lkIFByaW50QmFubmVyKCkKCQkJCXsKCQkJCQlD
b25zb2xlLkJhY2tncm91bmRDb2xvciA9IENvbnNvbGVDb2xvci5EYXJrQmx1ZTsKCQkJCQlDb25z
b2xlLkZvcmVncm91bmRDb2xvciA9IENvbnNvbGVDb2xvci5XaGl0ZTsKCQkJCQlDb25zb2xlLkNs
ZWFyKCk7CgkJCQkJQ29uc29sZS5Xcml0ZUxpbmUoIldpbmRvd3MgTVNCdWlsZFNoZWxsIik7CgkJ
CQkJQ29uc29sZS5Xcml0ZUxpbmUoIkNvcHlyaWdodChDKSAyMDE2IE1pY3Jvc29mdCBDb3Jwb3Jh
dGlvbiwgc3ViVGVlIGFuZCBDbjMzbGl6LiBBbGwgcmlnaHRzIHJlc2VydmVkLiIpOwoJCQkJCUNv
bnNvbGUuV3JpdGVMaW5lKCk7CgkJCQl9CgoJCQkJcHJpdmF0ZSBzdGF0aWMgUG93ZXJMaXN0ZW5l
ckNvbnNvbGUgUG93ZXJMaXN0ZW5lciA9IG5ldyBQb3dlckxpc3RlbmVyQ29uc29sZSgpOwoKCQkJ
CXB1YmxpYyBvdmVycmlkZSBib29sIEV4ZWN1dGUoKQoJCQkJewoJCQkJCUNvbnNvbGUuVGl0bGUg
PSAiV2luZG93cyBNU0J1aWxkU2hlbGwiOwoJCQkJCVByaW50QmFubmVyKCk7CgkJCQkJc3RyaW5n
IExhdGVzdE9TVmVyc2lvbiA9ICI2LjMiOwoJCQkJCWRlY2ltYWwgbGF0ZXN0T1NWZXJzaW9uRGVj
ID0gZGVjaW1hbC5QYXJzZShMYXRlc3RPU1ZlcnNpb24sIEN1bHR1cmVJbmZvLkludmFyaWFudEN1
bHR1cmUpOwoJCQkJCWlmIChSdGxHZXRWZXJzaW9uKCkgPiBsYXRlc3RPU1ZlcnNpb25EZWMpCgkJ
CQkJewoJCQkJCQlzdHJpbmcgVW5kb0Ftc2kgPSBTeXN0ZW0uVGV4dC5FbmNvZGluZy5VVEY4Lkdl
dFN0cmluZyhTeXN0ZW0uQ29udmVydC5Gcm9tQmFzZTY0U3RyaW5nKEAiSUVsT2RtOXJSUzFsZUhC
eVpWTlRTVTl1SUNnZ0tDQmJjblZPVkdsTlJTNUpiblJGVWs5UVUyVlNWa2xEUlhNdWJVRlNVMGhC
YkYwNk9sQjBVblJQYzNSU1NXNUhRWFYwYnlnZ1czSlZUblJKVFdVdWFVNVVSVkp2VUZObGNsWkpZ
MlZUTG0xQmNuTm9RVXhkT2pwVFpXTjFja1ZUVkhKSmJtZDBiMEpUZEZJb0pDZ25OelkwT1RKa01U
RXhOamMwTTJZd05ESXpOREV6WWpFMk1EVXdZVFV6TkRWTlowSTRRVWhGUVZSUlFteEJSRUZCVGtG
Q1YwRkVVVUZUUVVKSlFVUlpRV1ZCUW1sQlNHdEJZa0ZDVGtGSFVVRmpVVUpJUVVoRlFXTm5Ra1pC
UmtWQlVGRkJPVUZJZDBGYVowRXhRVWROUVZsblFYcEJSRWxCV1hkQ2FVRkhVVUZaVVVGNlFVUlpR
VmwzUW1oQlJFbEJUVUZCTTBGRWEwRk9VVUp0UVVSVlFWcG5RVE5CUjFGQlQxRkJNMEZFWjBGWlVV
RjZRVWRaUVU1QlFUSkJSRlZCVG1kQmVVRkVhMEZOVVVFMFFVUnJRVmwzUVhkQlJFbEJXV2RCZDBG
RWEwRmFRVUpzUVVSWlFVMUJRWHBCUkZGQlRsRkNhMEZFU1VGYVowRjRRVWRSUVZwblFtaEJSRTFC
VFZGQk0wRkVRVUZhUVVKcFFVUk5RVTVCUVRWQlJFRkJUbmRDYWtGRVZVRlBVVUUxUVVkTlFVNW5R
bWxCUjFGQldYZEJNVUZIVlVGWmQwSnNRVVJWUVU1blFYZEJSR3RCV1hkQmQwRkVXVUZQUVVGNVFV
UkZRVTlSUW1oQlJFbEJXV2RCTWtGRVRVRlBVVUV5UVVSalFWbG5RVEJCUkUxQlQxRkJlRUZIVVVG
TmQwRXpRVWRSUVU1QlFtdEJSRWxCVGtGQk1FRkhWVUZOWjBGM1FVZE5RVnBuUVhkQlJGRkJXa0ZC
ZWtGSFJVRmFRVUV6UVVSblFWbDNRVFZCUkdkQlQwRkNha0ZFU1VGT1FVSnFRVWRWUVU1QlFUQkJS
RlZCV2xGQk5VRkhSVUZOVVVKb1FVUlZRVTlSUVRSQlJFRkJXbWRCZDBGSFdVRk9aMEUxUVVSUlFV
MVJRVEZCUjBWQlRtZEJOVUZFVFVGYVFVSnBRVVJCUVZsUlFtMUJSRTFCV21kQmVFRkhVVUZPZDBF
MFFVZEpRVTFuUVRSQlJFMUJUMUZDYkVGSFZVRlBRVUV5UVVSUlFWcEJRVFZCUjBWQlRWRkNhVUZF
U1VGYVFVSm9RVWRGUVU1blFUVkJSR2RCVFZGQ2JFRkVZMEZhVVVFeVFVUkpRVnBCUW1sQlJFbEJX
WGRDYkVGRVNVRmFRVUpwUVVkTlFWcEJRbWxCUkVGQldYZENhRUZFUVVGYVFVRTFRVVJaUVZsUlFU
RkJSRVZCVG1kQ2EwRkVUVUZPZDBFeFFVUmpRVnBCUVhkQlJGbEJUWGRCZDBGSFZVRk9VVUV3UVVS
RlFVMUJRVFJCUkVWQlRVRkJOVUZFU1VGTlVVRXhRVVJuUVU1QlFtaEJSRlZCV1hkQmVrRkhUVUZP
UVVGNFFVZFZRVnBuUVhsQlJGVkJXV2RDYkVGRWEwRmFaMEY2UVVSclFVOUJRVFZCUkVGQldsRkJO
VUZFU1VGWlVVRXlRVVJWUVU5UlFYcEJSRVZCVDFGQk1rRkVWVUZhVVVGNFFVUmpRVTFCUVROQlJG
VkJUbEZDYUVGSFJVRk5aMEV3UVVkSlFVNW5RVEZCUkdOQlRsRkJlRUZFVVVGT2QwRjVRVVJaUVU1
M1FYaEJSR3RCVGtGQk1FRkVXVUZOWjBFd1FVUnJRVTVuUW14QlIxbEJXVkZDYWtGSFdVRk9VVUpz
UVVSUlFWcEJRbWhCUkdkQlRtZEJNMEZFUlVGYVowSm9RVWRWUVU5QlFteEJSRlZCVFVGQk1rRkVZ
MEZPUVVFMVFVUk5RVnBCUVRCQlJHZEJXbEZCZDBGSFVVRk5RVUY1UVVSalFVNUJRVEpCUjBWQlRu
ZEJla0ZFVlVGWlVVRTFRVWRSUVUxblFtdEJSMUZCVFhkQk1FRkhSVUZPWjBFd1FVZFJRVTlSUVRK
QlJHdEJUbmRCZDBGSFJVRlpkMEV4UVVSblFVNW5RWGhCUkVGQlRVRkJNa0ZFVVVGTlVVSnFRVVJG
UVZwUlFtdEJSRUZCVFZGQk1rRkVaMEZhWjBGNVFVUk5RVTEzUVhwQlJFMUJXWGRCTlVGSFdVRk5V
VUp0UVVSSlFVNTNRWGRCUkZWQldtZEJNa0ZFVlVGTmQwRjVRVVJuUVUxM1FUQkJSR05CV1dkQk5F
RkVWVUZaWjBKdFFVUk5RVTFCUVRGQlJGRkJUa0ZDYkVGSFdVRmFRVUY2UVVkTlFVNTNRbTFCUkZW
QlRtZEJNMEZIVVVGUFVVRjZRVVJGUVUxblFURkJSRlZCV2xGQmVrRkVZMEZhWjBKcVFVZEZRVTUz
UVRSQlIwbEJXV2RCTkVGRVNVRlBVVUpvUVVkVlFVOVJRWGhCUkdkQlRtZEJNRUZFWTBGTlFVRjZR
VWRKUVZwUlFtbEJSRlZCV2tGQmQwRkVWVUZQVVVGNFFVUkZRVTUzUVRSQlJHdEJUbEZCZDBGRVNV
Rk9kMEpwUVVSblFWcFJRVFZCUjFsQlRWRkJla0ZFUVVGTlVVRjVRVVJGUVU1UlFYaEJSR05CVFdk
Q2FVRkVUVUZQUVVGNlFVUmpRVTUzUW14QlIwMUJXa0ZDYkVGSFdVRlpaMEp0UVVSVlFVMTNRbXhC
UjFsQldYZEJlVUZFYTBGT2QwRXpRVWROUVU1UlFteEJSRWxCV1hkQmVVRkVSVUZPUVVGNFFVZEZR
VTVuUW1wQlIxRkJUV2RCTlVGRVNVRk5kMEY0UVVSWlFWcFJRbTFCUkVGQlRYZEJla0ZFVlVGWmQw
SnJRVWRaUVU1QlFUMG5JSHhqYjI1V1JWSlVkRzh0YzBWamRWSkZjM1JTU1U1SElDQXRhMFZaSUNn
eU1USXVMakU0TVNrcElDa3BLU2tnIikpOwoJCQkJCQlQb3dlckxpc3RlbmVyLkV4ZWN1dGUoVW5k
b0Ftc2kpOwoJCQkJCX0KCgkJCQkJUG93ZXJMaXN0ZW5lci5Db21tYW5kU2hlbGwoKTsKCQkJCQly
ZXR1cm4gdHJ1ZTsKCQkJCX0KCQkJfQoKCQkJY2xhc3MgUG93ZXJMaXN0ZW5lckNvbnNvbGUKCQkJ
ewoJCQkJcHJpdmF0ZSBib29sIHNob3VsZEV4aXQ7CgoJCQkJcHJpdmF0ZSBpbnQgZXhpdENvZGU7
CgoJCQkJcHJpdmF0ZSBNeUhvc3QgbXlIb3N0OwoKCQkJCWludGVybmFsIFJ1bnNwYWNlIG15UnVu
U3BhY2U7CgoJCQkJcHJpdmF0ZSBQb3dlclNoZWxsIGN1cnJlbnRQb3dlclNoZWxsOwoKCQkJCXBy
aXZhdGUgb2JqZWN0IGluc3RhbmNlTG9jayA9IG5ldyBvYmplY3QoKTsKCgkJCQlwdWJsaWMgUG93
ZXJMaXN0ZW5lckNvbnNvbGUoKQoJCQkJewoKCQkJCQlJbml0aWFsU2Vzc2lvblN0YXRlIHN0YXRl
ID0gSW5pdGlhbFNlc3Npb25TdGF0ZS5DcmVhdGVEZWZhdWx0KCk7CgkJCQkJc3RhdGUuQXV0aG9y
aXphdGlvbk1hbmFnZXIgPSBuZXcgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5BdXRob3Jp
emF0aW9uTWFuYWdlcigiRHVtbXkiKTsKCgkJCQkJdGhpcy5teUhvc3QgPSBuZXcgTXlIb3N0KHRo
aXMpOwoJCQkJCXRoaXMubXlSdW5TcGFjZSA9IFJ1bnNwYWNlRmFjdG9yeS5DcmVhdGVSdW5zcGFj
ZSh0aGlzLm15SG9zdCwgc3RhdGUpOwoJCQkJCXRoaXMubXlSdW5TcGFjZS5PcGVuKCk7CgoJCQkJ
CWxvY2sgKHRoaXMuaW5zdGFuY2VMb2NrKQoJCQkJCXsKCQkJCQkJdGhpcy5jdXJyZW50UG93ZXJT
aGVsbCA9IFBvd2VyU2hlbGwuQ3JlYXRlKCk7CgkJCQkJfQoKCQkJCQl0cnkKCQkJCQl7CgkJCQkJ
CXRoaXMuY3VycmVudFBvd2VyU2hlbGwuUnVuc3BhY2UgPSB0aGlzLm15UnVuU3BhY2U7CgoJCQkJ
CQlQU0NvbW1hbmRbXSBwcm9maWxlQ29tbWFuZHMgPSBIb3N0VXRpbGl0aWVzLkdldFByb2ZpbGVD
b21tYW5kcygiUG93ZXJTaGVsbCIpOwoJCQkJCQlmb3JlYWNoIChQU0NvbW1hbmQgY29tbWFuZCBp
biBwcm9maWxlQ29tbWFuZHMpCgkJCQkJCXsKCQkJCQkJCXRoaXMuY3VycmVudFBvd2VyU2hlbGwu
Q29tbWFuZHMgPSBjb21tYW5kOwoJCQkJCQkJdGhpcy5jdXJyZW50UG93ZXJTaGVsbC5JbnZva2Uo
KTsKCQkJCQkJfQoJCQkJCX0KCQkJCQlmaW5hbGx5CgkJCQkJewoJCQkJCQlsb2NrICh0aGlzLmlu
c3RhbmNlTG9jaykKCQkJCQkJewoJCQkJCQkJdGhpcy5jdXJyZW50UG93ZXJTaGVsbC5EaXNwb3Nl
KCk7CgkJCQkJCQl0aGlzLmN1cnJlbnRQb3dlclNoZWxsID0gbnVsbDsKCQkJCQkJfQoJCQkJCX0K
CQkJCX0KCgkJCQlwdWJsaWMgYm9vbCBTaG91bGRFeGl0CgkJCQl7CgkJCQkJZ2V0IHsgcmV0dXJu
IHRoaXMuc2hvdWxkRXhpdDsgfQoJCQkJCXNldCB7IHRoaXMuc2hvdWxkRXhpdCA9IHZhbHVlOyB9
CgkJCQl9CgoJCQkJcHVibGljIGludCBFeGl0Q29kZQoJCQkJewoJCQkJCWdldCB7IHJldHVybiB0
aGlzLmV4aXRDb2RlOyB9CgkJCQkJc2V0IHsgdGhpcy5leGl0Q29kZSA9IHZhbHVlOyB9CgkJCQl9
CgoJCQkJcHVibGljIHZvaWQgQ29tbWFuZFNoZWxsKCkKCQkJCXsKCQkJCQlQb3dlckxpc3RlbmVy
Q29uc29sZSBsaXN0ZW5lciA9IG5ldyBQb3dlckxpc3RlbmVyQ29uc29sZSgpOwoJCQkJCWxpc3Rl
bmVyLkNvbW1hbmRQcm9tcHQoKTsKCQkJCX0KCgkJCQlwcml2YXRlIHZvaWQgZXhlY3V0ZUhlbHBl
cihzdHJpbmcgY21kLCBvYmplY3QgaW5wdXQpCgkJCQl7CgkJCQkJaWYgKFN0cmluZy5Jc051bGxP
ckVtcHR5KGNtZCkpCgkJCQkJewoJCQkJCQlyZXR1cm47CgkJCQkJfQoKCQkJCQlsb2NrICh0aGlz
Lmluc3RhbmNlTG9jaykKCQkJCQl7CgkJCQkJCXRoaXMuY3VycmVudFBvd2VyU2hlbGwgPSBQb3dl
clNoZWxsLkNyZWF0ZSgpOwoJCQkJCX0KCgkJCQkJdHJ5CgkJCQkJewoJCQkJCQl0aGlzLmN1cnJl
bnRQb3dlclNoZWxsLlJ1bnNwYWNlID0gdGhpcy5teVJ1blNwYWNlOwoJCQkJCQl0aGlzLmN1cnJl
bnRQb3dlclNoZWxsLkFkZFNjcmlwdChjbWQpOwoJCQkJCQl0aGlzLmN1cnJlbnRQb3dlclNoZWxs
LkFkZENvbW1hbmQoIm91dC1kZWZhdWx0Iik7CgkJCQkJCXRoaXMuY3VycmVudFBvd2VyU2hlbGwu
Q29tbWFuZHMuQ29tbWFuZHNbMF0uTWVyZ2VNeVJlc3VsdHMoUGlwZWxpbmVSZXN1bHRUeXBlcy5F
cnJvciwgUGlwZWxpbmVSZXN1bHRUeXBlcy5PdXRwdXQpOwoKCQkJCQkJaWYgKGlucHV0ICE9IG51
bGwpCgkJCQkJCXsKCQkJCQkJCXRoaXMuY3VycmVudFBvd2VyU2hlbGwuSW52b2tlKG5ldyBvYmpl
Y3RbXSB7IGlucHV0IH0pOwoJCQkJCQl9CgkJCQkJCWVsc2UKCQkJCQkJewoJCQkJCQkJdGhpcy5j
dXJyZW50UG93ZXJTaGVsbC5JbnZva2UoKTsKCQkJCQkJfQoJCQkJCX0KCQkJCQlmaW5hbGx5CgkJ
CQkJewoJCQkJCQlsb2NrICh0aGlzLmluc3RhbmNlTG9jaykKCQkJCQkJewoJCQkJCQkJdGhpcy5j
dXJyZW50UG93ZXJTaGVsbC5EaXNwb3NlKCk7CgkJCQkJCQl0aGlzLmN1cnJlbnRQb3dlclNoZWxs
ID0gbnVsbDsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCgkJCQlwcml2YXRlIHZvaWQgUmVwb3J0RXhj
ZXB0aW9uKEV4Y2VwdGlvbiBlKQoJCQkJewoJCQkJCWlmIChlICE9IG51bGwpCgkJCQkJewoJCQkJ
CQlvYmplY3QgZXJyb3I7CgkJCQkJCUlDb250YWluc0Vycm9yUmVjb3JkIGljZXIgPSBlIGFzIElD
b250YWluc0Vycm9yUmVjb3JkOwoJCQkJCQlpZiAoaWNlciAhPSBudWxsKQoJCQkJCQl7CgkJCQkJ
CQllcnJvciA9IGljZXIuRXJyb3JSZWNvcmQ7CgkJCQkJCX0KCQkJCQkJZWxzZQoJCQkJCQl7CgkJ
CQkJCQllcnJvciA9IChvYmplY3QpbmV3IEVycm9yUmVjb3JkKGUsICJIb3N0LlJlcG9ydEV4Y2Vw
dGlvbiIsIEVycm9yQ2F0ZWdvcnkuTm90U3BlY2lmaWVkLCBudWxsKTsKCQkJCQkJfQoKCQkJCQkJ
bG9jayAodGhpcy5pbnN0YW5jZUxvY2spCgkJCQkJCXsKCQkJCQkJCXRoaXMuY3VycmVudFBvd2Vy
U2hlbGwgPSBQb3dlclNoZWxsLkNyZWF0ZSgpOwoJCQkJCQl9CgoJCQkJCQl0aGlzLmN1cnJlbnRQ
b3dlclNoZWxsLlJ1bnNwYWNlID0gdGhpcy5teVJ1blNwYWNlOwoKCQkJCQkJdHJ5CgkJCQkJCXsK
CQkJCQkJCXRoaXMuY3VycmVudFBvd2VyU2hlbGwuQWRkU2NyaXB0KCIkaW5wdXQiKS5BZGRDb21t
YW5kKCJvdXQtc3RyaW5nIik7CgoJCQkJCQkJQ29sbGVjdGlvbjxQU09iamVjdD4gcmVzdWx0OwoJ
CQkJCQkJUFNEYXRhQ29sbGVjdGlvbjxvYmplY3Q+IGlucHV0Q29sbGVjdGlvbiA9IG5ldyBQU0Rh
dGFDb2xsZWN0aW9uPG9iamVjdD4oKTsKCQkJCQkJCWlucHV0Q29sbGVjdGlvbi5BZGQoZXJyb3Ip
OwoJCQkJCQkJaW5wdXRDb2xsZWN0aW9uLkNvbXBsZXRlKCk7CgkJCQkJCQlyZXN1bHQgPSB0aGlz
LmN1cnJlbnRQb3dlclNoZWxsLkludm9rZShpbnB1dENvbGxlY3Rpb24pOwoKCQkJCQkJCWlmIChy
ZXN1bHQuQ291bnQgPiAwKQoJCQkJCQkJewoJCQkJCQkJCXN0cmluZyBzdHIgPSByZXN1bHRbMF0u
QmFzZU9iamVjdCBhcyBzdHJpbmc7CgkJCQkJCQkJaWYgKCFzdHJpbmcuSXNOdWxsT3JFbXB0eShz
dHIpKQoJCQkJCQkJCXsKCQkJCQkJCQkJdGhpcy5teUhvc3QuVUkuV3JpdGVFcnJvckxpbmUoc3Ry
LlN1YnN0cmluZygwLCBzdHIuTGVuZ3RoIC0gMikpOwoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJ
fQoJCQkJCQlmaW5hbGx5CgkJCQkJCXsKCQkJCQkJCWxvY2sgKHRoaXMuaW5zdGFuY2VMb2NrKQoJ
CQkJCQkJewoJCQkJCQkJCXRoaXMuY3VycmVudFBvd2VyU2hlbGwuRGlzcG9zZSgpOwoJCQkJCQkJ
CXRoaXMuY3VycmVudFBvd2VyU2hlbGwgPSBudWxsOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJ
CQkJfQoKCQkJCXB1YmxpYyB2b2lkIEV4ZWN1dGUoc3RyaW5nIGNtZCkKCQkJCXsKCQkJCQl0cnkK
CQkJCQl7CgkJCQkJCXRoaXMuZXhlY3V0ZUhlbHBlcihjbWQsIG51bGwpOwoJCQkJCX0KCQkJCQlj
YXRjaCAoUnVudGltZUV4Y2VwdGlvbiBydGUpCgkJCQkJewoJCQkJCQl0aGlzLlJlcG9ydEV4Y2Vw
dGlvbihydGUpOwoJCQkJCX0KCQkJCX0KCgkJCQlwcml2YXRlIHZvaWQgSGFuZGxlQ29udHJvbEMo
b2JqZWN0IHNlbmRlciwgQ29uc29sZUNhbmNlbEV2ZW50QXJncyBlKQoJCQkJewoJCQkJCXRyeQoJ
CQkJCXsKCQkJCQkJbG9jayAodGhpcy5pbnN0YW5jZUxvY2spCgkJCQkJCXsKCQkJCQkJCWlmICh0
aGlzLmN1cnJlbnRQb3dlclNoZWxsICE9IG51bGwgJiYgdGhpcy5jdXJyZW50UG93ZXJTaGVsbC5J
bnZvY2F0aW9uU3RhdGVJbmZvLlN0YXRlID09IFBTSW52b2NhdGlvblN0YXRlLlJ1bm5pbmcpCgkJ
CQkJCQl7CgkJCQkJCQkJdGhpcy5jdXJyZW50UG93ZXJTaGVsbC5TdG9wKCk7CgkJCQkJCQl9CgkJ
CQkJCX0KCgkJCQkJCWUuQ2FuY2VsID0gdHJ1ZTsKCQkJCQl9CgkJCQkJY2F0Y2ggKEV4Y2VwdGlv
biBleGNlcHRpb24pCgkJCQkJewoJCQkJCQl0aGlzLm15SG9zdC5VSS5Xcml0ZUVycm9yTGluZShl
eGNlcHRpb24uVG9TdHJpbmcoKSk7CgkJCQkJfQoJCQkJfQoKCQkJCXByaXZhdGUgdm9pZCBDb21t
YW5kUHJvbXB0KCkKCQkJCXsKCQkJCQlpbnQgYnVmU2l6ZSA9IDgxOTI7CgkJCQkJU3RyZWFtIGlu
U3RyZWFtID0gQ29uc29sZS5PcGVuU3RhbmRhcmRJbnB1dChidWZTaXplKTsKCQkJCQlDb25zb2xl
LlNldEluKG5ldyBTdHJlYW1SZWFkZXIoaW5TdHJlYW0sIENvbnNvbGUuSW5wdXRFbmNvZGluZywg
ZmFsc2UsIGJ1ZlNpemUpKTsKCgkJCQkJQ29uc29sZS5DYW5jZWxLZXlQcmVzcyArPSBuZXcgQ29u
c29sZUNhbmNlbEV2ZW50SGFuZGxlcih0aGlzLkhhbmRsZUNvbnRyb2xDKTsKCQkJCQlDb25zb2xl
LlRyZWF0Q29udHJvbENBc0lucHV0ID0gZmFsc2U7CgoJCQkJCXdoaWxlICghdGhpcy5TaG91bGRF
eGl0KQoJCQkJCXsKCQkJCQkJc3RyaW5nIHByb21wdDsKCQkJCQkJaWYgKHRoaXMubXlIb3N0Lklz
UnVuc3BhY2VQdXNoZWQpCgkJCQkJCXsKCQkJCQkJCXByb21wdCA9IHN0cmluZy5Gb3JtYXQoIlt7
MH1dOiBQUz4gIiwgdGhpcy5teVJ1blNwYWNlLkNvbm5lY3Rpb25JbmZvLkNvbXB1dGVyTmFtZSk7
CgkJCQkJCX0KCQkJCQkJZWxzZQoJCQkJCQl7CgkJCQkJCQlwcm9tcHQgPSBzdHJpbmcuRm9ybWF0
KCJQUyB7MH0+ICIsIHRoaXMubXlSdW5TcGFjZS5TZXNzaW9uU3RhdGVQcm94eS5QYXRoLkN1cnJl
bnRGaWxlU3lzdGVtTG9jYXRpb24uUGF0aCk7CgkJCQkJCX0KCgkJCQkJCXRoaXMubXlIb3N0LlVJ
LldyaXRlKHByb21wdCk7CgkJCQkJCXN0cmluZyBjbWQgPSBDb25zb2xlLlJlYWRMaW5lKCk7CgkJ
CQkJCWlmIChjbWQgPT0gImV4aXQiIHx8IGNtZCA9PSAicXVpdCIpCgkJCQkJCXsKCQkJCQkJCXJl
dHVybjsKCQkJCQkJfQoJCQkJCQllbHNlIGlmIChjbWQgPT0gImNscyIpCgkJCQkJCXsKCQkJCQkJ
CUNvbnNvbGUuQ2xlYXIoKTsKCQkJCQkJfQoJCQkJCQllbHNlCgkJCQkJCXsKCQkJCQkJCXRyeQoJ
CQkJCQkJewoJCQkJCQkJCXRoaXMuRXhlY3V0ZShjbWQpOwoJCQkJCQkJfQoJCQkJCQkJY2F0Y2gg
KEV4Y2VwdGlvbiBlKQoJCQkJCQkJewoJCQkJCQkJCUNvbnNvbGUuV3JpdGVMaW5lKGUuTWVzc2Fn
ZSk7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgoJCQkJfQoJCQl9CgoKCQkJaW50ZXJuYWwgY2xh
c3MgTXlIb3N0IDogUFNIb3N0LCBJSG9zdFN1cHBvcnRzSW50ZXJhY3RpdmVTZXNzaW9uCgkJCXsK
CQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBBIHJlZmVyZW5jZSB0byB0aGUgcnVuc3BhY2UgdXNl
ZCB0byBzdGFydCBhbiBpbnRlcmFjdGl2ZSBzZXNzaW9uLgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJ
CXB1YmxpYyBSdW5zcGFjZSBwdXNoZWRSdW5zcGFjZSA9IG51bGw7CgoJCQkJLy8vIDxzdW1tYXJ5
PgoJCQkJLy8vIEluaXRpYWxpemVzIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBNeUhvc3QgY2xhc3Mu
IEtlZXAgYSByZWZlcmVuY2UgCgkJCQkvLy8gdG8gdGhlIGhvc3QgYXBwbGljYXRpb24gb2JqZWN0
IHNvIHRoYXQgaXQgY2FuIGJlIGluZm9ybWVkIHdoZW4gCgkJCQkvLy8gdG8gZXhpdC4KCQkJCS8v
LyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InByb2dyYW0iPkEgcmVmZXJlbmNlIHRv
IHRoZSBob3N0IGFwcGxpY2F0aW9uIG9iamVjdC48L3BhcmFtPgoJCQkJcHVibGljIE15SG9zdChQ
b3dlckxpc3RlbmVyQ29uc29sZSBwcm9ncmFtKQoJCQkJewoJCQkJCXRoaXMucHJvZ3JhbSA9IHBy
b2dyYW07CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIFRoZSBpZGVudGlmaWVyIG9m
IHRoaXMgaW5zdGFuY2Ugb2YgdGhlIGhvc3QgaW1wbGVtZW50YXRpb24uCgkJCQkvLy8gPC9zdW1t
YXJ5PgoJCQkJcHJpdmF0ZSBzdGF0aWMgR3VpZCBpbnN0YW5jZUlkID0gR3VpZC5OZXdHdWlkKCk7
CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIEEgcmVmZXJlbmNlIHRvIHRoZSBQU0hvc3QgaW1w
bGVtZW50YXRpb24uCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJcHJpdmF0ZSBQb3dlckxpc3RlbmVy
Q29uc29sZSBwcm9ncmFtOwoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBUaGUgY3VsdHVyZSBp
bmZvcm1hdGlvbiBvZiB0aGUgdGhyZWFkIHRoYXQgY3JlYXRlZCB0aGlzIG9iamVjdC4KCQkJCS8v
LyA8L3N1bW1hcnk+CgkJCQlwcml2YXRlIEN1bHR1cmVJbmZvIG9yaWdpbmFsQ3VsdHVyZUluZm8g
PSBTeXN0ZW0uVGhyZWFkaW5nLlRocmVhZC5DdXJyZW50VGhyZWFkLkN1cnJlbnRDdWx0dXJlOwoK
CQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBUaGUgVUkgY3VsdHVyZSBpbmZvcm1hdGlvbiBvZiB0
aGUgdGhyZWFkIHRoYXQgY3JlYXRlZCB0aGlzIG9iamVjdC4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJ
CQlwcml2YXRlIEN1bHR1cmVJbmZvIG9yaWdpbmFsVUlDdWx0dXJlSW5mbyA9IFN5c3RlbS5UaHJl
YWRpbmcuVGhyZWFkLkN1cnJlbnRUaHJlYWQuQ3VycmVudFVJQ3VsdHVyZTsKCgkJCQkvLy8gPHN1
bW1hcnk+CgkJCQkvLy8gQSByZWZlcmVuY2UgdG8gdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBQ
U0hvc3RVc2VySW50ZXJmYWNlCgkJCQkvLy8gY2xhc3MgZm9yIHRoaXMgYXBwbGljYXRpb24uCgkJ
CQkvLy8gPC9zdW1tYXJ5PgoJCQkJcHJpdmF0ZSBNeUhvc3RVc2VySW50ZXJmYWNlIG15SG9zdFVz
ZXJJbnRlcmZhY2UgPSBuZXcgTXlIb3N0VXNlckludGVyZmFjZSgpOwoKCQkJCS8vLyA8c3VtbWFy
eT4KCQkJCS8vLyBHZXRzIHRoZSBjdWx0dXJlIGluZm9ybWF0aW9uIHRvIHVzZS4gVGhpcyBpbXBs
ZW1lbnRhdGlvbiB0YWtlcyBhIAoJCQkJLy8vIHNuYXBzaG90IG9mIHRoZSBjdWx0dXJlIGluZm9y
bWF0aW9uIG9mIHRoZSB0aHJlYWQgdGhhdCBjcmVhdGVkIAoJCQkJLy8vIHRoaXMgb2JqZWN0LgoJ
CQkJLy8vIDwvc3VtbWFyeT4KCQkJCXB1YmxpYyBvdmVycmlkZSBDdWx0dXJlSW5mbyBDdXJyZW50
Q3VsdHVyZQoJCQkJewoJCQkJCWdldCB7IHJldHVybiB0aGlzLm9yaWdpbmFsQ3VsdHVyZUluZm87
IH0KCQkJCX0KCgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gR2V0cyB0aGUgVUkgY3VsdHVyZSBp
bmZvcm1hdGlvbiB0byB1c2UuIFRoaXMgaW1wbGVtZW50YXRpb24gdGFrZXMgCgkJCQkvLy8gc25h
cHNob3Qgb2YgdGhlIFVJIGN1bHR1cmUgaW5mb3JtYXRpb24gb2YgdGhlIHRocmVhZCB0aGF0IGNy
ZWF0ZWQgCgkJCQkvLy8gdGhpcyBvYmplY3QuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJcHVibGlj
IG92ZXJyaWRlIEN1bHR1cmVJbmZvIEN1cnJlbnRVSUN1bHR1cmUKCQkJCXsKCQkJCQlnZXQgeyBy
ZXR1cm4gdGhpcy5vcmlnaW5hbFVJQ3VsdHVyZUluZm87IH0KCQkJCX0KCgkJCQkvLy8gPHN1bW1h
cnk+CgkJCQkvLy8gR2V0cyB0aGUgaWRlbnRpZmllciBvZiB0aGlzIGluc3RhbmNlIG9mIHRoZSBo
b3N0IGltcGxlbWVudGF0aW9uLiAKCQkJCS8vLyBUaGlzIGltcGxlbWVudGF0aW9uIGFsd2F5cyBy
ZXR1cm5zIHRoZSBHVUlEIGFsbG9jYXRlZCBhdCAKCQkJCS8vLyBpbnN0YW50aWF0aW9uIHRpbWUu
CgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJcHVibGljIG92ZXJyaWRlIEd1aWQgSW5zdGFuY2VJZAoJ
CQkJewoJCQkJCWdldCB7IHJldHVybiBpbnN0YW5jZUlkOyB9CgkJCQl9CgoJCQkJLy8vIDxzdW1t
YXJ5PgoJCQkJLy8vIEdldHMgdGhlIG5hbWUgb2YgdGhlIGhvc3QgaW1wbGVtZW50YXRpb24uIFRo
aXMgc3RyaW5nIG1heSBiZSB1c2VkIAoJCQkJLy8vIGJ5IHNjcmlwdCB3cml0ZXJzIHRvIGlkZW50
aWZ5IHdoZW4gdGhpcyBob3N0IGlzIGJlaW5nIHVzZWQuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJ
cHVibGljIG92ZXJyaWRlIHN0cmluZyBOYW1lCgkJCQl7CgkJCQkJZ2V0IHsgcmV0dXJuICJNU0J1
aWxkU2hlbGwiOyB9CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIEdldHMgYW4gaW5z
dGFuY2Ugb2YgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBQU0hvc3RVc2VySW50ZXJmYWNlIGNs
YXNzIAoJCQkJLy8vIGZvciB0aGlzIGFwcGxpY2F0aW9uLiBUaGlzIGluc3RhbmNlIGlzIGFsbG9j
YXRlZCBvbmNlIGF0IHN0YXJ0dXAgdGltZQoJCQkJLy8vIGFuZCByZXR1cm5lZCBldmVyeSB0aW1l
IHRoZXJlYWZ0ZXIuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJcHVibGljIG92ZXJyaWRlIFBTSG9z
dFVzZXJJbnRlcmZhY2UgVUkKCQkJCXsKCQkJCQlnZXQgeyByZXR1cm4gdGhpcy5teUhvc3RVc2Vy
SW50ZXJmYWNlOyB9CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIEdldHMgdGhlIHZl
cnNpb24gb2JqZWN0IGZvciB0aGlzIGhvc3QgYXBwbGljYXRpb24uIFR5cGljYWxseSAKCQkJCS8v
LyB0aGlzIHNob3VsZCBtYXRjaCB0aGUgdmVyc2lvbiByZXNvdXJjZSBpbiB0aGUgYXBwbGljYXRp
b24uCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJcHVibGljIG92ZXJyaWRlIFZlcnNpb24gVmVyc2lv
bgoJCQkJewoJCQkJCWdldCB7IHJldHVybiBuZXcgVmVyc2lvbigxLCAwLCAwLCAwKTsgfQoJCQkJ
fQoKCQkJCSNyZWdpb24gSUhvc3RTdXBwb3J0c0ludGVyYWN0aXZlU2Vzc2lvbiBQcm9wZXJ0aWVz
CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRo
ZXIgYSByZXF1ZXN0IAoJCQkJLy8vIHRvIG9wZW4gYSBQU1Nlc3Npb24gaGFzIGJlZW4gbWFkZS4K
CQkJCS8vLyA8L3N1bW1hcnk+CgkJCQlwdWJsaWMgYm9vbCBJc1J1bnNwYWNlUHVzaGVkCgkJCQl7
CgkJCQkJZ2V0IHsgcmV0dXJuIHRoaXMucHVzaGVkUnVuc3BhY2UgIT0gbnVsbDsgfQoJCQkJfQoK
CQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBHZXRzIG9yIHNldHMgdGhlIHJ1bnNwYWNlIHVzZWQg
YnkgdGhlIFBTU2Vzc2lvbi4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQlwdWJsaWMgUnVuc3BhY2Ug
UnVuc3BhY2UKCQkJCXsKCQkJCQlnZXQgeyByZXR1cm4gdGhpcy5wcm9ncmFtLm15UnVuU3BhY2U7
IH0KCQkJCQlpbnRlcm5hbCBzZXQgeyB0aGlzLnByb2dyYW0ubXlSdW5TcGFjZSA9IHZhbHVlOyB9
CgkJCQl9CgkJCQkjZW5kcmVnaW9uIElIb3N0U3VwcG9ydHNJbnRlcmFjdGl2ZVNlc3Npb24gUHJv
cGVydGllcwoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBJbnN0cnVjdHMgdGhlIGhvc3QgdG8g
aW50ZXJydXB0IHRoZSBjdXJyZW50bHkgcnVubmluZyBwaXBlbGluZSAKCQkJCS8vLyBhbmQgc3Rh
cnQgYSBuZXcgbmVzdGVkIGlucHV0IGxvb3AuIE5vdCBpbXBsZW1lbnRlZCBieSB0aGlzIGV4YW1w
bGUgY2xhc3MuIAoJCQkJLy8vIFRoZSBjYWxsIGZhaWxzIHdpdGggYW4gZXhjZXB0aW9uLgoJCQkJ
Ly8vIDwvc3VtbWFyeT4KCQkJCXB1YmxpYyBvdmVycmlkZSB2b2lkIEVudGVyTmVzdGVkUHJvbXB0
KCkKCQkJCXsKCQkJCQl0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFeGNlcHRpb24oIkNhbm5vdCBz
dXNwZW5kIHRoZSBzaGVsbCwgRW50ZXJOZXN0ZWRQcm9tcHQoKSBtZXRob2QgaXMgbm90IGltcGxl
bWVudGVkIGJ5IE15SG9zdC4iKTsKCQkJCX0KCgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gSW5z
dHJ1Y3RzIHRoZSBob3N0IHRvIGV4aXQgdGhlIGN1cnJlbnRseSBydW5uaW5nIGlucHV0IGxvb3Au
IE5vdCAKCQkJCS8vLyBpbXBsZW1lbnRlZCBieSB0aGlzIGV4YW1wbGUgY2xhc3MuIFRoZSBjYWxs
IGZhaWxzIHdpdGggYW4gCgkJCQkvLy8gZXhjZXB0aW9uLgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJ
CXB1YmxpYyBvdmVycmlkZSB2b2lkIEV4aXROZXN0ZWRQcm9tcHQoKQoJCQkJewoJCQkJCXRocm93
IG5ldyBOb3RJbXBsZW1lbnRlZEV4Y2VwdGlvbigiVGhlIEV4aXROZXN0ZWRQcm9tcHQoKSBtZXRo
b2QgaXMgbm90IGltcGxlbWVudGVkIGJ5IE15SG9zdC4iKTsKCQkJCX0KCgkJCQkvLy8gPHN1bW1h
cnk+CgkJCQkvLy8gTm90aWZpZXMgdGhlIGhvc3QgdGhhdCB0aGUgV2luZG93cyBQb3dlclNoZWxs
IHJ1bnRpbWUgaXMgYWJvdXQgdG8gCgkJCQkvLy8gZXhlY3V0ZSBhIGxlZ2FjeSBjb21tYW5kLWxp
bmUgYXBwbGljYXRpb24uIFR5cGljYWxseSBpdCBpcyB1c2VkIAoJCQkJLy8vIHRvIHJlc3RvcmUg
c3RhdGUgdGhhdCB3YXMgY2hhbmdlZCBieSBhIGNoaWxkIHByb2Nlc3MgYWZ0ZXIgdGhlIAoJCQkJ
Ly8vIGNoaWxkIGV4aXRzLiBUaGlzIGltcGxlbWVudGF0aW9uIGRvZXMgbm90aGluZyBhbmQgc2lt
cGx5IHJldHVybnMuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJcHVibGljIG92ZXJyaWRlIHZvaWQg
Tm90aWZ5QmVnaW5BcHBsaWNhdGlvbigpCgkJCQl7CgkJCQkJcmV0dXJuOyAgLy8gRG8gbm90aGlu
Zy4KCQkJCX0KCgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gTm90aWZpZXMgdGhlIGhvc3QgdGhh
dCB0aGUgV2luZG93cyBQb3dlclNoZWxsIGVuZ2luZSBoYXMgCgkJCQkvLy8gY29tcGxldGVkIHRo
ZSBleGVjdXRpb24gb2YgYSBsZWdhY3kgY29tbWFuZC4gVHlwaWNhbGx5IGl0IAoJCQkJLy8vIGlz
IHVzZWQgdG8gcmVzdG9yZSBzdGF0ZSB0aGF0IHdhcyBjaGFuZ2VkIGJ5IGEgY2hpbGQgcHJvY2Vz
cyAKCQkJCS8vLyBhZnRlciB0aGUgY2hpbGQgZXhpdHMuIFRoaXMgaW1wbGVtZW50YXRpb24gZG9l
cyBub3RoaW5nIGFuZCAKCQkJCS8vLyBzaW1wbHkgcmV0dXJucy4KCQkJCS8vLyA8L3N1bW1hcnk+
CgkJCQlwdWJsaWMgb3ZlcnJpZGUgdm9pZCBOb3RpZnlFbmRBcHBsaWNhdGlvbigpCgkJCQl7CgkJ
CQkJcmV0dXJuOyAvLyBEbyBub3RoaW5nLgoJCQkJfQoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8v
LyBJbmRpY2F0ZSB0byB0aGUgaG9zdCBhcHBsaWNhdGlvbiB0aGF0IGV4aXQgaGFzCgkJCQkvLy8g
YmVlbiByZXF1ZXN0ZWQuIFBhc3MgdGhlIGV4aXQgY29kZSB0aGF0IHRoZSBob3N0CgkJCQkvLy8g
YXBwbGljYXRpb24gc2hvdWxkIHVzZSB3aGVuIGV4aXRpbmcgdGhlIHByb2Nlc3MuCgkJCQkvLy8g
PC9zdW1tYXJ5PgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJleGl0Q29kZSI+VGhlIGV4aXQgY29kZSB0
aGF0IHRoZSBob3N0IGFwcGxpY2F0aW9uIHNob3VsZCB1c2UuPC9wYXJhbT4KCQkJCXB1YmxpYyBv
dmVycmlkZSB2b2lkIFNldFNob3VsZEV4aXQoaW50IGV4aXRDb2RlKQoJCQkJewoJCQkJCXRoaXMu
cHJvZ3JhbS5TaG91bGRFeGl0ID0gdHJ1ZTsKCQkJCQl0aGlzLnByb2dyYW0uRXhpdENvZGUgPSBl
eGl0Q29kZTsKCQkJCX0KCgkJCQkjcmVnaW9uIElIb3N0U3VwcG9ydHNJbnRlcmFjdGl2ZVNlc3Np
b24gTWV0aG9kcwoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBSZXF1ZXN0cyB0byBjbG9zZSBh
IFBTU2Vzc2lvbi4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQlwdWJsaWMgdm9pZCBQb3BSdW5zcGFj
ZSgpCgkJCQl7CgkJCQkJUnVuc3BhY2UgPSB0aGlzLnB1c2hlZFJ1bnNwYWNlOwoJCQkJCXRoaXMu
cHVzaGVkUnVuc3BhY2UgPSBudWxsOwoJCQkJfQoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBS
ZXF1ZXN0cyB0byBvcGVuIGEgUFNTZXNzaW9uLgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCS8vLyA8
cGFyYW0gbmFtZT0icnVuc3BhY2UiPlJ1bnNwYWNlIHRvIHVzZS48L3BhcmFtPgoJCQkJcHVibGlj
IHZvaWQgUHVzaFJ1bnNwYWNlKFJ1bnNwYWNlIHJ1bnNwYWNlKQoJCQkJewoJCQkJCXRoaXMucHVz
aGVkUnVuc3BhY2UgPSBSdW5zcGFjZTsKCQkJCQlSdW5zcGFjZSA9IHJ1bnNwYWNlOwoJCQkJfQoK
CQkJCSNlbmRyZWdpb24gSUhvc3RTdXBwb3J0c0ludGVyYWN0aXZlU2Vzc2lvbiBNZXRob2RzCgkJ
CX0KCgoJCQlpbnRlcm5hbCBjbGFzcyBNeUhvc3RVc2VySW50ZXJmYWNlIDogUFNIb3N0VXNlcklu
dGVyZmFjZSwgSUhvc3RVSVN1cHBvcnRzTXVsdGlwbGVDaG9pY2VTZWxlY3Rpb24KCQkJewoJCQkJ
W0RsbEltcG9ydCgib2xlMzIuZGxsIildCgkJCQlwdWJsaWMgc3RhdGljIGV4dGVybiB2b2lkIENv
VGFza01lbUZyZWUoSW50UHRyIHB0cik7CgoJCQkJW0RsbEltcG9ydCgiY3JlZHVpLmRsbCIsIENo
YXJTZXQgPSBDaGFyU2V0LkF1dG8pXQoJCQkJcHJpdmF0ZSBzdGF0aWMgZXh0ZXJuIGludCBDcmVk
VUlQcm9tcHRGb3JXaW5kb3dzQ3JlZGVudGlhbHMocmVmIENSRURVSV9JTkZPIG5vdFVzZWRIZXJl
LCBpbnQgYXV0aEVycm9yLCByZWYgdWludCBhdXRoUGFja2FnZSwgSW50UHRyIEluQXV0aEJ1ZmZl
ciwgdWludCBJbkF1dGhCdWZmZXJTaXplLCBvdXQgSW50UHRyIHJlZk91dEF1dGhCdWZmZXIsIG91
dCB1aW50IHJlZk91dEF1dGhCdWZmZXJTaXplLCByZWYgYm9vbCBmU2F2ZSwgaW50IGZsYWdzKTsK
CgkJCQlbRGxsSW1wb3J0KCJjcmVkdWkuZGxsIiwgQ2hhclNldCA9IENoYXJTZXQuQXV0byldCgkJ
CQlwcml2YXRlIHN0YXRpYyBleHRlcm4gYm9vbCBDcmVkVW5QYWNrQXV0aGVudGljYXRpb25CdWZm
ZXIoaW50IGR3RmxhZ3MsIEludFB0ciBwQXV0aEJ1ZmZlciwgdWludCBjYkF1dGhCdWZmZXIsIFN0
cmluZ0J1aWxkZXIgcHN6VXNlck5hbWUsIHJlZiBpbnQgcGNjaE1heFVzZXJOYW1lLCBTdHJpbmdC
dWlsZGVyIHBzekRvbWFpbk5hbWUsIHJlZiBpbnQgcGNjaE1heERvbWFpbmFtZSwgU3RyaW5nQnVp
bGRlciBwc3pQYXNzd29yZCwgcmVmIGludCBwY2NoTWF4UGFzc3dvcmQpOwoKCQkJCVtTdHJ1Y3RM
YXlvdXQoTGF5b3V0S2luZC5TZXF1ZW50aWFsLCBDaGFyU2V0ID0gQ2hhclNldC5BdXRvKV0KCQkJ
CXByaXZhdGUgc3RydWN0IENSRURVSV9JTkZPCgkJCQl7CgkJCQkJcHVibGljIGludCBjYlNpemU7
CgkJCQkJcHVibGljIEludFB0ciBod25kUGFyZW50OwoJCQkJCXB1YmxpYyBzdHJpbmcgcHN6TWVz
c2FnZVRleHQ7CgkJCQkJcHVibGljIHN0cmluZyBwc3pDYXB0aW9uVGV4dDsKCQkJCQlwdWJsaWMg
SW50UHRyIGhibUJhbm5lcjsKCQkJCX0KCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBBIHJlZmVy
ZW5jZSB0byB0aGUgTXlSYXdVc2VySW50ZXJmYWNlIGltcGxlbWVudGF0aW9uLgoJCQkJLy8vIDwv
c3VtbWFyeT4KCQkJCXByaXZhdGUgTXlSYXdVc2VySW50ZXJmYWNlIG15UmF3VWkgPSBuZXcgTXlS
YXdVc2VySW50ZXJmYWNlKCk7CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIEdldHMgYW4gaW5z
dGFuY2Ugb2YgdGhlIFBTUmF3VXNlckludGVyZmFjZSBvYmplY3QgZm9yIHRoaXMgaG9zdAoJCQkJ
Ly8vIGFwcGxpY2F0aW9uLgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCXB1YmxpYyBvdmVycmlkZSBQ
U0hvc3RSYXdVc2VySW50ZXJmYWNlIFJhd1VJCgkJCQl7CgkJCQkJZ2V0IHsgcmV0dXJuIHRoaXMu
bXlSYXdVaTsgfQoJCQkJfQoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBQcm9tcHRzIHRoZSB1
c2VyIGZvciBpbnB1dC4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImNh
cHRpb24iPlRleHQgdGhhdCBwcmVjZWVkcyB0aGUgcHJvbXB0IChhIHRpdGxlKS48L3BhcmFtPgoJ
CQkJLy8vIDxwYXJhbSBuYW1lPSJtZXNzYWdlIj5UZXh0IG9mIHRoZSBwcm9tcHQuPC9wYXJhbT4K
CQkJCS8vLyA8cGFyYW0gbmFtZT0iZGVzY3JpcHRpb25zIj5BIGNvbGxlY3Rpb24gb2YgRmllbGRE
ZXNjcmlwdGlvbiBvYmplY3RzIAoJCQkJLy8vIHRoYXQgY29udGFpbnMgdGhlIHVzZXIgaW5wdXQu
PC9wYXJhbT4KCQkJCS8vLyA8cmV0dXJucz5BIGRpY3Rpb25hcnkgb2JqZWN0IHRoYXQgY29udGFp
bnMgdGhlIHJlc3VsdHMgb2YgdGhlIHVzZXIgcHJvbXB0cy48L3JldHVybnM+CgkJCQlwdWJsaWMg
b3ZlcnJpZGUgRGljdGlvbmFyeTxzdHJpbmcsIFBTT2JqZWN0PiBQcm9tcHQoCgkJCQkJCQkgICBz
dHJpbmcgY2FwdGlvbiwKCQkJCQkJCSAgIHN0cmluZyBtZXNzYWdlLAoJCQkJCQkJICAgQ29sbGVj
dGlvbjxGaWVsZERlc2NyaXB0aW9uPiBkZXNjcmlwdGlvbnMpCgkJCQl7CgkJCQkJdGhpcy5Xcml0
ZSgKCQkJCQkJICBDb25zb2xlQ29sb3IuQmx1ZSwKCQkJCQkJICBDb25zb2xlQ29sb3IuQmxhY2ss
CgkJCQkJCSAgY2FwdGlvbiArICJcbiIgKyBtZXNzYWdlICsgIiAiKTsKCQkJCQlEaWN0aW9uYXJ5
PHN0cmluZywgUFNPYmplY3Q+IHJlc3VsdHMgPQoJCQkJCQluZXcgRGljdGlvbmFyeTxzdHJpbmcs
IFBTT2JqZWN0PigpOwoJCQkJCWZvcmVhY2ggKEZpZWxkRGVzY3JpcHRpb24gZmQgaW4gZGVzY3Jp
cHRpb25zKQoJCQkJCXsKCQkJCQkJc3RyaW5nW10gbGFiZWwgPSBHZXRIb3RrZXlBbmRMYWJlbChm
ZC5MYWJlbCk7CgkJCQkJCXRoaXMuV3JpdGVMaW5lKGxhYmVsWzFdKTsKCQkJCQkJc3RyaW5nIHVz
ZXJEYXRhID0gQ29uc29sZS5SZWFkTGluZSgpOwoJCQkJCQlpZiAodXNlckRhdGEgPT0gbnVsbCkK
CQkJCQkJewoJCQkJCQkJcmV0dXJuIG51bGw7CgkJCQkJCX0KCgkJCQkJCXJlc3VsdHNbZmQuTmFt
ZV0gPSBQU09iamVjdC5Bc1BTT2JqZWN0KHVzZXJEYXRhKTsKCQkJCQl9CgoJCQkJCXJldHVybiBy
ZXN1bHRzOwoJCQkJfQoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBQcm92aWRlcyBhIHNldCBv
ZiBjaG9pY2VzIHRoYXQgZW5hYmxlIHRoZSB1c2VyIHRvIGNob29zZSBhIHNpbmdsZSBvcHRpb24g
CgkJCQkvLy8gZnJvbSBhIHNldCBvZiBvcHRpb25zLiAKCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkv
Ly8gPHBhcmFtIG5hbWU9ImNhcHRpb24iPkEgdGl0bGUgdGhhdCBwcm9jZWVkcyB0aGUgY2hvaWNl
cy48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJtZXNzYWdlIj5BbiBpbnRyb2R1Y3Rpb24g
IG1lc3NhZ2UgdGhhdCBkZXNjcmliZXMgdGhlIAoJCQkJLy8vIGNob2ljZXMuPC9wYXJhbT4KCQkJ
CS8vLyA8cGFyYW0gbmFtZT0iY2hvaWNlcyI+QSBjb2xsZWN0aW9uIG9mIENob2ljZURlc2NyaXB0
aW9uIG9iamVjdHMgdGhhdCBkZXNjcmliIAoJCQkJLy8vIGVhY2ggY2hvaWNlLjwvcGFyYW0+CgkJ
CQkvLy8gPHBhcmFtIG5hbWU9ImRlZmF1bHRDaG9pY2UiPlRoZSBpbmRleCBvZiB0aGUgbGFiZWwg
aW4gdGhlIENob2ljZXMgcGFyYW1ldGVyIAoJCQkJLy8vIGNvbGxlY3Rpb24gdGhhdCBpbmRpY2F0
ZXMgdGhlIGRlZmF1bHQgY2hvaWNlIHVzZWQgaWYgdGhlIHVzZXIgZG9lcyBub3Qgc3BlY2lmeSAK
CQkJCS8vLyBhIGNob2ljZS4gVG8gaW5kaWNhdGUgbm8gZGVmYXVsdCBjaG9pY2UsIHNldCB0byAt
MS48L3BhcmFtPgoJCQkJLy8vIDxyZXR1cm5zPlRoZSBpbmRleCBvZiB0aGUgQ2hvaWNlcyBwYXJh
bWV0ZXIgY29sbGVjdGlvbiBlbGVtZW50IHRoYXQgY29ycmVzcG9uZHMgCgkJCQkvLy8gdG8gdGhl
IG9wdGlvbiB0aGF0IGlzIHNlbGVjdGVkIGJ5IHRoZSB1c2VyLjwvcmV0dXJucz4KCQkJCXB1Ymxp
YyBvdmVycmlkZSBpbnQgUHJvbXB0Rm9yQ2hvaWNlKAoJCQkJCQkJCQkJCQkJc3RyaW5nIGNhcHRp
b24sCgkJCQkJCQkJCQkJCQlzdHJpbmcgbWVzc2FnZSwKCQkJCQkJCQkJCQkJCUNvbGxlY3Rpb248
Q2hvaWNlRGVzY3JpcHRpb24+IGNob2ljZXMsCgkJCQkJCQkJCQkJCQlpbnQgZGVmYXVsdENob2lj
ZSkKCQkJCXsKCQkJCQkvLyBXcml0ZSB0aGUgY2FwdGlvbiBhbmQgbWVzc2FnZSBzdHJpbmdzIGlu
IEJsdWUuCgkJCQkJdGhpcy5Xcml0ZUxpbmUoCgkJCQkJCQkJICAgQ29uc29sZUNvbG9yLkJsdWUs
CgkJCQkJCQkJICAgQ29uc29sZUNvbG9yLkJsYWNrLAoJCQkJCQkJCSAgIGNhcHRpb24gKyAiXG4i
ICsgbWVzc2FnZSArICJcbiIpOwoKCQkJCQkvLyBDb252ZXJ0IHRoZSBjaG9pY2UgY29sbGVjdGlv
biBpbnRvIHNvbWV0aGluZyB0aGF0J3MgYQoJCQkJCS8vIGxpdHRsZSBlYXNpZXIgdG8gd29yayB3
aXRoCgkJCQkJLy8gU2VlIHRoZSBCdWlsZEhvdGtleXNBbmRQbGFpbkxhYmVscyBtZXRob2QgZm9y
IGRldGFpbHMuCgkJCQkJc3RyaW5nWyxdIHByb21wdERhdGEgPSBCdWlsZEhvdGtleXNBbmRQbGFp
bkxhYmVscyhjaG9pY2VzKTsKCgkJCQkJLy8gRm9ybWF0IHRoZSBvdmVyYWxsIGNob2ljZSBwcm9t
cHQgc3RyaW5nIHRvIGRpc3BsYXkuLi4KCQkJCQlTdHJpbmdCdWlsZGVyIHNiID0gbmV3IFN0cmlu
Z0J1aWxkZXIoKTsKCQkJCQlmb3IgKGludCBlbGVtZW50ID0gMDsgZWxlbWVudCA8IGNob2ljZXMu
Q291bnQ7IGVsZW1lbnQrKykKCQkJCQl7CgkJCQkJCXNiLkFwcGVuZChTdHJpbmcuRm9ybWF0KAoJ
CQkJCQkJCQkJCQlDdWx0dXJlSW5mby5DdXJyZW50Q3VsdHVyZSwKCQkJCQkJCQkJCQkJInx7MH0+
IHsxfSAiLAoJCQkJCQkJCQkJCQlwcm9tcHREYXRhWzAsIGVsZW1lbnRdLAoJCQkJCQkJCQkJCQlw
cm9tcHREYXRhWzEsIGVsZW1lbnRdKSk7CgkJCQkJfQoKCQkJCQlzYi5BcHBlbmQoU3RyaW5nLkZv
cm1hdCgKCQkJCQkJCQkJCQlDdWx0dXJlSW5mby5DdXJyZW50Q3VsdHVyZSwKCQkJCQkJCQkJCQki
W0RlZmF1bHQgaXMgKHswfV0iLAoJCQkJCQkJCQkJCXByb21wdERhdGFbMCwgZGVmYXVsdENob2lj
ZV0pKTsKCgkJCQkJLy8gbG9vcCByZWFkaW5nIHByb21wdHMgdW50aWwgYSBtYXRjaCBpcyBtYWRl
LCB0aGUgZGVmYXVsdCBpcwoJCQkJCS8vIGNob3NlbiBvciB0aGUgbG9vcCBpcyBpbnRlcnJ1cHRl
ZCB3aXRoIGN0cmwtQy4KCQkJCQl3aGlsZSAodHJ1ZSkKCQkJCQl7CgkJCQkJCXRoaXMuV3JpdGVM
aW5lKENvbnNvbGVDb2xvci5DeWFuLCBDb25zb2xlQ29sb3IuQmxhY2ssIHNiLlRvU3RyaW5nKCkp
OwoJCQkJCQlzdHJpbmcgZGF0YSA9IENvbnNvbGUuUmVhZExpbmUoKS5UcmltKCkuVG9VcHBlcihD
dWx0dXJlSW5mby5DdXJyZW50Q3VsdHVyZSk7CgoJCQkJCQkvLyBpZiB0aGUgY2hvaWNlIHN0cmlu
ZyB3YXMgZW1wdHksIHVzZSB0aGUgZGVmYXVsdCBzZWxlY3Rpb24KCQkJCQkJaWYgKGRhdGEuTGVu
Z3RoID09IDApCgkJCQkJCXsKCQkJCQkJCXJldHVybiBkZWZhdWx0Q2hvaWNlOwoJCQkJCQl9CgoJ
CQkJCQkvLyBzZWUgaWYgdGhlIHNlbGVjdGlvbiBtYXRjaGVkIGFuZCByZXR1cm4gdGhlCgkJCQkJ
CS8vIGNvcnJlc3BvbmRpbmcgaW5kZXggaWYgaXQgZGlkLi4uCgkJCQkJCWZvciAoaW50IGkgPSAw
OyBpIDwgY2hvaWNlcy5Db3VudDsgaSsrKQoJCQkJCQl7CgkJCQkJCQlpZiAocHJvbXB0RGF0YVsw
LCBpXSA9PSBkYXRhKQoJCQkJCQkJewoJCQkJCQkJCXJldHVybiBpOwoJCQkJCQkJfQoJCQkJCQl9
CgoJCQkJCQl0aGlzLldyaXRlRXJyb3JMaW5lKCJJbnZhbGlkIGNob2ljZTogIiArIGRhdGEpOwoJ
CQkJCX0KCQkJCX0KCgkJCQkjcmVnaW9uIElIb3N0VUlTdXBwb3J0c011bHRpcGxlQ2hvaWNlU2Vs
ZWN0aW9uIE1lbWJlcnMKCgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gUHJvdmlkZXMgYSBzZXQg
b2YgY2hvaWNlcyB0aGF0IGVuYWJsZSB0aGUgdXNlciB0byBjaG9vc2UgYSBvbmUgb3IgbW9yZSBv
cHRpb25zIAoJCQkJLy8vIGZyb20gYSBzZXQgb2Ygb3B0aW9ucy4gCgkJCQkvLy8gPC9zdW1tYXJ5
PgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJjYXB0aW9uIj5BIHRpdGxlIHRoYXQgcHJvY2VlZHMgdGhl
IGNob2ljZXMuPC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0ibWVzc2FnZSI+QW4gaW50cm9k
dWN0aW9uICBtZXNzYWdlIHRoYXQgZGVzY3JpYmVzIHRoZSAKCQkJCS8vLyBjaG9pY2VzLjwvcGFy
YW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImNob2ljZXMiPkEgY29sbGVjdGlvbiBvZiBDaG9pY2VE
ZXNjcmlwdGlvbiBvYmplY3RzIHRoYXQgZGVzY3JpYmUgZWFjaCBjaG9pY2UuPC9wYXJhbT4KCQkJ
CS8vLyA8cGFyYW0gbmFtZT0iZGVmYXVsdENob2ljZXMiPlRoZSBpbmRleCBvZiB0aGUgbGFiZWwg
aW4gdGhlIENob2ljZXMgcGFyYW1ldGVyIAoJCQkJLy8vIGNvbGxlY3Rpb24gdGhhdCBpbmRpY2F0
ZXMgdGhlIGRlZmF1bHQgY2hvaWNlIHVzZWQgaWYgdGhlIHVzZXIgZG9lcyBub3Qgc3BlY2lmeSAK
CQkJCS8vLyBhIGNob2ljZS4gVG8gaW5kaWNhdGUgbm8gZGVmYXVsdCBjaG9pY2UsIHNldCB0byAt
MS48L3BhcmFtPgoJCQkJLy8vIDxyZXR1cm5zPlRoZSBpbmRleCBvZiB0aGUgQ2hvaWNlcyBwYXJh
bWV0ZXIgY29sbGVjdGlvbiBlbGVtZW50IHRoYXQgY29ycmVzcG9uZHMgCgkJCQkvLy8gdG8gdGhl
IGNob2ljZXMgc2VsZWN0ZWQgYnkgdGhlIHVzZXIuPC9yZXR1cm5zPgoJCQkJcHVibGljIENvbGxl
Y3Rpb248aW50PiBQcm9tcHRGb3JDaG9pY2UoCgkJCQkJCQkJCQkJCQkgICBzdHJpbmcgY2FwdGlv
biwKCQkJCQkJCQkJCQkJCSAgIHN0cmluZyBtZXNzYWdlLAoJCQkJCQkJCQkJCQkJICAgQ29sbGVj
dGlvbjxDaG9pY2VEZXNjcmlwdGlvbj4gY2hvaWNlcywKCQkJCQkJCQkJCQkJCSAgIElFbnVtZXJh
YmxlPGludD4gZGVmYXVsdENob2ljZXMpCgkJCQl7CgkJCQkJLy8gV3JpdGUgdGhlIGNhcHRpb24g
YW5kIG1lc3NhZ2Ugc3RyaW5ncyBpbiBCbHVlLgoJCQkJCXRoaXMuV3JpdGVMaW5lKAoJCQkJCQkJ
CSAgIENvbnNvbGVDb2xvci5CbHVlLAoJCQkJCQkJCSAgIENvbnNvbGVDb2xvci5CbGFjaywKCQkJ
CQkJCQkgICBjYXB0aW9uICsgIlxuIiArIG1lc3NhZ2UgKyAiXG4iKTsKCgkJCQkJLy8gQ29udmVy
dCB0aGUgY2hvaWNlIGNvbGxlY3Rpb24gaW50byBzb21ldGhpbmcgdGhhdCdzIGEKCQkJCQkvLyBs
aXR0bGUgZWFzaWVyIHRvIHdvcmsgd2l0aAoJCQkJCS8vIFNlZSB0aGUgQnVpbGRIb3RrZXlzQW5k
UGxhaW5MYWJlbHMgbWV0aG9kIGZvciBkZXRhaWxzLgoJCQkJCXN0cmluZ1ssXSBwcm9tcHREYXRh
ID0gQnVpbGRIb3RrZXlzQW5kUGxhaW5MYWJlbHMoY2hvaWNlcyk7CgoJCQkJCS8vIEZvcm1hdCB0
aGUgb3ZlcmFsbCBjaG9pY2UgcHJvbXB0IHN0cmluZyB0byBkaXNwbGF5Li4uCgkJCQkJU3RyaW5n
QnVpbGRlciBzYiA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CgkJCQkJZm9yIChpbnQgZWxlbWVudCA9
IDA7IGVsZW1lbnQgPCBjaG9pY2VzLkNvdW50OyBlbGVtZW50KyspCgkJCQkJewoJCQkJCQlzYi5B
cHBlbmQoU3RyaW5nLkZvcm1hdCgKCQkJCQkJCQkJCQkJQ3VsdHVyZUluZm8uQ3VycmVudEN1bHR1
cmUsCgkJCQkJCQkJCQkJCSJ8ezB9PiB7MX0gIiwKCQkJCQkJCQkJCQkJcHJvbXB0RGF0YVswLCBl
bGVtZW50XSwKCQkJCQkJCQkJCQkJcHJvbXB0RGF0YVsxLCBlbGVtZW50XSkpOwoJCQkJCX0KCgkJ
CQkJQ29sbGVjdGlvbjxpbnQ+IGRlZmF1bHRSZXN1bHRzID0gbmV3IENvbGxlY3Rpb248aW50Pigp
OwoJCQkJCWlmIChkZWZhdWx0Q2hvaWNlcyAhPSBudWxsKQoJCQkJCXsKCQkJCQkJaW50IGNvdW50
RGVmYXVsdHMgPSAwOwoJCQkJCQlmb3JlYWNoIChpbnQgZGVmYXVsdENob2ljZSBpbiBkZWZhdWx0
Q2hvaWNlcykKCQkJCQkJewoJCQkJCQkJKytjb3VudERlZmF1bHRzOwoJCQkJCQkJZGVmYXVsdFJl
c3VsdHMuQWRkKGRlZmF1bHRDaG9pY2UpOwoJCQkJCQl9CgoJCQkJCQlpZiAoY291bnREZWZhdWx0
cyAhPSAwKQoJCQkJCQl7CgkJCQkJCQlzYi5BcHBlbmQoY291bnREZWZhdWx0cyA9PSAxID8gIltE
ZWZhdWx0IGNob2ljZSBpcyAiIDogIltEZWZhdWx0IGNob2ljZXMgYXJlICIpOwoJCQkJCQkJZm9y
ZWFjaCAoaW50IGRlZmF1bHRDaG9pY2UgaW4gZGVmYXVsdENob2ljZXMpCgkJCQkJCQl7CgkJCQkJ
CQkJc2IuQXBwZW5kRm9ybWF0KAoJCQkJCQkJCQkJCQlDdWx0dXJlSW5mby5DdXJyZW50Q3VsdHVy
ZSwKCQkJCQkJCQkJCQkJIlwiezB9XCIsIiwKCQkJCQkJCQkJCQkJcHJvbXB0RGF0YVswLCBkZWZh
dWx0Q2hvaWNlXSk7CgkJCQkJCQl9CgoJCQkJCQkJc2IuUmVtb3ZlKHNiLkxlbmd0aCAtIDEsIDEp
OwoJCQkJCQkJc2IuQXBwZW5kKCJdIik7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCXRoaXMuV3JpdGVM
aW5lKENvbnNvbGVDb2xvci5DeWFuLCBDb25zb2xlQ29sb3IuQmxhY2ssIHNiLlRvU3RyaW5nKCkp
OwoKCQkJCQkvLyBsb29wIHJlYWRpbmcgcHJvbXB0cyB1bnRpbCBhIG1hdGNoIGlzIG1hZGUsIHRo
ZSBkZWZhdWx0IGlzCgkJCQkJLy8gY2hvc2VuIG9yIHRoZSBsb29wIGlzIGludGVycnVwdGVkIHdp
dGggY3RybC1DLgoJCQkJCUNvbGxlY3Rpb248aW50PiByZXN1bHRzID0gbmV3IENvbGxlY3Rpb248
aW50PigpOwoJCQkJCXdoaWxlICh0cnVlKQoJCQkJCXsKCQkJCQkJUmVhZE5leHQ6CgkJCQkJCXN0
cmluZyBwcm9tcHQgPSBzdHJpbmcuRm9ybWF0KEN1bHR1cmVJbmZvLkN1cnJlbnRDdWx0dXJlLCAi
Q2hvaWNlW3swfV06IiwgcmVzdWx0cy5Db3VudCk7CgkJCQkJCXRoaXMuV3JpdGUoQ29uc29sZUNv
bG9yLkN5YW4sIENvbnNvbGVDb2xvci5CbGFjaywgcHJvbXB0KTsKCQkJCQkJc3RyaW5nIGRhdGEg
PSBDb25zb2xlLlJlYWRMaW5lKCkuVHJpbSgpLlRvVXBwZXIoQ3VsdHVyZUluZm8uQ3VycmVudEN1
bHR1cmUpOwoKCQkJCQkJLy8gaWYgdGhlIGNob2ljZSBzdHJpbmcgd2FzIGVtcHR5LCBubyBtb3Jl
IGNob2ljZXMgaGF2ZSBiZWVuIG1hZGUuCgkJCQkJCS8vIGlmIHRoZXJlIHdlcmUgbm8gY2hvaWNl
cyBtYWRlLCByZXR1cm4gdGhlIGRlZmF1bHRzCgkJCQkJCWlmIChkYXRhLkxlbmd0aCA9PSAwKQoJ
CQkJCQl7CgkJCQkJCQlyZXR1cm4gKHJlc3VsdHMuQ291bnQgPT0gMCkgPyBkZWZhdWx0UmVzdWx0
cyA6IHJlc3VsdHM7CgkJCQkJCX0KCgkJCQkJCS8vIHNlZSBpZiB0aGUgc2VsZWN0aW9uIG1hdGNo
ZWQgYW5kIHJldHVybiB0aGUKCQkJCQkJLy8gY29ycmVzcG9uZGluZyBpbmRleCBpZiBpdCBkaWQu
Li4KCQkJCQkJZm9yIChpbnQgaSA9IDA7IGkgPCBjaG9pY2VzLkNvdW50OyBpKyspCgkJCQkJCXsK
CQkJCQkJCWlmIChwcm9tcHREYXRhWzAsIGldID09IGRhdGEpCgkJCQkJCQl7CgkJCQkJCQkJcmVz
dWx0cy5BZGQoaSk7CgkJCQkJCQkJZ290byBSZWFkTmV4dDsKCQkJCQkJCX0KCQkJCQkJfQoKCQkJ
CQkJdGhpcy5Xcml0ZUVycm9yTGluZSgiSW52YWxpZCBjaG9pY2U6ICIgKyBkYXRhKTsKCQkJCQl9
CgkJCQl9CgoJCQkJI2VuZHJlZ2lvbgoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBQcm9tcHRz
IHRoZSB1c2VyIGZvciBjcmVkZW50aWFscyB3aXRoIGEgc3BlY2lmaWVkIHByb21wdCB3aW5kb3cg
CgkJCQkvLy8gY2FwdGlvbiwgcHJvbXB0IG1lc3NhZ2UsIHVzZXIgbmFtZSwgYW5kIHRhcmdldCBu
YW1lLgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0iY2FwdGlvbiI+VGhl
IGNhcHRpb24gb2YgdGhlIG1lc3NhZ2Ugd2luZG93LjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5h
bWU9Im1lc3NhZ2UiPlRoZSB0ZXh0IG9mIHRoZSBtZXNzYWdlLjwvcGFyYW0+CgkJCQkvLy8gPHBh
cmFtIG5hbWU9InVzZXJOYW1lIj5UaGUgdXNlciBuYW1lIHdob3NlIGNyZWRlbnRpYWwgaXMgdG8g
YmUgcHJvbXB0ZWQgZm9yLjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InRhcmdldE5hbWUi
PlRoZSBuYW1lIG9mIHRoZSB0YXJnZXQgZm9yIHdoaWNoIHRoZSBjcmVkZW50aWFsIGlzIGNvbGxl
Y3RlZC48L3BhcmFtPgoJCQkJLy8vIDxyZXR1cm5zPlRocm93cyBhIE5vdEltcGxlbWVudEV4Y2Vw
dGlvbiBleGNlcHRpb24uPC9yZXR1cm5zPgoJCQkJcHVibGljIG92ZXJyaWRlIFBTQ3JlZGVudGlh
bCBQcm9tcHRGb3JDcmVkZW50aWFsKAoJCQkJCQkJCQkJCSBzdHJpbmcgY2FwdGlvbiwKCQkJCQkJ
CQkJCQkgc3RyaW5nIG1lc3NhZ2UsCgkJCQkJCQkJCQkJIHN0cmluZyB1c2VyTmFtZSwKCQkJCQkJ
CQkJCQkgc3RyaW5nIHRhcmdldE5hbWUpCgkJCQl7CgkJCQkJUHJvbXB0Q3JlZGVudGlhbHNSZXN1
bHQgcmVzdWx0ID0gQ3JlZGVudGlhbFVJLlByb21wdEZvckNyZWRlbnRpYWxzKHRhcmdldE5hbWUs
IGNhcHRpb24sIG1lc3NhZ2UsIHVzZXJOYW1lLCBudWxsKTsKCQkJCQlyZXR1cm4gcmVzdWx0ID09
IG51bGwgPyBudWxsIDogbmV3IFBTQ3JlZGVudGlhbChyZXN1bHQuVXNlck5hbWUsIHJlc3VsdC5Q
YXNzd29yZC5Ub1NlY3VyZVN0cmluZygpKTsKCQkJCX0KCgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJ
Ly8vIFByb21wdHMgdGhlIHVzZXIgZm9yIGNyZWRlbnRpYWxzIGJ5IHVzaW5nIGEgc3BlY2lmaWVk
IHByb21wdCB3aW5kb3cgCgkJCQkvLy8gY2FwdGlvbiwgcHJvbXB0IG1lc3NhZ2UsIHVzZXIgbmFt
ZSBhbmQgdGFyZ2V0IG5hbWUsIGNyZWRlbnRpYWwgdHlwZXMgCgkJCQkvLy8gYWxsb3dlZCB0byBi
ZSByZXR1cm5lZCwgYW5kIFVJIGJlaGF2aW9yIG9wdGlvbnMuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJ
CQkJLy8vIDxwYXJhbSBuYW1lPSJjYXB0aW9uIj5UaGUgY2FwdGlvbiBvZiB0aGUgbWVzc2FnZSB3
aW5kb3cuPC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0ibWVzc2FnZSI+VGhlIHRleHQgb2Yg
dGhlIG1lc3NhZ2UuPC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0idXNlck5hbWUiPlRoZSB1
c2VyIG5hbWUgd2hvc2UgY3JlZGVudGlhbCBpcyB0byBiZSBwcm9tcHRlZCBmb3IuPC9wYXJhbT4K
CQkJCS8vLyA8cGFyYW0gbmFtZT0idGFyZ2V0TmFtZSI+VGhlIG5hbWUgb2YgdGhlIHRhcmdldCBm
b3Igd2hpY2ggdGhlIGNyZWRlbnRpYWwgaXMgY29sbGVjdGVkLjwvcGFyYW0+CgkJCQkvLy8gPHBh
cmFtIG5hbWU9ImFsbG93ZWRDcmVkZW50aWFsVHlwZXMiPlBTQ3JlZGVudGlhbFR5cGVzIGNjb25z
dGFudHMgdGhhdCBpZGVudGlmeSB0aGUgdHlwZSBvZiAKCQkJCS8vLyBjcmVkZW50aWFscyB0aGF0
IGNhbiBiZSByZXR1cm5lZC48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJvcHRpb25zIj5B
IFBTQ3JlZGVudGlhbFVJT3B0aW9ucyBjb25zdGFudCB0aGF0IGlkZW50aWZpZXMgdGhlIFVJIGJl
aGF2aW9yIAoJCQkJLy8vIHdoZW4gaXQgZ2F0aGVycyB0aGUgY3JlZGVudGlhbHMuPC9wYXJhbT4K
CQkJCS8vLyA8cmV0dXJucz5UaHJvd3MgYSBOb3RJbXBsZW1lbnRFeGNlcHRpb24gZXhjZXB0aW9u
LjwvcmV0dXJucz4KCQkJCXB1YmxpYyBvdmVycmlkZSBQU0NyZWRlbnRpYWwgUHJvbXB0Rm9yQ3Jl
ZGVudGlhbCgKCQkJCQkJCQkJICAgc3RyaW5nIGNhcHRpb24sCgkJCQkJCQkJCSAgIHN0cmluZyBt
ZXNzYWdlLAoJCQkJCQkJCQkgICBzdHJpbmcgdXNlck5hbWUsCgkJCQkJCQkJCSAgIHN0cmluZyB0
YXJnZXROYW1lLAoJCQkJCQkJCQkgICBQU0NyZWRlbnRpYWxUeXBlcyBhbGxvd2VkQ3JlZGVudGlh
bFR5cGVzLAoJCQkJCQkJCQkgICBQU0NyZWRlbnRpYWxVSU9wdGlvbnMgb3B0aW9ucykKCQkJCXsK
CQkJCQlQcm9tcHRDcmVkZW50aWFsc1Jlc3VsdCByZXN1bHQgPSBDcmVkZW50aWFsVUkuUHJvbXB0
Rm9yQ3JlZGVudGlhbHModGFyZ2V0TmFtZSwgY2FwdGlvbiwgbWVzc2FnZSwgdXNlck5hbWUsIG51
bGwpOwoJCQkJCXJldHVybiByZXN1bHQgPT0gbnVsbCA/IG51bGwgOiBuZXcgUFNDcmVkZW50aWFs
KHJlc3VsdC5Vc2VyTmFtZSwgcmVzdWx0LlBhc3N3b3JkLlRvU2VjdXJlU3RyaW5nKCkpOwoJCQkJ
fQoKCgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gUmVhZHMgY2hhcmFjdGVycyB0aGF0IGFyZSBl
bnRlcmVkIGJ5IHRoZSB1c2VyIHVudGlsIGEgCgkJCQkvLy8gbmV3bGluZSAoY2FycmlhZ2UgcmV0
dXJuKSBpcyBlbmNvdW50ZXJlZC4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHJldHVybnM+
VGhlIGNoYXJhY3RlcnMgZW50ZXJlZCBieSB0aGUgdXNlci48L3JldHVybnM+CgkJCQlwdWJsaWMg
b3ZlcnJpZGUgc3RyaW5nIFJlYWRMaW5lKCkKCQkJCXsKCQkJCQlyZXR1cm4gQ29uc29sZS5SZWFk
TGluZSgpOwoJCQkJfQoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBSZWFkcyBjaGFyYWN0ZXJz
IGVudGVyZWQgYnkgdGhlIHVzZXIgdW50aWwgYSBuZXdsaW5lIChjYXJyaWFnZSByZXR1cm4pIAoJ
CQkJLy8vIGlzIGVuY291bnRlcmVkIGFuZCByZXR1cm5zIHRoZSBjaGFyYWN0ZXJzIGFzIGEgc2Vj
dXJlIHN0cmluZy4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHJldHVybnM+QSBzZWN1cmUg
c3RyaW5nIG9mIHRoZSBjaGFyYWN0ZXJzIGVudGVyZWQgYnkgdGhlIHVzZXIuPC9yZXR1cm5zPgoJ
CQkJcHVibGljIG92ZXJyaWRlIFN5c3RlbS5TZWN1cml0eS5TZWN1cmVTdHJpbmcgUmVhZExpbmVB
c1NlY3VyZVN0cmluZygpCgkJCQl7CgkJCQkJcmV0dXJuIENvbnNvbGUuUmVhZExpbmUoKS5Ub1Nl
Y3VyZVN0cmluZygpOwoJCQkJfQoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBXcml0ZXMgYSBs
aW5lIG9mIGNoYXJhY3RlcnMgdG8gdGhlIG91dHB1dCBkaXNwbGF5IG9mIHRoZSBob3N0IAoJCQkJ
Ly8vIGFuZCBhcHBlbmRzIGEgbmV3bGluZSAoY2FycmlhZ2UgcmV0dXJuKS4KCQkJCS8vLyA8L3N1
bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InZhbHVlIj5UaGUgY2hhcmFjdGVycyB0byBiZSB3
cml0dGVuLjwvcGFyYW0+CgkJCQlwdWJsaWMgb3ZlcnJpZGUgdm9pZCBXcml0ZShzdHJpbmcgdmFs
dWUpCgkJCQl7CgkJCQkJQ29uc29sZS5Xcml0ZSh2YWx1ZSk7CgkJCQl9CgoJCQkJLy8vIDxzdW1t
YXJ5PgoJCQkJLy8vIFdyaXRlcyBjaGFyYWN0ZXJzIHRvIHRoZSBvdXRwdXQgZGlzcGxheSBvZiB0
aGUgaG9zdCB3aXRoIHBvc3NpYmxlIAoJCQkJLy8vIGZvcmVncm91bmQgYW5kIGJhY2tncm91bmQg
Y29sb3JzLiAKCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImZvcmVncm91
bmRDb2xvciI+VGhlIGNvbG9yIG9mIHRoZSBjaGFyYWN0ZXJzLjwvcGFyYW0+CgkJCQkvLy8gPHBh
cmFtIG5hbWU9ImJhY2tncm91bmRDb2xvciI+VGhlIGJhY2tnb3VuZCBjb2xvciB0byB1c2UuPC9w
YXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0idmFsdWUiPlRoZSBjaGFyYWN0ZXJzIHRvIGJlIHdy
aXR0ZW4uPC9wYXJhbT4KCQkJCXB1YmxpYyBvdmVycmlkZSB2b2lkIFdyaXRlKAoJCQkJCQkJCQkJ
ICAgQ29uc29sZUNvbG9yIGZvcmVncm91bmRDb2xvciwKCQkJCQkJCQkJCSAgIENvbnNvbGVDb2xv
ciBiYWNrZ3JvdW5kQ29sb3IsCgkJCQkJCQkJCQkgICBzdHJpbmcgdmFsdWUpCgkJCQl7CgkJCQkJ
Q29uc29sZUNvbG9yIG9sZEZnID0gQ29uc29sZS5Gb3JlZ3JvdW5kQ29sb3I7CgkJCQkJQ29uc29s
ZUNvbG9yIG9sZEJnID0gQ29uc29sZS5CYWNrZ3JvdW5kQ29sb3I7CgkJCQkJQ29uc29sZS5Gb3Jl
Z3JvdW5kQ29sb3IgPSBmb3JlZ3JvdW5kQ29sb3I7CgkJCQkJQ29uc29sZS5CYWNrZ3JvdW5kQ29s
b3IgPSBiYWNrZ3JvdW5kQ29sb3I7CgkJCQkJQ29uc29sZS5Xcml0ZSh2YWx1ZSk7CgkJCQkJQ29u
c29sZS5Gb3JlZ3JvdW5kQ29sb3IgPSBvbGRGZzsKCQkJCQlDb25zb2xlLkJhY2tncm91bmRDb2xv
ciA9IG9sZEJnOwoJCQkJfQoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBXcml0ZXMgYSBsaW5l
IG9mIGNoYXJhY3RlcnMgdG8gdGhlIG91dHB1dCBkaXNwbGF5IG9mIHRoZSBob3N0IAoJCQkJLy8v
IHdpdGggZm9yZWdyb3VuZCBhbmQgYmFja2dyb3VuZCBjb2xvcnMgYW5kIGFwcGVuZHMgYSBuZXds
aW5lIChjYXJyaWFnZSByZXR1cm4pLiAKCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFt
IG5hbWU9ImZvcmVncm91bmRDb2xvciI+VGhlIGZvcmdyb3VuZCBjb2xvciBvZiB0aGUgZGlzcGxh
eS4gPC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0iYmFja2dyb3VuZENvbG9yIj5UaGUgYmFj
a2dyb3VuZCBjb2xvciBvZiB0aGUgZGlzcGxheS4gPC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFt
ZT0idmFsdWUiPlRoZSBsaW5lIHRvIGJlIHdyaXR0ZW4uPC9wYXJhbT4KCQkJCXB1YmxpYyBvdmVy
cmlkZSB2b2lkIFdyaXRlTGluZSgKCQkJCQkJCQkJCQkgICBDb25zb2xlQ29sb3IgZm9yZWdyb3Vu
ZENvbG9yLAoJCQkJCQkJCQkJCSAgIENvbnNvbGVDb2xvciBiYWNrZ3JvdW5kQ29sb3IsCgkJCQkJ
CQkJCQkJICAgc3RyaW5nIHZhbHVlKQoJCQkJewoJCQkJCUNvbnNvbGVDb2xvciBvbGRGZyA9IENv
bnNvbGUuRm9yZWdyb3VuZENvbG9yOwoJCQkJCUNvbnNvbGVDb2xvciBvbGRCZyA9IENvbnNvbGUu
QmFja2dyb3VuZENvbG9yOwoJCQkJCUNvbnNvbGUuRm9yZWdyb3VuZENvbG9yID0gZm9yZWdyb3Vu
ZENvbG9yOwoJCQkJCUNvbnNvbGUuQmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yOwoJ
CQkJCUNvbnNvbGUuV3JpdGVMaW5lKHZhbHVlKTsKCQkJCQlDb25zb2xlLkZvcmVncm91bmRDb2xv
ciA9IG9sZEZnOwoJCQkJCUNvbnNvbGUuQmFja2dyb3VuZENvbG9yID0gb2xkQmc7CgkJCQl9CgoJ
CQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIFdyaXRlcyBhIGRlYnVnIG1lc3NhZ2UgdG8gdGhlIG91
dHB1dCBkaXNwbGF5IG9mIHRoZSBob3N0LgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCS8vLyA8cGFy
YW0gbmFtZT0ibWVzc2FnZSI+VGhlIGRlYnVnIG1lc3NhZ2UgdGhhdCBpcyBkaXNwbGF5ZWQuPC9w
YXJhbT4KCQkJCXB1YmxpYyBvdmVycmlkZSB2b2lkIFdyaXRlRGVidWdMaW5lKHN0cmluZyBtZXNz
YWdlKQoJCQkJewoJCQkJCXRoaXMuV3JpdGVMaW5lKAoJCQkJCQkJCSAgIENvbnNvbGVDb2xvci5E
YXJrWWVsbG93LAoJCQkJCQkJCSAgIENvbnNvbGVDb2xvci5CbGFjaywKCQkJCQkJCQkgICBTdHJp
bmcuRm9ybWF0KEN1bHR1cmVJbmZvLkN1cnJlbnRDdWx0dXJlLCAiREVCVUc6IHswfSIsIG1lc3Nh
Z2UpKTsKCQkJCX0KCgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gV3JpdGVzIGFuIGVycm9yIG1l
c3NhZ2UgdG8gdGhlIG91dHB1dCBkaXNwbGF5IG9mIHRoZSBob3N0LgoJCQkJLy8vIDwvc3VtbWFy
eT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0idmFsdWUiPlRoZSBlcnJvciBtZXNzYWdlIHRoYXQgaXMg
ZGlzcGxheWVkLjwvcGFyYW0+CgkJCQlwdWJsaWMgb3ZlcnJpZGUgdm9pZCBXcml0ZUVycm9yTGlu
ZShzdHJpbmcgdmFsdWUpCgkJCQl7CgkJCQkJdGhpcy5Xcml0ZUxpbmUoQ29uc29sZUNvbG9yLlJl
ZCwgQ29uc29sZUNvbG9yLkJsYWNrLCB2YWx1ZSk7CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJ
CQkJLy8vIFdyaXRlcyBhIG5ld2xpbmUgY2hhcmFjdGVyIChjYXJyaWFnZSByZXR1cm4pIAoJCQkJ
Ly8vIHRvIHRoZSBvdXRwdXQgZGlzcGxheSBvZiB0aGUgaG9zdC4gCgkJCQkvLy8gPC9zdW1tYXJ5
PgoJCQkJcHVibGljIG92ZXJyaWRlIHZvaWQgV3JpdGVMaW5lKCkKCQkJCXsKCQkJCQlDb25zb2xl
LldyaXRlTGluZSgpOwoJCQkJfQoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBXcml0ZXMgYSBs
aW5lIG9mIGNoYXJhY3RlcnMgdG8gdGhlIG91dHB1dCBkaXNwbGF5IG9mIHRoZSBob3N0IAoJCQkJ
Ly8vIGFuZCBhcHBlbmRzIGEgbmV3bGluZSBjaGFyYWN0ZXIoY2FycmlhZ2UgcmV0dXJuKS4gCgkJ
CQkvLy8gPC9zdW1tYXJ5PgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJ2YWx1ZSI+VGhlIGxpbmUgdG8g
YmUgd3JpdHRlbi48L3BhcmFtPgoJCQkJcHVibGljIG92ZXJyaWRlIHZvaWQgV3JpdGVMaW5lKHN0
cmluZyB2YWx1ZSkKCQkJCXsKCQkJCQlDb25zb2xlLldyaXRlTGluZSh2YWx1ZSk7CgkJCQl9CgoJ
CQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIFdyaXRlcyBhIHZlcmJvc2UgbWVzc2FnZSB0byB0aGUg
b3V0cHV0IGRpc3BsYXkgb2YgdGhlIGhvc3QuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJLy8vIDxw
YXJhbSBuYW1lPSJtZXNzYWdlIj5UaGUgdmVyYm9zZSBtZXNzYWdlIHRoYXQgaXMgZGlzcGxheWVk
LjwvcGFyYW0+CgkJCQlwdWJsaWMgb3ZlcnJpZGUgdm9pZCBXcml0ZVZlcmJvc2VMaW5lKHN0cmlu
ZyBtZXNzYWdlKQoJCQkJewoJCQkJCXRoaXMuV3JpdGVMaW5lKAoJCQkJCQkJCSAgIENvbnNvbGVD
b2xvci5ZZWxsb3csCgkJCQkJCQkJICAgQ29uc29sZUNvbG9yLkJsYWNrLAoJCQkJCQkJCSAgIFN0
cmluZy5Gb3JtYXQoQ3VsdHVyZUluZm8uQ3VycmVudEN1bHR1cmUsICJWRVJCT1NFOiB7MH0iLCBt
ZXNzYWdlKSk7CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIFdyaXRlcyBhIHdhcm5p
bmcgbWVzc2FnZSB0byB0aGUgb3V0cHV0IGRpc3BsYXkgb2YgdGhlIGhvc3QuCgkJCQkvLy8gPC9z
dW1tYXJ5PgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJtZXNzYWdlIj5UaGUgd2FybmluZyBtZXNzYWdl
IHRoYXQgaXMgZGlzcGxheWVkLjwvcGFyYW0+CgkJCQlwdWJsaWMgb3ZlcnJpZGUgdm9pZCBXcml0
ZVdhcm5pbmdMaW5lKHN0cmluZyBtZXNzYWdlKQoJCQkJewoJCQkJCXRoaXMuV3JpdGVMaW5lKAoJ
CQkJCQkJCSAgIENvbnNvbGVDb2xvci5ZZWxsb3csCgkJCQkJCQkJICAgQ29uc29sZUNvbG9yLkJs
YWNrLAoJCQkJCQkJCSAgIFN0cmluZy5Gb3JtYXQoQ3VsdHVyZUluZm8uQ3VycmVudEN1bHR1cmUs
ICJXQVJOSU5HOiB7MH0iLCBtZXNzYWdlKSk7CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJ
Ly8vIFdyaXRlcyBhIHByb2dyZXNzIHJlcG9ydCB0byB0aGUgb3V0cHV0IGRpc3BsYXkgb2YgdGhl
IGhvc3QuIAoJCQkJLy8vIFdyaW50aW5nIGEgcHJvZ3Jlc3MgcmVwb3J0IGlzIG5vdCByZXF1aXJl
ZCBmb3IgdGhlIGNtZGxldCB0byAKCQkJCS8vLyB3b3JrIHNvIGl0IGlzIGJldHRlciB0byBkbyBu
b3RoaW5nIGluc3RlYWQgb2YgdGhyb3dpbmcgYW4gCgkJCQkvLy8gZXhjZXB0aW9uLgoJCQkJLy8v
IDwvc3VtbWFyeT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0ic291cmNlSWQiPlVuaXF1ZSBpZGVudGlm
aWVyIG9mIHRoZSBzb3VyY2Ugb2YgdGhlIHJlY29yZC4gPC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0g
bmFtZT0icmVjb3JkIj5BIFByb2dyZXNzUmVwb3J0IG9iamVjdC48L3BhcmFtPgoJCQkJcHVibGlj
IG92ZXJyaWRlIHZvaWQgV3JpdGVQcm9ncmVzcyhsb25nIHNvdXJjZUlkLCBQcm9ncmVzc1JlY29y
ZCByZWNvcmQpCgkJCQl7CgkJCQkJLy8gRG8gbm90aGluZy4KCQkJCX0KCgkJCQkvLy8gPHN1bW1h
cnk+CgkJCQkvLy8gUGFyc2UgYSBzdHJpbmcgY29udGFpbmluZyBhIGhvdGtleSBjaGFyYWN0ZXIu
CgkJCQkvLy8gVGFrZSBhIHN0cmluZyBvZiB0aGUgZm9ybQoJCQkJLy8vICAgIFllcyB0byAmYW1w
O2FsbAoJCQkJLy8vIGFuZCByZXR1cm5zIGEgdHdvLWRpbWVuc2lvbmFsIGFycmF5IHNwbGl0IG91
dCBhcwoJCQkJLy8vICAgICJBIiwgIlllcyB0byBhbGwiLgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJ
CS8vLyA8cGFyYW0gbmFtZT0iaW5wdXQiPlRoZSBzdHJpbmcgdG8gcHJvY2VzczwvcGFyYW0+CgkJ
CQkvLy8gPHJldHVybnM+CgkJCQkvLy8gQSB0d28gZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmlu
ZyB0aGUgcGFyc2VkIGNvbXBvbmVudHMuCgkJCQkvLy8gPC9yZXR1cm5zPgoJCQkJcHJpdmF0ZSBz
dGF0aWMgc3RyaW5nW10gR2V0SG90a2V5QW5kTGFiZWwoc3RyaW5nIGlucHV0KQoJCQkJewoJCQkJ
CXN0cmluZ1tdIHJlc3VsdCA9IG5ldyBzdHJpbmdbXSB7IFN0cmluZy5FbXB0eSwgU3RyaW5nLkVt
cHR5IH07CgkJCQkJc3RyaW5nW10gZnJhZ21lbnRzID0gaW5wdXQuU3BsaXQoJyYnKTsKCQkJCQlp
ZiAoZnJhZ21lbnRzLkxlbmd0aCA9PSAyKQoJCQkJCXsKCQkJCQkJaWYgKGZyYWdtZW50c1sxXS5M
ZW5ndGggPiAwKQoJCQkJCQl7CgkJCQkJCQlyZXN1bHRbMF0gPSBmcmFnbWVudHNbMV1bMF0uVG9T
dHJpbmcoKS4KCQkJCQkJCVRvVXBwZXIoQ3VsdHVyZUluZm8uQ3VycmVudEN1bHR1cmUpOwoJCQkJ
CQl9CgoJCQkJCQlyZXN1bHRbMV0gPSAoZnJhZ21lbnRzWzBdICsgZnJhZ21lbnRzWzFdKS5Ucmlt
KCk7CgkJCQkJfQoJCQkJCWVsc2UKCQkJCQl7CgkJCQkJCXJlc3VsdFsxXSA9IGlucHV0OwoJCQkJ
CX0KCgkJCQkJcmV0dXJuIHJlc3VsdDsKCQkJCX0KCgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8g
VGhpcyBpcyBhIHByaXZhdGUgd29ya2VyIGZ1bmN0aW9uIHNwbGl0cyBvdXQgdGhlCgkJCQkvLy8g
YWNjZWxlcmF0b3Iga2V5cyBmcm9tIHRoZSBtZW51IGFuZCBidWlsZHMgYSB0d28KCQkJCS8vLyBk
aW1lbnRpb25hbCBhcnJheSB3aXRoIHRoZSBmaXJzdCBhY2Nlc3MgY29udGFpbmluZyB0aGUKCQkJ
CS8vLyBhY2NlbGVyYXRvciBhbmQgdGhlIHNlY29uZCBjb250YWluaW5nIHRoZSBsYWJlbCBzdHJp
bmcKCQkJCS8vLyB3aXRoIHRoZSAmYW1wOyByZW1vdmVkLgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJ
CS8vLyA8cGFyYW0gbmFtZT0iY2hvaWNlcyI+VGhlIGNob2ljZSBjb2xsZWN0aW9uIHRvIHByb2Nl
c3M8L3BhcmFtPgoJCQkJLy8vIDxyZXR1cm5zPgoJCQkJLy8vIEEgdHdvIGRpbWVuc2lvbmFsIGFy
cmF5IGNvbnRhaW5pbmcgdGhlIGFjY2VsZXJhdG9yIGNoYXJhY3RlcnMKCQkJCS8vLyBhbmQgdGhl
IGNsZWFuZWQtdXAgbGFiZWxzPC9yZXR1cm5zPgoJCQkJcHJpdmF0ZSBzdGF0aWMgc3RyaW5nWyxd
IEJ1aWxkSG90a2V5c0FuZFBsYWluTGFiZWxzKAoJCQkJCUNvbGxlY3Rpb248Q2hvaWNlRGVzY3Jp
cHRpb24+IGNob2ljZXMpCgkJCQl7CgkJCQkJLy8gd2Ugd2lsbCBhbGxvY2F0ZSB0aGUgcmVzdWx0
IGFycmF5CgkJCQkJc3RyaW5nWyxdIGhvdGtleXNBbmRQbGFpbkxhYmVscyA9IG5ldyBzdHJpbmdb
MiwgY2hvaWNlcy5Db3VudF07CgoJCQkJCWZvciAoaW50IGkgPSAwOyBpIDwgY2hvaWNlcy5Db3Vu
dDsgKytpKQoJCQkJCXsKCQkJCQkJc3RyaW5nW10gaG90a2V5QW5kTGFiZWwgPSBHZXRIb3RrZXlB
bmRMYWJlbChjaG9pY2VzW2ldLkxhYmVsKTsKCQkJCQkJaG90a2V5c0FuZFBsYWluTGFiZWxzWzAs
IGldID0gaG90a2V5QW5kTGFiZWxbMF07CgkJCQkJCWhvdGtleXNBbmRQbGFpbkxhYmVsc1sxLCBp
XSA9IGhvdGtleUFuZExhYmVsWzFdOwoJCQkJCX0KCgkJCQkJcmV0dXJuIGhvdGtleXNBbmRQbGFp
bkxhYmVsczsKCQkJCX0KCQkJfQoKCQkJcHVibGljIGNsYXNzIEhvc3RVdGlsaXRpZXMKCQkJewoJ
CQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIFJvb3QgcmVnaXN0cnkga2V5IGZvciBXaW5kb3dzIFBv
d2VyU2hlbGwuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJaW50ZXJuYWwgY29uc3Qgc3RyaW5nIFBv
d2VyU2hlbGxSb290S2V5UGF0aCA9ICJTb2Z0d2FyZVxcTWljcm9zb2Z0XFxQb3dlclNoZWxsIjsK
CgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gRW5naW5lIHJlZ2lzdHJ5IGtleS4KCQkJCS8vLyA8
L3N1bW1hcnk+CgkJCQlpbnRlcm5hbCBjb25zdCBzdHJpbmcgUG93ZXJTaGVsbEVuZ2luZUtleSA9
ICJQb3dlclNoZWxsRW5naW5lIjsKCgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gUmVnaXN0cnkg
a2V5IHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBkaXJlY3Rvcnkgd2hlcmUgV2luZG93cyAgCgkJCQkv
Ly8gUG93ZXJTaGVsbCBpcyBpbnN0YWxsZWQuIAoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCWludGVy
bmFsIGNvbnN0IHN0cmluZyBQb3dlclNoZWxsRW5naW5lQXBwbGljYXRpb25CYXNlID0gIkFwcGxp
Y2F0aW9uQmFzZSI7CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIFRoZSBwYXRoIHRvIHRoZSBX
aW5kb3dzIFBvd2VyU2hlbGwgdmVyc2lvbiByZWdpc3RyeSBrZXkuCgkJCQkvLy8gPC9zdW1tYXJ5
PgoJCQkJaW50ZXJuYWwgY29uc3Qgc3RyaW5nIFJlZ2lzdHJ5VmVyc2lvbktleSA9ICIxIjsKCgkJ
CQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gR2V0cyBhIFBTT2JqZWN0IHdob3NlIGJhc2Ugb2JqZWN0
IGlzIGN1cnJlbnRVc2VyQ3VycmVudEhvc3QgYW5kIAoJCQkJLy8vIHdpdGggbm90ZXMgZm9yIHRo
ZSBvdGhlciBwYXJhbWV0ZXJzLgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCS8vLyA8cGFyYW0gbmFt
ZT0iYWxsVXNlcnNBbGxIb3N0cyI+VGhlIHByb2ZpbGUgZmlsZSBuYW1lIGZvciBhbGwgCgkJCQkv
Ly8gdXNlcnMgYW5kIGFsbCBob3N0cy48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJhbGxV
c2Vyc0N1cnJlbnRIb3N0Ij5UaGUgcHJvZmlsZSBmaWxlIG5hbWUgZm9yIAoJCQkJLy8vIGFsbCB1
c2VycyBhbmQgY3VycmVudCBob3N0LjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImN1cnJl
bnRVc2VyQWxsSG9zdHMiPlRoZSBwcm9maWxlIGZpbGUgbmFtZSBmb3IgCgkJCQkvLy8gY3VycmVu
dCB1c2VyIGFuZCBhbGwgaG9zdHMuPC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0iY3VycmVu
dFVzZXJDdXJyZW50SG9zdCI+VGhlIHByb2ZpbGUgIG5hbWUgZm9yIAoJCQkJLy8vIGN1cnJlbnQg
dXNlciBhbmQgY3VycmVudCBob3N0LjwvcGFyYW0+CgkJCQkvLy8gPHJldHVybnM+QSBQU09iamVj
dCB3aG9zZSBiYXNlIG9iamVjdCBpcyBjdXJyZW50VXNlckN1cnJlbnRIb3N0IAoJCQkJLy8vIGFu
ZCB3aXRoIG5vdGVzIGZvciB0aGUgb3RoZXIgcGFyYW1ldGVycy48L3JldHVybnM+CgkJCQlpbnRl
cm5hbCBzdGF0aWMgUFNPYmplY3QgR2V0RG9sbGFyUHJvZmlsZShzdHJpbmcgYWxsVXNlcnNBbGxI
b3N0cywgc3RyaW5nIGFsbFVzZXJzQ3VycmVudEhvc3QsIHN0cmluZyBjdXJyZW50VXNlckFsbEhv
c3RzLCBzdHJpbmcgY3VycmVudFVzZXJDdXJyZW50SG9zdCkKCQkJCXsKCQkJCQlQU09iamVjdCBy
ZXR1cm5WYWx1ZSA9IG5ldyBQU09iamVjdChjdXJyZW50VXNlckN1cnJlbnRIb3N0KTsKCQkJCQly
ZXR1cm5WYWx1ZS5Qcm9wZXJ0aWVzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkFsbFVzZXJzQWxs
SG9zdHMiLCBhbGxVc2Vyc0FsbEhvc3RzKSk7CgkJCQkJcmV0dXJuVmFsdWUuUHJvcGVydGllcy5B
ZGQobmV3IFBTTm90ZVByb3BlcnR5KCJBbGxVc2Vyc0N1cnJlbnRIb3N0IiwgYWxsVXNlcnNDdXJy
ZW50SG9zdCkpOwoJCQkJCXJldHVyblZhbHVlLlByb3BlcnRpZXMuQWRkKG5ldyBQU05vdGVQcm9w
ZXJ0eSgiQ3VycmVudFVzZXJBbGxIb3N0cyIsIGN1cnJlbnRVc2VyQWxsSG9zdHMpKTsKCQkJCQly
ZXR1cm5WYWx1ZS5Qcm9wZXJ0aWVzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkN1cnJlbnRVc2Vy
Q3VycmVudEhvc3QiLCBjdXJyZW50VXNlckN1cnJlbnRIb3N0KSk7CgkJCQkJcmV0dXJuIHJldHVy
blZhbHVlOwoJCQkJfQoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBHZXRzIGFuIGFycmF5IG9m
IGNvbW1hbmRzIHRoYXQgY2FuIGJlIHJ1biBzZXF1ZW50aWFsbHkgdG8gc2V0ICRwcm9maWxlIGFu
ZCBydW4gdGhlIHByb2ZpbGUgY29tbWFuZHMuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJLy8vIDxw
YXJhbSBuYW1lPSJzaGVsbElkIj5UaGUgaWRlbnRpZmllciBvZiB0aGUgaG9zdCBvciBzaGVsbCB1
c2VkIGluIHByb2ZpbGUgZmlsZSBuYW1lcy48L3BhcmFtPgoJCQkJLy8vIDxyZXR1cm5zPlRoZSBj
b21tYW5kcyB1c2VkIHRvIHNldCAkcHJvZmlsZS48L3JldHVybnM+CgkJCQlpbnRlcm5hbCBzdGF0
aWMgUFNDb21tYW5kW10gR2V0UHJvZmlsZUNvbW1hbmRzKHN0cmluZyBzaGVsbElkKQoJCQkJewoJ
CQkJCXJldHVybiBIb3N0VXRpbGl0aWVzLkdldFByb2ZpbGVDb21tYW5kcyhzaGVsbElkLCBmYWxz
ZSk7CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIEdldHMgYW4gYXJyYXkgb2YgY29t
bWFuZHMgdGhhdCBjYW4gYmUgcnVuIHNlcXVlbnRpYWxseSB0byBzZXQgJHByb2ZpbGUgYW5kIHJ1
biB0aGUgcHJvZmlsZSBjb21tYW5kcy4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFt
IG5hbWU9InNoZWxsSWQiPlRoZSBpZCBpZGVudGlmeWluZyB0aGUgaG9zdCBvciBzaGVsbCB1c2Vk
IGluIHByb2ZpbGUgZmlsZSBuYW1lcy48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJ1c2VU
ZXN0UHJvZmlsZSI+dXNlZCBmcm9tIHRlc3Qgbm90IHRvIG92ZXJ3cml0ZSB0aGUgcHJvZmlsZSBm
aWxlIG5hbWVzIGZyb20gZGV2ZWxvcG1lbnQgYm94ZXM8L3BhcmFtPgoJCQkJLy8vIDxyZXR1cm5z
PlRoZSBjb21tYW5kcyB1c2VkIHRvIHNldCAkcHJvZmlsZS48L3JldHVybnM+CgkJCQlpbnRlcm5h
bCBzdGF0aWMgUFNDb21tYW5kW10gR2V0UHJvZmlsZUNvbW1hbmRzKHN0cmluZyBzaGVsbElkLCBi
b29sIHVzZVRlc3RQcm9maWxlKQoJCQkJewoJCQkJCUxpc3Q8UFNDb21tYW5kPiBjb21tYW5kcyA9
IG5ldyBMaXN0PFBTQ29tbWFuZD4oKTsKCQkJCQlzdHJpbmcgYWxsVXNlcnNBbGxIb3N0cyA9IEhv
c3RVdGlsaXRpZXMuR2V0RnVsbFByb2ZpbGVGaWxlTmFtZShudWxsLCBmYWxzZSwgdXNlVGVzdFBy
b2ZpbGUpOwoJCQkJCXN0cmluZyBhbGxVc2Vyc0N1cnJlbnRIb3N0ID0gSG9zdFV0aWxpdGllcy5H
ZXRGdWxsUHJvZmlsZUZpbGVOYW1lKHNoZWxsSWQsIGZhbHNlLCB1c2VUZXN0UHJvZmlsZSk7CgkJ
CQkJc3RyaW5nIGN1cnJlbnRVc2VyQWxsSG9zdHMgPSBIb3N0VXRpbGl0aWVzLkdldEZ1bGxQcm9m
aWxlRmlsZU5hbWUobnVsbCwgdHJ1ZSwgdXNlVGVzdFByb2ZpbGUpOwoJCQkJCXN0cmluZyBjdXJy
ZW50VXNlckN1cnJlbnRIb3N0ID0gSG9zdFV0aWxpdGllcy5HZXRGdWxsUHJvZmlsZUZpbGVOYW1l
KHNoZWxsSWQsIHRydWUsIHVzZVRlc3RQcm9maWxlKTsKCQkJCQlQU09iamVjdCBkb2xsYXJQcm9m
aWxlID0gSG9zdFV0aWxpdGllcy5HZXREb2xsYXJQcm9maWxlKGFsbFVzZXJzQWxsSG9zdHMsIGFs
bFVzZXJzQ3VycmVudEhvc3QsIGN1cnJlbnRVc2VyQWxsSG9zdHMsIGN1cnJlbnRVc2VyQ3VycmVu
dEhvc3QpOwoJCQkJCVBTQ29tbWFuZCBjb21tYW5kID0gbmV3IFBTQ29tbWFuZCgpOwoJCQkJCWNv
bW1hbmQuQWRkQ29tbWFuZCgic2V0LXZhcmlhYmxlIik7CgkJCQkJY29tbWFuZC5BZGRQYXJhbWV0
ZXIoIk5hbWUiLCAicHJvZmlsZSIpOwoJCQkJCWNvbW1hbmQuQWRkUGFyYW1ldGVyKCJWYWx1ZSIs
IGRvbGxhclByb2ZpbGUpOwoJCQkJCWNvbW1hbmQuQWRkUGFyYW1ldGVyKCJPcHRpb24iLCBTY29w
ZWRJdGVtT3B0aW9ucy5Ob25lKTsKCQkJCQljb21tYW5kcy5BZGQoY29tbWFuZCk7CgoJCQkJCXN0
cmluZ1tdIHByb2ZpbGVQYXRocyA9IG5ldyBzdHJpbmdbXSB7IGFsbFVzZXJzQWxsSG9zdHMsIGFs
bFVzZXJzQ3VycmVudEhvc3QsIGN1cnJlbnRVc2VyQWxsSG9zdHMsIGN1cnJlbnRVc2VyQ3VycmVu
dEhvc3QgfTsKCQkJCQlmb3JlYWNoIChzdHJpbmcgcHJvZmlsZVBhdGggaW4gcHJvZmlsZVBhdGhz
KQoJCQkJCXsKCQkJCQkJaWYgKCFTeXN0ZW0uSU8uRmlsZS5FeGlzdHMocHJvZmlsZVBhdGgpKQoJ
CQkJCQl7CgkJCQkJCQljb250aW51ZTsKCQkJCQkJfQoKCQkJCQkJY29tbWFuZCA9IG5ldyBQU0Nv
bW1hbmQoKTsKCQkJCQkJY29tbWFuZC5BZGRDb21tYW5kKHByb2ZpbGVQYXRoLCBmYWxzZSk7CgkJ
CQkJCWNvbW1hbmRzLkFkZChjb21tYW5kKTsKCQkJCQl9CgoJCQkJCXJldHVybiBjb21tYW5kcy5U
b0FycmF5KCk7CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIFVzZWQgdG8gZ2V0IGFs
bCBwcm9maWxlIGZpbGUgbmFtZXMgZm9yIHRoZSBjdXJyZW50IG9yIGFsbCBob3N0cyBhbmQgZm9y
IHRoZSBjdXJyZW50IG9yIGFsbCB1c2Vycy4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBh
cmFtIG5hbWU9InNoZWxsSWQiPm51bGwgZm9yIGFsbCBob3N0cywgbm90IG51bGwgZm9yIHRoZSBz
cGVjaWZpZWQgaG9zdDwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImZvckN1cnJlbnRVc2Vy
Ij5mYWxzZSBmb3IgYWxsIHVzZXJzLCB0cnVlIGZvciB0aGUgY3VycmVudCB1c2VyLjwvcGFyYW0+
CgkJCQkvLy8gPHJldHVybnM+VGhlIHByb2ZpbGUgZmlsZSBuYW1lIG1hdGNoaW5nIHRoZSBwYXJh
bWV0ZXJzLjwvcmV0dXJucz4KCQkJCWludGVybmFsIHN0YXRpYyBzdHJpbmcgR2V0RnVsbFByb2Zp
bGVGaWxlTmFtZShzdHJpbmcgc2hlbGxJZCwgYm9vbCBmb3JDdXJyZW50VXNlcikKCQkJCXsKCQkJ
CQlyZXR1cm4gSG9zdFV0aWxpdGllcy5HZXRGdWxsUHJvZmlsZUZpbGVOYW1lKHNoZWxsSWQsIGZv
ckN1cnJlbnRVc2VyLCBmYWxzZSk7CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIFVz
ZWQgdG8gZ2V0IGFsbCBwcm9maWxlIGZpbGUgbmFtZXMgZm9yIHRoZSBjdXJyZW50IG9yIGFsbCBo
b3N0cyBhbmQgZm9yIHRoZSBjdXJyZW50IG9yIGFsbCB1c2Vycy4KCQkJCS8vLyA8L3N1bW1hcnk+
CgkJCQkvLy8gPHBhcmFtIG5hbWU9InNoZWxsSWQiPm51bGwgZm9yIGFsbCBob3N0cywgbm90IG51
bGwgZm9yIHRoZSBzcGVjaWZpZWQgaG9zdDwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImZv
ckN1cnJlbnRVc2VyIj5mYWxzZSBmb3IgYWxsIHVzZXJzLCB0cnVlIGZvciB0aGUgY3VycmVudCB1
c2VyLjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InVzZVRlc3RQcm9maWxlIj51c2VkIGZy
b20gdGVzdCBub3QgdG8gb3ZlcndyaXRlIHRoZSBwcm9maWxlIGZpbGUgbmFtZXMgZnJvbSBkZXZl
bG9wbWVudCBib3hlczwvcGFyYW0+CgkJCQkvLy8gPHJldHVybnM+VGhlIHByb2ZpbGUgZmlsZSBu
YW1lIG1hdGNoaW5nIHRoZSBwYXJhbWV0ZXJzLjwvcmV0dXJucz4KCQkJCWludGVybmFsIHN0YXRp
YyBzdHJpbmcgR2V0RnVsbFByb2ZpbGVGaWxlTmFtZShzdHJpbmcgc2hlbGxJZCwgYm9vbCBmb3JD
dXJyZW50VXNlciwgYm9vbCB1c2VUZXN0UHJvZmlsZSkKCQkJCXsKCQkJCQlzdHJpbmcgYmFzZVBh
dGggPSBudWxsOwoKCQkJCQlpZiAoZm9yQ3VycmVudFVzZXIpCgkJCQkJewoJCQkJCQliYXNlUGF0
aCA9IEVudmlyb25tZW50LkdldEZvbGRlclBhdGgoRW52aXJvbm1lbnQuU3BlY2lhbEZvbGRlci5Q
ZXJzb25hbCk7CgkJCQkJCWJhc2VQYXRoID0gU3lzdGVtLklPLlBhdGguQ29tYmluZShiYXNlUGF0
aCwgIldpbmRvd3NQb3dlclNoZWxsIik7CgkJCQkJfQoJCQkJCWVsc2UKCQkJCQl7CgkJCQkJCWJh
c2VQYXRoID0gR2V0QWxsVXNlcnNGb2xkZXJQYXRoKHNoZWxsSWQpOwoJCQkJCQlpZiAoc3RyaW5n
LklzTnVsbE9yRW1wdHkoYmFzZVBhdGgpKQoJCQkJCQl7CgkJCQkJCQlyZXR1cm4gc3RyaW5nLkVt
cHR5OwoJCQkJCQl9CgkJCQkJfQoKCQkJCQlzdHJpbmcgcHJvZmlsZU5hbWUgPSB1c2VUZXN0UHJv
ZmlsZSA/ICJwcm9maWxlX3Rlc3QucHMxIiA6ICJwcm9maWxlLnBzMSI7CgoJCQkJCWlmICghc3Ry
aW5nLklzTnVsbE9yRW1wdHkoc2hlbGxJZCkpCgkJCQkJewoJCQkJCQlwcm9maWxlTmFtZSA9IHNo
ZWxsSWQgKyAiXyIgKyBwcm9maWxlTmFtZTsKCQkJCQl9CgoJCQkJCXN0cmluZyBmdWxsUGF0aCA9
IGJhc2VQYXRoID0gU3lzdGVtLklPLlBhdGguQ29tYmluZShiYXNlUGF0aCwgcHJvZmlsZU5hbWUp
OwoKCQkJCQlyZXR1cm4gZnVsbFBhdGg7CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8v
IEdldHMgdGhlIHJlZ2lzdHJ5IGtleSB1c2VkIHRvIGluc3RhbGwgV2luZG93cyBQb3dlclNoZWxs
LgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0ic2hlbGxJZCI+VGhlIHBh
cmFtZXRlciBpcyBub3QgdXNlZC48L3BhcmFtPgoJCQkJLy8vIDxyZXR1cm5zPlRoZSByZWdpc3J0
eSBrZXkuPC9yZXR1cm5zPgoJCQkJaW50ZXJuYWwgc3RhdGljIHN0cmluZyBHZXRBcHBsaWNhdGlv
bkJhc2Uoc3RyaW5nIHNoZWxsSWQpCgkJCQl7CgkJCQkJc3RyaW5nIGVuZ2luZUtleVBhdGggPSBQ
b3dlclNoZWxsUm9vdEtleVBhdGggKyAiXFwiICsKCQkJCQkJUmVnaXN0cnlWZXJzaW9uS2V5ICsg
IlxcIiArIFBvd2VyU2hlbGxFbmdpbmVLZXk7CgoJCQkJCXVzaW5nIChSZWdpc3RyeUtleSBlbmdp
bmVLZXkgPSBSZWdpc3RyeS5Mb2NhbE1hY2hpbmUuT3BlblN1YktleShlbmdpbmVLZXlQYXRoKSkK
CQkJCQl7CgkJCQkJCWlmIChlbmdpbmVLZXkgIT0gbnVsbCkKCQkJCQkJewoJCQkJCQkJcmV0dXJu
IGVuZ2luZUtleS5HZXRWYWx1ZShQb3dlclNoZWxsRW5naW5lQXBwbGljYXRpb25CYXNlKSBhcyBz
dHJpbmc7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCS8vIFRoZSBkZWZhdWx0IGtleXMgYXJlbid0IGlu
c3RhbGxlZCwgc28gdHJ5IGFuZCB1c2UgdGhlIGVudHJ5IGFzc2VtYmx5IHRvCgkJCQkJLy8gZ2V0
IHRoZSBhcHBsaWNhdGlvbiBiYXNlLiBUaGlzIHdvcmtzIGZvciBtYW5hZ2VkIGFwcHMgbGlrZSBt
aW5pc2hlbGxzLi4uCgkJCQkJQXNzZW1ibHkgYXNzZW0gPSBBc3NlbWJseS5HZXRFbnRyeUFzc2Vt
Ymx5KCk7CgkJCQkJaWYgKGFzc2VtICE9IG51bGwpCgkJCQkJewoJCQkJCQkvLyBGb3IgbWluaXNo
ZWxscywgd2UganVzdCByZXR1cm4gdGhlIGV4ZWN1dGFibGUgcGF0aC4gCgkJCQkJCXJldHVybiBQ
YXRoLkdldERpcmVjdG9yeU5hbWUoYXNzZW0uTG9jYXRpb24pOwoJCQkJCX0KCgkJCQkJLy8gRm9y
IHVubWFuYWdlZCBob3N0IGFwcHMsIGxvb2sgZm9yIHRoZSBTTUEgZGxsLCBpZiBpdCdzIG5vdCBH
QUMnZWQgdGhlbgoJCQkJCS8vIHVzZSBpdCdzIGxvY2F0aW9uIGFzIHRoZSBhcHBsaWNhdGlvbiBi
YXNlLi4uCgkJCQkJYXNzZW0gPSBBc3NlbWJseS5HZXRBc3NlbWJseSh0eXBlb2YoU3lzdGVtLk1h
bmFnZW1lbnQuQXV0b21hdGlvbi5QU09iamVjdCkpOwoJCQkJCWlmIChhc3NlbSAhPSBudWxsKQoJ
CQkJCXsKCQkJCQkJLy8gRm9yIGZvciBvdGhlciBob3N0cy4gCgkJCQkJCXJldHVybiBQYXRoLkdl
dERpcmVjdG9yeU5hbWUoYXNzZW0uTG9jYXRpb24pOwoJCQkJCX0KCgkJCQkJLy8gb3RoZXJ3aXNl
LCBqdXN0IGdpdmUgdXAuCgkJCQkJcmV0dXJuIHN0cmluZy5FbXB0eTsKCQkJCX0KCgkJCQkvLy8g
PHN1bW1hcnk+CgkJCQkvLy8gVXNlZCBpbnRlcm5hbGx5IGluIEdldEZ1bGxQcm9maWxlRmlsZU5h
bWUgdG8gZ2V0IHRoZSBiYXNlIHBhdGggZm9yIGFsbCB1c2VycyBwcm9maWxlcy4KCQkJCS8vLyA8
L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InNoZWxsSWQiPlRoZSBzaGVsbElkIHRvIHVz
ZS48L3BhcmFtPgoJCQkJLy8vIDxyZXR1cm5zPnRoZSBiYXNlIHBhdGggZm9yIGFsbCB1c2VycyBw
cm9maWxlcy48L3JldHVybnM+CgkJCQlwcml2YXRlIHN0YXRpYyBzdHJpbmcgR2V0QWxsVXNlcnNG
b2xkZXJQYXRoKHN0cmluZyBzaGVsbElkKQoJCQkJewoJCQkJCXN0cmluZyBmb2xkZXJQYXRoID0g
c3RyaW5nLkVtcHR5OwoJCQkJCXRyeQoJCQkJCXsKCQkJCQkJZm9sZGVyUGF0aCA9IEdldEFwcGxp
Y2F0aW9uQmFzZShzaGVsbElkKTsKCQkJCQl9CgkJCQkJY2F0Y2ggKFN5c3RlbS5TZWN1cml0eS5T
ZWN1cml0eUV4Y2VwdGlvbikKCQkJCQl7CgkJCQkJfQoKCQkJCQlyZXR1cm4gZm9sZGVyUGF0aDsK
CQkJCX0KCQkJfQoKCQkJaW50ZXJuYWwgY2xhc3MgTXlSYXdVc2VySW50ZXJmYWNlIDogUFNIb3N0
UmF3VXNlckludGVyZmFjZQoJCQl7CgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gR2V0cyBvciBz
ZXRzIHRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRleHQgdG8gYmUgd3JpdHRlbi4KCQkJCS8vLyBU
aGlzIG1hcHMgcHJldHR5IGRpcmVjdGx5IG9udG8gdGhlIGNvcnJlc3BvbmRpbmcgLk5FVCBDb25z
b2xlCgkJCQkvLy8gcHJvcGVydHkuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJcHVibGljIG92ZXJy
aWRlIENvbnNvbGVDb2xvciBCYWNrZ3JvdW5kQ29sb3IKCQkJCXsKCQkJCQlnZXQgeyByZXR1cm4g
Q29uc29sZS5CYWNrZ3JvdW5kQ29sb3I7IH0KCQkJCQlzZXQgeyBDb25zb2xlLkJhY2tncm91bmRD
b2xvciA9IHZhbHVlOyB9CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIEdldHMgb3Ig
c2V0cyB0aGUgaG9zdCBidWZmZXIgc2l6ZSBhZGFwdGVkIGZyb20gb24gdGhlIAoJCQkJLy8vIC5O
RVQgQ29uc29sZSBidWZmZXIgc2l6ZS4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQlwdWJsaWMgb3Zl
cnJpZGUgU2l6ZSBCdWZmZXJTaXplCgkJCQl7CgkJCQkJZ2V0IHsgcmV0dXJuIG5ldyBTaXplKENv
bnNvbGUuQnVmZmVyV2lkdGgsIENvbnNvbGUuQnVmZmVySGVpZ2h0KTsgfQoJCQkJCXNldCB7IENv
bnNvbGUuU2V0QnVmZmVyU2l6ZSh2YWx1ZS5XaWR0aCwgdmFsdWUuSGVpZ2h0KTsgfQoJCQkJfQoK
CQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBHZXRzIG9yIHNldHMgdGhlIGN1cnNvciBwb3NpdGlv
bi4gVGhpcyBmdW5jdGlvbmFsaXR5IGlzIG5vdCAKCQkJCS8vLyBpbXBsZW1lbnRlZC4gVGhlIGNh
bGwgZmFpbHMgd2l0aCBhbiBleGNlcHRpb24uCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJcHVibGlj
IG92ZXJyaWRlIENvb3JkaW5hdGVzIEN1cnNvclBvc2l0aW9uCgkJCQl7CgkJCQkJZ2V0IHsgdGhy
b3cgbmV3IE5vdEltcGxlbWVudGVkRXhjZXB0aW9uKCJUaGUgQ3Vyc29yUG9zaXRpb24gcHJvcGVy
dHkgaXMgbm90IGltcGxlbWVudGVkIGJ5IE15UmF3VXNlckludGVyZmFjZS4iKTsgfQoJCQkJCXNl
dCB7IHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEV4Y2VwdGlvbigiVGhlIEN1cnNvclBvc2l0aW9u
IHByb3BlcnR5IGlzIG5vdCBpbXBsZW1lbnRlZCBieSBNeVJhd1VzZXJJbnRlcmZhY2UuIik7IH0K
CQkJCX0KCgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gR2V0cyBvciBzZXRzIHRoZSBjdXJzb3Ig
c2l6ZSB0YWtlbiBkaXJlY3RseSBmcm9tIHRoZSAuTkVUIAoJCQkJLy8vIENvbnNvbGUgY3Vyc29y
IHNpemUuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJcHVibGljIG92ZXJyaWRlIGludCBDdXJzb3JT
aXplCgkJCQl7CgkJCQkJZ2V0IHsgcmV0dXJuIENvbnNvbGUuQ3Vyc29yU2l6ZTsgfQoJCQkJCXNl
dCB7IENvbnNvbGUuQ3Vyc29yU2l6ZSA9IHZhbHVlOyB9CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5
PgoJCQkJLy8vIEdldHMgb3Igc2V0cyB0aGUgZm9yZWdyb3VuZCBjb2xvciBvZiB0aGUgdGV4dCB0
byBiZSB3cml0dGVuLgoJCQkJLy8vIFRoaXMgbWFwcyBwcmV0dHkgZGlyZWN0bHkgb250byB0aGUg
Y29ycmVzcG9uZGluZyAuTkVUIENvbnNvbGUKCQkJCS8vLyBwcm9wZXJ0eS4KCQkJCS8vLyA8L3N1
bW1hcnk+CgkJCQlwdWJsaWMgb3ZlcnJpZGUgQ29uc29sZUNvbG9yIEZvcmVncm91bmRDb2xvcgoJ
CQkJewoJCQkJCWdldCB7IHJldHVybiBDb25zb2xlLkZvcmVncm91bmRDb2xvcjsgfQoJCQkJCXNl
dCB7IENvbnNvbGUuRm9yZWdyb3VuZENvbG9yID0gdmFsdWU7IH0KCQkJCX0KCgkJCQkvLy8gPHN1
bW1hcnk+CgkJCQkvLy8gR2V0cyBhIHZhbHVlIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgYSBrZXkg
aXMgYXZhaWxhYmxlLiAKCQkJCS8vLyBUaGlzIGltcGxlbWVudGF0aW9uIG1hcHMgZGlyZWN0bHkg
dG8gdGhlIGNvcnJlc3BvbmRpbmcgCgkJCQkvLy8gLk5FVCBDb25zb2xlIHByb3BlcnR5LgoJCQkJ
Ly8vIDwvc3VtbWFyeT4KCQkJCXB1YmxpYyBvdmVycmlkZSBib29sIEtleUF2YWlsYWJsZQoJCQkJ
ewoJCQkJCWdldCB7IHJldHVybiBDb25zb2xlLktleUF2YWlsYWJsZTsgfQoJCQkJfQoKCQkJCS8v
LyA8c3VtbWFyeT4KCQkJCS8vLyBHZXRzIHRoZSBtYXhpbXVtIHBoeXNpY2FsIHNpemUgb2YgdGhl
IHdpbmRvdyBhZGFwdGVkIGZyb20gdGhlICAKCQkJCS8vLyAuTkVUIENvbnNvbGUgTGFyZ2VzdFdp
bmRvd1dpZHRoIGFuZCBMYXJnZXN0V2luZG93SGVpZ2h0IHByb3BlcnRpZXMuCgkJCQkvLy8gPC9z
dW1tYXJ5PgoJCQkJcHVibGljIG92ZXJyaWRlIFNpemUgTWF4UGh5c2ljYWxXaW5kb3dTaXplCgkJ
CQl7CgkJCQkJZ2V0IHsgcmV0dXJuIG5ldyBTaXplKENvbnNvbGUuTGFyZ2VzdFdpbmRvd1dpZHRo
LCBDb25zb2xlLkxhcmdlc3RXaW5kb3dIZWlnaHQpOyB9CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5
PgoJCQkJLy8vIEdldHMgdGhlIG1heGltdW0gd2luZG93IHNpemUgYWRhcHRlZCBmcm9tIHRoZSAu
TkVUIENvbnNvbGUKCQkJCS8vLyBMYXJnZXN0V2luZG93V2lkdGggYW5kIExhcmdlc3RXaW5kb3dI
ZWlnaHQgcHJvcGVydGllcy4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQlwdWJsaWMgb3ZlcnJpZGUg
U2l6ZSBNYXhXaW5kb3dTaXplCgkJCQl7CgkJCQkJZ2V0IHsgcmV0dXJuIG5ldyBTaXplKENvbnNv
bGUuTGFyZ2VzdFdpbmRvd1dpZHRoLCBDb25zb2xlLkxhcmdlc3RXaW5kb3dIZWlnaHQpOyB9CgkJ
CQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIEdldHMgb3Igc2V0cyB0aGUgd2luZG93IHBv
c2l0aW9uIGFkYXB0ZWQgZnJvbSB0aGUgQ29uc29sZSB3aW5kb3cgcG9zaXRpb24gCgkJCQkvLy8g
aW5mb3JtYXRpb24uCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJcHVibGljIG92ZXJyaWRlIENvb3Jk
aW5hdGVzIFdpbmRvd1Bvc2l0aW9uCgkJCQl7CgkJCQkJZ2V0IHsgcmV0dXJuIG5ldyBDb29yZGlu
YXRlcyhDb25zb2xlLldpbmRvd0xlZnQsIENvbnNvbGUuV2luZG93VG9wKTsgfQoJCQkJCXNldCB7
IENvbnNvbGUuU2V0V2luZG93UG9zaXRpb24odmFsdWUuWCwgdmFsdWUuWSk7IH0KCQkJCX0KCgkJ
CQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gR2V0cyBvciBzZXRzIHRoZSB3aW5kb3cgc2l6ZSBhZGFw
dGVkIGZyb20gdGhlIGNvcnJlc3BvbmRpbmcgLk5FVCBDb25zb2xlIGNhbGxzLgoJCQkJLy8vIDwv
c3VtbWFyeT4KCQkJCXB1YmxpYyBvdmVycmlkZSBTaXplIFdpbmRvd1NpemUKCQkJCXsKCQkJCQln
ZXQgeyByZXR1cm4gbmV3IFNpemUoQ29uc29sZS5XaW5kb3dXaWR0aCwgQ29uc29sZS5XaW5kb3dI
ZWlnaHQpOyB9CgkJCQkJc2V0IHsgQ29uc29sZS5TZXRXaW5kb3dTaXplKHZhbHVlLldpZHRoLCB2
YWx1ZS5IZWlnaHQpOyB9CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIEdldHMgb3Ig
c2V0cyB0aGUgdGl0bGUgb2YgdGhlIHdpbmRvdyBtYXBwZWQgdG8gdGhlIENvbnNvbGUuVGl0bGUg
cHJvcGVydHkuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJcHVibGljIG92ZXJyaWRlIHN0cmluZyBX
aW5kb3dUaXRsZQoJCQkJewoJCQkJCWdldCB7IHJldHVybiBDb25zb2xlLlRpdGxlOyB9CgkJCQkJ
c2V0IHsgQ29uc29sZS5UaXRsZSA9IHZhbHVlOyB9CgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJ
CQkJLy8vIFJlc2V0cyB0aGUgaW5wdXQgYnVmZmVyLiBUaGlzIG1ldGhvZCBpcyBub3QgY3VycmVu
dGx5IAoJCQkJLy8vIGltcGxlbWVudGVkIGFuZCByZXR1cm5zIHNpbGVudGx5LgoJCQkJLy8vIDwv
c3VtbWFyeT4KCQkJCXB1YmxpYyBvdmVycmlkZSB2b2lkIEZsdXNoSW5wdXRCdWZmZXIoKQoJCQkJ
ewoJCQkJCS8vIERvIG5vdGhpbmcuCgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIFJl
dHJpZXZlcyBhIHJlY3Rhbmd1bGFyIHJlZ2lvbiBvZiB0aGUgc2NyZWVuIGJ1ZmZlci4gVGhpcyBt
ZXRob2QgCgkJCQkvLy8gaXMgbm90IGltcGxlbWVudGVkLiBUaGUgY2FsbCBmYWlscyB3aXRoIGFu
IGV4Y2VwdGlvbi4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InJlY3Rh
bmdsZSI+QSBSZWN0YW5nbGUgb2JqZWN0IHRoYXQgZGVmaW5lcyB0aGUgc2l6ZSBvZiB0aGUgcmVj
dGFuZ2xlPC9wYXJhbT4KCQkJCS8vLyA8cmV0dXJucz5UaHJvd3MgYSBOb3RJbXBsZW1lbnRlZEV4
Y2VwdGlvbiBleGNlcHRpb24uPC9yZXR1cm5zPgoJCQkJcHVibGljIG92ZXJyaWRlIEJ1ZmZlckNl
bGxbLF0gR2V0QnVmZmVyQ29udGVudHMoUmVjdGFuZ2xlIHJlY3RhbmdsZSkKCQkJCXsKCQkJCQl0
aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFeGNlcHRpb24oIlRoZSBHZXRCdWZmZXJDb250ZW50cyBt
ZXRob2QgaXMgbm90IGltcGxlbWVudGVkIGJ5IE15UmF3VXNlckludGVyZmFjZS4iKTsKCQkJCX0K
CgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gUmVhZHMgYSBwcmVzc2VkLCByZWxlYXNlZCwgb3Ig
cHJlc3NlZCBhbmQgcmVsZWFzZWQga2V5c3Ryb2tlIAoJCQkJLy8vIGZyb20gdGhlIGtleWJvYXJk
IGRldmljZSwgYmxvY2tpbmcgcHJvY2Vzc2luZyB1bnRpbCBhIGtleXN0cm9rZSAKCQkJCS8vLyBp
cyB0eXBlZCB0aGF0IG1hdGNoZXMgdGhlIHNwZWNpZmllZCBrZXlzdHJva2Ugb3B0aW9ucy4gVGhp
cyAKCQkJCS8vLyBmdW5jdGlvbmFsaXR5IGlzIG5vdCBpbXBsZW1lbnRlZC4gVGhlIGNhbGwgZmFp
bHMgd2l0aCBhbiAKCQkJCS8vLyBleGNlcHRpb24uCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJLy8v
IDxwYXJhbSBuYW1lPSJvcHRpb25zIj5BIGJpdCBtYXNrIG9mIHRoZSBvcHRpb25zIHRvIGJlIHVz
ZWQgd2hlbiAKCQkJCS8vLyByZWFkaW5nIGZyb20gdGhlIGtleWJvYXJkLiA8L3BhcmFtPgoJCQkJ
Ly8vIDxyZXR1cm5zPlRocm93cyBhIE5vdEltcGxlbWVudGVkRXhjZXB0aW9uIGV4Y2VwdGlvbi48
L3JldHVybnM+CgkJCQlwdWJsaWMgb3ZlcnJpZGUgS2V5SW5mbyBSZWFkS2V5KFJlYWRLZXlPcHRp
b25zIG9wdGlvbnMpCgkJCQl7CgkJCQkJdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXhjZXB0aW9u
KCJUaGUgUmVhZEtleSgpIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQgYnkgTXlSYXdVc2VySW50
ZXJmYWNlLiIpOwoJCQkJfQoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBDcm9wcyBhIHJlZ2lv
biBvZiB0aGUgc2NyZWVuIGJ1ZmZlci4gVGhpcyBmdW5jdGlvbmFsaXR5IGlzIG5vdCAKCQkJCS8v
LyBpbXBsZW1lbnRlZC4gVGhlIGNhbGwgZmFpbHMgd2l0aCBhbiBleGNlcHRpb24uCgkJCQkvLy8g
PC9zdW1tYXJ5PgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJzb3VyY2UiPkEgUmVjdGFuZ2xlIHN0cnVj
dHVyZSB0aGF0IGlkZW50aWZpZXMgdGhlIAoJCQkJLy8vIHJlZ2lvbiBvZiB0aGUgc2NyZWVuIHRv
IGJlIHNjcm9sbGVkLjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImRlc3RpbmF0aW9uIj5B
IENvb3JkaW5hdGVzIHN0cnVjdHVyZSB0aGF0IAoJCQkJLy8vIGlkZW50aWZpZXMgdGhlIHVwcGVy
LWxlZnQgY29vcmRpbmF0ZXMgb2YgdGhlIHJlZ2lvbiBvZiB0aGUgCgkJCQkvLy8gc2NyZWVuIHRv
IHJlY2VpdmUgdGhlIHNvdXJjZSByZWdpb24gY29udGVudHMuPC9wYXJhbT4KCQkJCS8vLyA8cGFy
YW0gbmFtZT0iY2xpcCI+QSBSZWN0YW5nbGUgc3RydWN0dXJlIHRoYXQgaWRlbnRpZmllcyB0aGUg
CgkJCQkvLy8gcmVnaW9uIG9mIHRoZSBzY3JlZW4gdG8gaW5jbHVkZSBpbiB0aGUgb3BlcmF0aW9u
LjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImZpbGwiPkEgQnVmZmVyQ2VsbCBzdHJ1Y3R1
cmUgdGhhdCBpZGVudGlmaWVzIHRoZSAKCQkJCS8vLyBjaGFyYWN0ZXIgYW5kIGF0dHJpYnV0ZXMg
dG8gYmUgdXNlZCB0byBmaWxsIGFsbCBjZWxscyB3aXRoaW4gCgkJCQkvLy8gdGhlIGludGVyc2Vj
dGlvbiBvZiB0aGUgc291cmNlIHJlY3RhbmdsZSBhbmQgY2xpcCByZWN0YW5nbGUgCgkJCQkvLy8g
dGhhdCBhcmUgbGVmdCAiZW1wdHkiIGJ5IHRoZSBtb3ZlLjwvcGFyYW0+CgkJCQlwdWJsaWMgb3Zl
cnJpZGUgdm9pZCBTY3JvbGxCdWZmZXJDb250ZW50cyhSZWN0YW5nbGUgc291cmNlLCBDb29yZGlu
YXRlcyBkZXN0aW5hdGlvbiwgUmVjdGFuZ2xlIGNsaXAsIEJ1ZmZlckNlbGwgZmlsbCkKCQkJCXsK
CQkJCQl0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFeGNlcHRpb24oIlRoZSBTY3JvbGxCdWZmZXJD
b250ZW50cygpIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQgYnkgTXlSYXdVc2VySW50ZXJmYWNl
LiIpOwoJCQkJfQoKCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBDb3BpZXMgYSBnaXZlbiBjaGFy
YWN0ZXIgdG8gYSByZWdpb24gb2YgdGhlIHNjcmVlbiBidWZmZXIgYmFzZWQgCgkJCQkvLy8gb24g
dGhlIGNvb3JkaW5hdGVzIG9mIHRoZSByZWdpb24uIFRoaXMgbWV0aG9kIGlzIG5vdCBpbXBsZW1l
bnRlZC4gCgkJCQkvLy8gVGhlIGNhbGwgZmFpbHMgd2l0aCBhbiBleGNlcHRpb24uCgkJCQkvLy8g
PC9zdW1tYXJ5PgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJvcmlnaW4iPlRoZSBjb29yZG5hdGVzIG9m
IHRoZSByZWdpb24uPC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0iY29udGVudHMiPkEgQnVm
ZmVyQ2VsbCBzdHJ1Y3R1cmUgdGhhdCBkZWZpbmVzIHRoZSBmaWxsIGNoYXJhY3Rlci48L3BhcmFt
PgoJCQkJcHVibGljIG92ZXJyaWRlIHZvaWQgU2V0QnVmZmVyQ29udGVudHMoQ29vcmRpbmF0ZXMg
b3JpZ2luLCBCdWZmZXJDZWxsWyxdIGNvbnRlbnRzKQoJCQkJewoJCQkJCXRocm93IG5ldyBOb3RJ
bXBsZW1lbnRlZEV4Y2VwdGlvbigiVGhlIFNldEJ1ZmZlckNvbnRlbnRzKCkgbWV0aG9kIGlzIG5v
dCBpbXBsZW1lbnRlZCBieSBNeVJhd1VzZXJJbnRlcmZhY2UuIik7CgkJCQl9CgoJCQkJLy8vIDxz
dW1tYXJ5PgoJCQkJLy8vIENvcGllcyBhIGdpdmVuIGNoYXJhY3RlciB0byBhIHJlY3Rhbmd1bGFy
IHJlZ2lvbiBvZiB0aGUgc2NyZWVuIAoJCQkJLy8vIGJ1ZmZlci4gVGhpcyBtZXRob2QgaXMgbm90
IGltcGxlbWVudGVkLiBUaGUgY2FsbCBmYWlscyB3aXRoIGFuIAoJCQkJLy8vIGV4Y2VwdGlvbi4K
CQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InJlY3RhbmdsZSI+QSBSZWN0
YW5nbGUgc3RydWN0dXJlIHRoYXQgZGVmaW5lcyB0aGUgYXJlYSB0byBiZSBmaWxsZWQuPC9wYXJh
bT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0iZmlsbCI+QSBCdWZmZXJDZWxsIHN0cnVjdHVyZSB0aGF0
IGRlZmluZXMgdGhlIGZpbGwgY2hhcmFjdGVyLjwvcGFyYW0+CgkJCQlwdWJsaWMgb3ZlcnJpZGUg
dm9pZCBTZXRCdWZmZXJDb250ZW50cyhSZWN0YW5nbGUgcmVjdGFuZ2xlLCBCdWZmZXJDZWxsIGZp
bGwpCgkJCQl7CgkJCQkJdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXhjZXB0aW9uKCJUaGUgU2V0
QnVmZmVyQ29udGVudHMoKSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkIGJ5IE15UmF3VXNlcklu
dGVyZmFjZS4iKTsKCQkJCX0KCQkJfQoKCQkJcHVibGljIHN0YXRpYyBjbGFzcyBDcmVkZW50aWFs
VUkKCQkJewoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIFNob3cgZGlhbG9nIGJveCBmb3IgZ2Vu
ZXJpYyBjcmVkZW50aWFsLgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0i
Y2FwdGlvbiI+PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0ibWVzc2FnZSI+PC9wYXJhbT4K
CQkJCS8vLyA8cmV0dXJucz48L3JldHVybnM+CgkJCQlwdWJsaWMgc3RhdGljIFByb21wdENyZWRl
bnRpYWxzUmVzdWx0IFByb21wdChTdHJpbmcgY2FwdGlvbiwgU3RyaW5nIG1lc3NhZ2UpCgkJCQl7
CgkJCQkJcmV0dXJuIFByb21wdChjYXB0aW9uLCBtZXNzYWdlLCBudWxsLCBudWxsKTsKCQkJCX0K
CQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBTaG93IGRpYWxvZyBib3ggZm9yIGdlbmVyaWMgY3Jl
ZGVudGlhbC4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImNhcHRpb24i
PjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9Im1lc3NhZ2UiPjwvcGFyYW0+CgkJCQkvLy8g
PHBhcmFtIG5hbWU9Imh3bmRQYXJlbnQiPjwvcGFyYW0+CgkJCQkvLy8gPHJldHVybnM+PC9yZXR1
cm5zPgoJCQkJcHVibGljIHN0YXRpYyBQcm9tcHRDcmVkZW50aWFsc1Jlc3VsdCBQcm9tcHQoU3Ry
aW5nIGNhcHRpb24sIFN0cmluZyBtZXNzYWdlLCBJbnRQdHIgaHduZFBhcmVudCkKCQkJCXsKCQkJ
CQlyZXR1cm4gUHJvbXB0KGNhcHRpb24sIG1lc3NhZ2UsIGh3bmRQYXJlbnQsIG51bGwsIG51bGwp
OwoJCQkJfQoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIFNob3cgZGlhbG9nIGJveCBmb3IgZ2Vu
ZXJpYyBjcmVkZW50aWFsLgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0i
Y2FwdGlvbiI+PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0ibWVzc2FnZSI+PC9wYXJhbT4K
CQkJCS8vLyA8cGFyYW0gbmFtZT0idXNlck5hbWUiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5h
bWU9InBhc3N3b3JkIj48L3BhcmFtPgoJCQkJLy8vIDxyZXR1cm5zPjwvcmV0dXJucz4KCQkJCXB1
YmxpYyBzdGF0aWMgUHJvbXB0Q3JlZGVudGlhbHNSZXN1bHQgUHJvbXB0KFN0cmluZyBjYXB0aW9u
LCBTdHJpbmcgbWVzc2FnZSwgU3RyaW5nIHVzZXJOYW1lLCBTdHJpbmcgcGFzc3dvcmQpCgkJCQl7
CgkJCQkJcmV0dXJuIFByb21wdChjYXB0aW9uLCBtZXNzYWdlLCBJbnRQdHIuWmVybywgdXNlck5h
bWUsIHBhc3N3b3JkKTsKCQkJCX0KCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBTaG93IGRpYWxv
ZyBib3ggZm9yIGdlbmVyaWMgY3JlZGVudGlhbC4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8g
PHBhcmFtIG5hbWU9ImNhcHRpb24iPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9Im1lc3Nh
Z2UiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InVzZXJOYW1lIj48L3BhcmFtPgoJCQkJ
Ly8vIDxwYXJhbSBuYW1lPSJwYXNzd29yZCI+PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0i
aHduZFBhcmVudCI+PC9wYXJhbT4KCQkJCS8vLyA8cmV0dXJucz48L3JldHVybnM+CgkJCQlwdWJs
aWMgc3RhdGljIFByb21wdENyZWRlbnRpYWxzUmVzdWx0IFByb21wdChTdHJpbmcgY2FwdGlvbiwg
U3RyaW5nIG1lc3NhZ2UsIEludFB0ciBod25kUGFyZW50LCBTdHJpbmcgdXNlck5hbWUsIFN0cmlu
ZyBwYXNzd29yZCkKCQkJCXsKCQkJCQlpZiAoRW52aXJvbm1lbnQuT1NWZXJzaW9uLlZlcnNpb24u
TWFqb3IgPj0gNikKCQkJCQl7CgkJCQkJCS8vIFdpbmRvd3MgVmlzdGEgb3IgMjAwOCBvciA3IG9y
IGxhdGVyCgkJCQkJCXJldHVybiBQcm9tcHRGb3JXaW5kb3dzQ3JlZGVudGlhbHMoY2FwdGlvbiwg
bWVzc2FnZSwgaHduZFBhcmVudCwgdXNlck5hbWUsIHBhc3N3b3JkKTsKCQkJCQl9CgkJCQkJZWxz
ZQoJCQkJCXsKCQkJCQkJLy8gV2luZG93cyAyMDAwIG9yIDIwMDMgb3IgWFAKCQkJCQkJcmV0dXJu
IFByb21wdEZvckNyZWRlbnRpYWxzKEVudmlyb25tZW50LlVzZXJEb21haW5OYW1lLCBjYXB0aW9u
LCBtZXNzYWdlLCBod25kUGFyZW50LCB1c2VyTmFtZSwgcGFzc3dvcmQpOwoJCQkJCX0KCQkJCX0K
CQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBTaG93IGRpYWxvZyBib3ggZm9yIGdlbmVyaWMgY3Jl
ZGVudGlhbC4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImNhcHRpb24i
PjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9Im1lc3NhZ2UiPjwvcGFyYW0+CgkJCQkvLy8g
PHJldHVybnM+PC9yZXR1cm5zPgoJCQkJcHVibGljIHN0YXRpYyBQcm9tcHRDcmVkZW50aWFsc1Nl
Y3VyZVN0cmluZ1Jlc3VsdCBQcm9tcHRXaXRoU2VjdXJlU3RyaW5nKFN0cmluZyBjYXB0aW9uLCBT
dHJpbmcgbWVzc2FnZSkKCQkJCXsKCQkJCQlyZXR1cm4gUHJvbXB0V2l0aFNlY3VyZVN0cmluZyhj
YXB0aW9uLCBtZXNzYWdlLCBJbnRQdHIuWmVybyk7CgkJCQl9CgkJCQkvLy8gPHN1bW1hcnk+CgkJ
CQkvLy8gU2hvdyBkaWFsb2cgYm94IGZvciBnZW5lcmljIGNyZWRlbnRpYWwuCgkJCQkvLy8gPC9z
dW1tYXJ5PgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJjYXB0aW9uIj48L3BhcmFtPgoJCQkJLy8vIDxw
YXJhbSBuYW1lPSJtZXNzYWdlIj48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJod25kUGFy
ZW50Ij48L3BhcmFtPgoJCQkJLy8vIDxyZXR1cm5zPjwvcmV0dXJucz4KCQkJCXB1YmxpYyBzdGF0
aWMgUHJvbXB0Q3JlZGVudGlhbHNTZWN1cmVTdHJpbmdSZXN1bHQgUHJvbXB0V2l0aFNlY3VyZVN0
cmluZyhTdHJpbmcgY2FwdGlvbiwgU3RyaW5nIG1lc3NhZ2UsIEludFB0ciBod25kUGFyZW50KQoJ
CQkJewoJCQkJCXJldHVybiBQcm9tcHRXaXRoU2VjdXJlU3RyaW5nKGNhcHRpb24sIG1lc3NhZ2Us
IEludFB0ci5aZXJvLCBudWxsLCBudWxsKTsKCQkJCX0KCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8v
LyBTaG93IGRpYWxvZyBib3ggZm9yIGdlbmVyaWMgY3JlZGVudGlhbC4KCQkJCS8vLyA8L3N1bW1h
cnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImNhcHRpb24iPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFt
IG5hbWU9Im1lc3NhZ2UiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InVzZXJOYW1lIj48
L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJwYXNzd29yZCI+PC9wYXJhbT4KCQkJCS8vLyA8
cmV0dXJucz48L3JldHVybnM+CgkJCQlwdWJsaWMgc3RhdGljIFByb21wdENyZWRlbnRpYWxzU2Vj
dXJlU3RyaW5nUmVzdWx0IFByb21wdFdpdGhTZWN1cmVTdHJpbmcoU3RyaW5nIGNhcHRpb24sIFN0
cmluZyBtZXNzYWdlLCBTZWN1cmVTdHJpbmcgdXNlck5hbWUsIFNlY3VyZVN0cmluZyBwYXNzd29y
ZCkKCQkJCXsKCQkJCQlyZXR1cm4gUHJvbXB0V2l0aFNlY3VyZVN0cmluZyhjYXB0aW9uLCBtZXNz
YWdlLCBJbnRQdHIuWmVybywgdXNlck5hbWUsIHBhc3N3b3JkKTsKCQkJCX0KCQkJCS8vLyA8c3Vt
bWFyeT4KCQkJCS8vLyBTaG93IGRpYWxvZyBib3ggZm9yIGdlbmVyaWMgY3JlZGVudGlhbC4KCQkJ
CS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImNhcHRpb24iPjwvcGFyYW0+CgkJ
CQkvLy8gPHBhcmFtIG5hbWU9Im1lc3NhZ2UiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9
InVzZXJOYW1lIj48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJwYXNzd29yZCI+PC9wYXJh
bT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0iaHduZFBhcmVudCI+PC9wYXJhbT4KCQkJCS8vLyA8cmV0
dXJucz48L3JldHVybnM+CgkJCQlwdWJsaWMgc3RhdGljIFByb21wdENyZWRlbnRpYWxzU2VjdXJl
U3RyaW5nUmVzdWx0IFByb21wdFdpdGhTZWN1cmVTdHJpbmcoU3RyaW5nIGNhcHRpb24sIFN0cmlu
ZyBtZXNzYWdlLCBJbnRQdHIgaHduZFBhcmVudCwgU2VjdXJlU3RyaW5nIHVzZXJOYW1lLCBTZWN1
cmVTdHJpbmcgcGFzc3dvcmQpCgkJCQl7CgkJCQkJaWYgKEVudmlyb25tZW50Lk9TVmVyc2lvbi5W
ZXJzaW9uLk1ham9yID49IDYpCgkJCQkJewoJCQkJCQkvLyBXaW5kb3dzIFZpc3RhIG9yIDIwMDgg
b3IgNyBvciBsYXRlcgoJCQkJCQlyZXR1cm4gUHJvbXB0Rm9yV2luZG93c0NyZWRlbnRpYWxzV2l0
aFNlY3VyZVN0cmluZyhjYXB0aW9uLCBtZXNzYWdlLCBod25kUGFyZW50LCB1c2VyTmFtZSwgcGFz
c3dvcmQpOwoJCQkJCX0KCQkJCQllbHNlCgkJCQkJewoJCQkJCQkvLyBXaW5kb3dzIDIwMDAgb3Ig
MjAwMyBvciBYUAoJCQkJCQlyZXR1cm4gUHJvbXB0Rm9yQ3JlZGVudGlhbHNXaXRoU2VjdXJlU3Ry
aW5nKEVudmlyb25tZW50LlVzZXJEb21haW5OYW1lLCBjYXB0aW9uLCBtZXNzYWdlLCBod25kUGFy
ZW50LCB1c2VyTmFtZSwgcGFzc3dvcmQpOwoJCQkJCX0KCQkJCX0KCgoJCQkJI3JlZ2lvbiBNZXRo
b2Q6IFByb21wdEZvcldpbmRvd3NDcmVkZW50aWFscwoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8v
IENyZWF0ZXMgYW5kIGRpc3BsYXlzIGEgY29uZmlndXJhYmxlIGRpYWxvZyBib3ggdGhhdCBhbGxv
d3MgdXNlcnMgdG8gc3VwcGx5IGNyZWRlbnRpYWwgaW5mb3JtYXRpb24gYnkgdXNpbmcgYW55IGNy
ZWRlbnRpYWwgcHJvdmlkZXIgaW5zdGFsbGVkIG9uIHRoZSBsb2NhbCBjb21wdXRlci4KCQkJCS8v
LyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImNhcHRpb24iPjwvcGFyYW0+CgkJCQkv
Ly8gPHBhcmFtIG5hbWU9Im1lc3NhZ2UiPjwvcGFyYW0+CgkJCQkvLy8gPHJldHVybnM+PC9yZXR1
cm5zPgoJCQkJcHVibGljIHN0YXRpYyBQcm9tcHRDcmVkZW50aWFsc1Jlc3VsdCBQcm9tcHRGb3JX
aW5kb3dzQ3JlZGVudGlhbHMoU3RyaW5nIGNhcHRpb24sIFN0cmluZyBtZXNzYWdlKQoJCQkJewoJ
CQkJCXJldHVybiBQcm9tcHRGb3JXaW5kb3dzQ3JlZGVudGlhbHMoY2FwdGlvbiwgbWVzc2FnZSwg
U3RyaW5nLkVtcHR5LCBTdHJpbmcuRW1wdHkpOwoJCQkJfQoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJ
Ly8vIENyZWF0ZXMgYW5kIGRpc3BsYXlzIGEgY29uZmlndXJhYmxlIGRpYWxvZyBib3ggdGhhdCBh
bGxvd3MgdXNlcnMgdG8gc3VwcGx5IGNyZWRlbnRpYWwgaW5mb3JtYXRpb24gYnkgdXNpbmcgYW55
IGNyZWRlbnRpYWwgcHJvdmlkZXIgaW5zdGFsbGVkIG9uIHRoZSBsb2NhbCBjb21wdXRlci4KCQkJ
CS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImNhcHRpb24iPjwvcGFyYW0+CgkJ
CQkvLy8gPHBhcmFtIG5hbWU9Im1lc3NhZ2UiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9
Imh3bmRQYXJlbnQiPjwvcGFyYW0+CgkJCQkvLy8gPHJldHVybnM+PC9yZXR1cm5zPgoJCQkJcHVi
bGljIHN0YXRpYyBQcm9tcHRDcmVkZW50aWFsc1Jlc3VsdCBQcm9tcHRGb3JXaW5kb3dzQ3JlZGVu
dGlhbHMoU3RyaW5nIGNhcHRpb24sIFN0cmluZyBtZXNzYWdlLCBJbnRQdHIgaHduZFBhcmVudCkK
CQkJCXsKCQkJCQlyZXR1cm4gUHJvbXB0Rm9yV2luZG93c0NyZWRlbnRpYWxzKGNhcHRpb24sIG1l
c3NhZ2UsIGh3bmRQYXJlbnQpOwoJCQkJfQoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIENyZWF0
ZXMgYW5kIGRpc3BsYXlzIGEgY29uZmlndXJhYmxlIGRpYWxvZyBib3ggdGhhdCBhbGxvd3MgdXNl
cnMgdG8gc3VwcGx5IGNyZWRlbnRpYWwgaW5mb3JtYXRpb24gYnkgdXNpbmcgYW55IGNyZWRlbnRp
YWwgcHJvdmlkZXIgaW5zdGFsbGVkIG9uIHRoZSBsb2NhbCBjb21wdXRlci4KCQkJCS8vLyA8L3N1
bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImNhcHRpb24iPjwvcGFyYW0+CgkJCQkvLy8gPHBh
cmFtIG5hbWU9Im1lc3NhZ2UiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InVzZXJOYW1l
Ij48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJwYXNzd29yZCI+PC9wYXJhbT4KCQkJCS8v
LyA8cmV0dXJucz48L3JldHVybnM+CgkJCQlwdWJsaWMgc3RhdGljIFByb21wdENyZWRlbnRpYWxz
UmVzdWx0IFByb21wdEZvcldpbmRvd3NDcmVkZW50aWFscyhTdHJpbmcgY2FwdGlvbiwgU3RyaW5n
IG1lc3NhZ2UsIFN0cmluZyB1c2VyTmFtZSwgU3RyaW5nIHBhc3N3b3JkKQoJCQkJewoJCQkJCXJl
dHVybiBQcm9tcHRGb3JXaW5kb3dzQ3JlZGVudGlhbHMoY2FwdGlvbiwgbWVzc2FnZSwgSW50UHRy
Llplcm8sIHVzZXJOYW1lLCBwYXNzd29yZCk7CgkJCQl9CgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkv
Ly8gQ3JlYXRlcyBhbmQgZGlzcGxheXMgYSBjb25maWd1cmFibGUgZGlhbG9nIGJveCB0aGF0IGFs
bG93cyB1c2VycyB0byBzdXBwbHkgY3JlZGVudGlhbCBpbmZvcm1hdGlvbiBieSB1c2luZyBhbnkg
Y3JlZGVudGlhbCBwcm92aWRlciBpbnN0YWxsZWQgb24gdGhlIGxvY2FsIGNvbXB1dGVyLgoJCQkJ
Ly8vIDwvc3VtbWFyeT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0iY2FwdGlvbiI+PC9wYXJhbT4KCQkJ
CS8vLyA8cGFyYW0gbmFtZT0ibWVzc2FnZSI+PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0i
aHduZFBhcmVudCI+PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0idXNlck5hbWUiPjwvcGFy
YW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InBhc3N3b3JkIj48L3BhcmFtPgoJCQkJLy8vIDxyZXR1
cm5zPjwvcmV0dXJucz4KCQkJCXB1YmxpYyBzdGF0aWMgUHJvbXB0Q3JlZGVudGlhbHNSZXN1bHQg
UHJvbXB0Rm9yV2luZG93c0NyZWRlbnRpYWxzKFN0cmluZyBjYXB0aW9uLCBTdHJpbmcgbWVzc2Fn
ZSwgSW50UHRyIGh3bmRQYXJlbnQsIFN0cmluZyB1c2VyTmFtZSwgU3RyaW5nIHBhc3N3b3JkKQoJ
CQkJewoJCQkJCVByb21wdEZvcldpbmRvd3NDcmVkZW50aWFsc09wdGlvbnMgb3B0aW9ucyA9IG5l
dyBQcm9tcHRGb3JXaW5kb3dzQ3JlZGVudGlhbHNPcHRpb25zKGNhcHRpb24sIG1lc3NhZ2UpCgkJ
CQkJewoJCQkJCQlId25kUGFyZW50ID0gaHduZFBhcmVudCwKCQkJCQkJSXNTYXZlQ2hlY2tlZCA9
IGZhbHNlCgkJCQkJfTsKCQkJCQlyZXR1cm4gUHJvbXB0Rm9yV2luZG93c0NyZWRlbnRpYWxzKG9w
dGlvbnMsIHVzZXJOYW1lLCBwYXNzd29yZCk7CgoJCQkJfQoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJ
Ly8vIENyZWF0ZXMgYW5kIGRpc3BsYXlzIGEgY29uZmlndXJhYmxlIGRpYWxvZyBib3ggdGhhdCBh
bGxvd3MgdXNlcnMgdG8gc3VwcGx5IGNyZWRlbnRpYWwgaW5mb3JtYXRpb24gYnkgdXNpbmcgYW55
IGNyZWRlbnRpYWwgcHJvdmlkZXIgaW5zdGFsbGVkIG9uIHRoZSBsb2NhbCBjb21wdXRlci4KCQkJ
CS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9Im9wdGlvbnMiPjwvcGFyYW0+CgkJ
CQkvLy8gPHBhcmFtIG5hbWU9InVzZXJOYW1lIj48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1l
PSJwYXNzd29yZCI+PC9wYXJhbT4KCQkJCS8vLyA8cmV0dXJucz48L3JldHVybnM+CgkJCQlwdWJs
aWMgc3RhdGljIFByb21wdENyZWRlbnRpYWxzUmVzdWx0IFByb21wdEZvcldpbmRvd3NDcmVkZW50
aWFscyhQcm9tcHRGb3JXaW5kb3dzQ3JlZGVudGlhbHNPcHRpb25zIG9wdGlvbnMsIFN0cmluZyB1
c2VyTmFtZSwgU3RyaW5nIHBhc3N3b3JkKQoJCQkJewoJCQkJCWlmIChTdHJpbmcuSXNOdWxsT3JF
bXB0eSh1c2VyTmFtZSkgJiYgU3RyaW5nLklzTnVsbE9yRW1wdHkocGFzc3dvcmQpKQoJCQkJCQly
ZXR1cm4gUHJvbXB0Rm9yV2luZG93c0NyZWRlbnRpYWxzSW50ZXJuYWw8UHJvbXB0Q3JlZGVudGlh
bHNSZXN1bHQ+KG9wdGlvbnMsIG51bGwsIG51bGwpOwoKCQkJCQl1c2luZyAoU2VjdXJlU3RyaW5n
IHVzZXJOYW1lUyA9IG5ldyBTZWN1cmVTdHJpbmcoKSkKCQkJCQl1c2luZyAoU2VjdXJlU3RyaW5n
IHBhc3N3b3JkUyA9IG5ldyBTZWN1cmVTdHJpbmcoKSkKCQkJCQl7CgkJCQkJCWlmICghU3RyaW5n
LklzTnVsbE9yRW1wdHkodXNlck5hbWUpKQoJCQkJCQl7CgkJCQkJCQlmb3JlYWNoICh2YXIgYyBp
biB1c2VyTmFtZSkKCQkJCQkJCQl1c2VyTmFtZVMuQXBwZW5kQ2hhcihjKTsKCQkJCQkJfQoJCQkJ
CQlpZiAoIVN0cmluZy5Jc051bGxPckVtcHR5KHBhc3N3b3JkKSkKCQkJCQkJewoJCQkJCQkJZm9y
ZWFjaCAodmFyIGMgaW4gcGFzc3dvcmQpCgkJCQkJCQkJcGFzc3dvcmRTLkFwcGVuZENoYXIoYyk7
CgkJCQkJCX0KCgkJCQkJCXVzZXJOYW1lUy5NYWtlUmVhZE9ubHkoKTsKCQkJCQkJcGFzc3dvcmRT
Lk1ha2VSZWFkT25seSgpOwoJCQkJCQlyZXR1cm4gUHJvbXB0Rm9yV2luZG93c0NyZWRlbnRpYWxz
SW50ZXJuYWw8UHJvbXB0Q3JlZGVudGlhbHNSZXN1bHQ+KG9wdGlvbnMsIHVzZXJOYW1lUywgcGFz
c3dvcmRTKTsKCQkJCQl9CgkJCQl9CgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gQ3JlYXRlcyBh
bmQgZGlzcGxheXMgYSBjb25maWd1cmFibGUgZGlhbG9nIGJveCB0aGF0IGFsbG93cyB1c2VycyB0
byBzdXBwbHkgY3JlZGVudGlhbCBpbmZvcm1hdGlvbiBieSB1c2luZyBhbnkgY3JlZGVudGlhbCBw
cm92aWRlciBpbnN0YWxsZWQgb24gdGhlIGxvY2FsIGNvbXB1dGVyLgoJCQkJLy8vIDwvc3VtbWFy
eT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0iY2FwdGlvbiI+PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0g
bmFtZT0ibWVzc2FnZSI+PC9wYXJhbT4KCQkJCS8vLyA8cmV0dXJucz48L3JldHVybnM+CgkJCQlw
dWJsaWMgc3RhdGljIFByb21wdENyZWRlbnRpYWxzU2VjdXJlU3RyaW5nUmVzdWx0IFByb21wdEZv
cldpbmRvd3NDcmVkZW50aWFsc1dpdGhTZWN1cmVTdHJpbmcoU3RyaW5nIGNhcHRpb24sIFN0cmlu
ZyBtZXNzYWdlKQoJCQkJewoJCQkJCXJldHVybiBQcm9tcHRGb3JXaW5kb3dzQ3JlZGVudGlhbHNX
aXRoU2VjdXJlU3RyaW5nKGNhcHRpb24sIG1lc3NhZ2UsIEludFB0ci5aZXJvLCBudWxsLCBudWxs
KTsKCQkJCX0KCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBDcmVhdGVzIGFuZCBkaXNwbGF5cyBh
IGNvbmZpZ3VyYWJsZSBkaWFsb2cgYm94IHRoYXQgYWxsb3dzIHVzZXJzIHRvIHN1cHBseSBjcmVk
ZW50aWFsIGluZm9ybWF0aW9uIGJ5IHVzaW5nIGFueSBjcmVkZW50aWFsIHByb3ZpZGVyIGluc3Rh
bGxlZCBvbiB0aGUgbG9jYWwgY29tcHV0ZXIuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJLy8vIDxw
YXJhbSBuYW1lPSJjYXB0aW9uIj48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJtZXNzYWdl
Ij48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJod25kUGFyZW50Ij48L3BhcmFtPgoJCQkJ
Ly8vIDxyZXR1cm5zPjwvcmV0dXJucz4KCQkJCXB1YmxpYyBzdGF0aWMgUHJvbXB0Q3JlZGVudGlh
bHNTZWN1cmVTdHJpbmdSZXN1bHQgUHJvbXB0Rm9yV2luZG93c0NyZWRlbnRpYWxzV2l0aFNlY3Vy
ZVN0cmluZyhTdHJpbmcgY2FwdGlvbiwgU3RyaW5nIG1lc3NhZ2UsIEludFB0ciBod25kUGFyZW50
KQoJCQkJewoJCQkJCXJldHVybiBQcm9tcHRGb3JXaW5kb3dzQ3JlZGVudGlhbHNXaXRoU2VjdXJl
U3RyaW5nKGNhcHRpb24sIG1lc3NhZ2UsIGh3bmRQYXJlbnQsIG51bGwsIG51bGwpOwoJCQkJfQoJ
CQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIENyZWF0ZXMgYW5kIGRpc3BsYXlzIGEgY29uZmlndXJh
YmxlIGRpYWxvZyBib3ggdGhhdCBhbGxvd3MgdXNlcnMgdG8gc3VwcGx5IGNyZWRlbnRpYWwgaW5m
b3JtYXRpb24gYnkgdXNpbmcgYW55IGNyZWRlbnRpYWwgcHJvdmlkZXIgaW5zdGFsbGVkIG9uIHRo
ZSBsb2NhbCBjb21wdXRlci4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9
ImNhcHRpb24iPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9Im1lc3NhZ2UiPjwvcGFyYW0+
CgkJCQkvLy8gPHBhcmFtIG5hbWU9InVzZXJOYW1lIj48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBu
YW1lPSJwYXNzd29yZCI+PC9wYXJhbT4KCQkJCS8vLyA8cmV0dXJucz48L3JldHVybnM+CgkJCQlw
dWJsaWMgc3RhdGljIFByb21wdENyZWRlbnRpYWxzU2VjdXJlU3RyaW5nUmVzdWx0IFByb21wdEZv
cldpbmRvd3NDcmVkZW50aWFsc1dpdGhTZWN1cmVTdHJpbmcoU3RyaW5nIGNhcHRpb24sIFN0cmlu
ZyBtZXNzYWdlLCBTZWN1cmVTdHJpbmcgdXNlck5hbWUsIFNlY3VyZVN0cmluZyBwYXNzd29yZCkK
CQkJCXsKCQkJCQlyZXR1cm4gUHJvbXB0Rm9yV2luZG93c0NyZWRlbnRpYWxzV2l0aFNlY3VyZVN0
cmluZyhjYXB0aW9uLCBtZXNzYWdlLCBJbnRQdHIuWmVybywgdXNlck5hbWUsIHBhc3N3b3JkKTsK
CQkJCX0KCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBDcmVhdGVzIGFuZCBkaXNwbGF5cyBhIGNv
bmZpZ3VyYWJsZSBkaWFsb2cgYm94IHRoYXQgYWxsb3dzIHVzZXJzIHRvIHN1cHBseSBjcmVkZW50
aWFsIGluZm9ybWF0aW9uIGJ5IHVzaW5nIGFueSBjcmVkZW50aWFsIHByb3ZpZGVyIGluc3RhbGxl
ZCBvbiB0aGUgbG9jYWwgY29tcHV0ZXIuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJLy8vIDxwYXJh
bSBuYW1lPSJjYXB0aW9uIj48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJtZXNzYWdlIj48
L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJod25kUGFyZW50Ij48L3BhcmFtPgoJCQkJLy8v
IDxwYXJhbSBuYW1lPSJ1c2VyTmFtZSI+PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0icGFz
c3dvcmQiPjwvcGFyYW0+CgkJCQkvLy8gPHJldHVybnM+PC9yZXR1cm5zPgoJCQkJcHVibGljIHN0
YXRpYyBQcm9tcHRDcmVkZW50aWFsc1NlY3VyZVN0cmluZ1Jlc3VsdCBQcm9tcHRGb3JXaW5kb3dz
Q3JlZGVudGlhbHNXaXRoU2VjdXJlU3RyaW5nKFN0cmluZyBjYXB0aW9uLCBTdHJpbmcgbWVzc2Fn
ZSwgSW50UHRyIGh3bmRQYXJlbnQsIFNlY3VyZVN0cmluZyB1c2VyTmFtZSwgU2VjdXJlU3RyaW5n
IHBhc3N3b3JkKQoJCQkJewoJCQkJCVByb21wdEZvcldpbmRvd3NDcmVkZW50aWFsc09wdGlvbnMg
b3B0aW9ucyA9IG5ldyBQcm9tcHRGb3JXaW5kb3dzQ3JlZGVudGlhbHNPcHRpb25zKGNhcHRpb24s
IG1lc3NhZ2UpCgkJCQkJewoJCQkJCQlId25kUGFyZW50ID0gaHduZFBhcmVudCwKCQkJCQkJSXNT
YXZlQ2hlY2tlZCA9IGZhbHNlCgkJCQkJfTsKCQkJCQlyZXR1cm4gUHJvbXB0Rm9yV2luZG93c0Ny
ZWRlbnRpYWxzV2l0aFNlY3VyZVN0cmluZyhvcHRpb25zLCB1c2VyTmFtZSwgcGFzc3dvcmQpOwoJ
CQkJfQoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIENyZWF0ZXMgYW5kIGRpc3BsYXlzIGEgY29u
ZmlndXJhYmxlIGRpYWxvZyBib3ggdGhhdCBhbGxvd3MgdXNlcnMgdG8gc3VwcGx5IGNyZWRlbnRp
YWwgaW5mb3JtYXRpb24gYnkgdXNpbmcgYW55IGNyZWRlbnRpYWwgcHJvdmlkZXIgaW5zdGFsbGVk
IG9uIHRoZSBsb2NhbCBjb21wdXRlci4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFt
IG5hbWU9Im9wdGlvbnMiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InVzZXJOYW1lIj48
L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJwYXNzd29yZCI+PC9wYXJhbT4KCQkJCS8vLyA8
cmV0dXJucz48L3JldHVybnM+CgkJCQlwdWJsaWMgc3RhdGljIFByb21wdENyZWRlbnRpYWxzU2Vj
dXJlU3RyaW5nUmVzdWx0IFByb21wdEZvcldpbmRvd3NDcmVkZW50aWFsc1dpdGhTZWN1cmVTdHJp
bmcoUHJvbXB0Rm9yV2luZG93c0NyZWRlbnRpYWxzT3B0aW9ucyBvcHRpb25zLCBTZWN1cmVTdHJp
bmcgdXNlck5hbWUsIFNlY3VyZVN0cmluZyBwYXNzd29yZCkKCQkJCXsKCQkJCQlyZXR1cm4gUHJv
bXB0Rm9yV2luZG93c0NyZWRlbnRpYWxzSW50ZXJuYWw8UHJvbXB0Q3JlZGVudGlhbHNTZWN1cmVT
dHJpbmdSZXN1bHQ+KG9wdGlvbnMsIHVzZXJOYW1lLCBwYXNzd29yZCk7CgkJCQl9CgoJCQkJcHJp
dmF0ZSBzdGF0aWMgVCBQcm9tcHRGb3JXaW5kb3dzQ3JlZGVudGlhbHNJbnRlcm5hbDxUPihQcm9t
cHRGb3JXaW5kb3dzQ3JlZGVudGlhbHNPcHRpb25zIG9wdGlvbnMsIFNlY3VyZVN0cmluZyB1c2Vy
TmFtZSwgU2VjdXJlU3RyaW5nIHBhc3N3b3JkKSB3aGVyZSBUIDogY2xhc3MsIElQcm9tcHRDcmVk
ZW50aWFsc1Jlc3VsdAoJCQkJewoJCQkJCU5hdGl2ZU1ldGhvZHMuQ1JFRFVJX0lORk8gY3JlZHVp
SW5mbyA9IG5ldyBOYXRpdmVNZXRob2RzLkNSRURVSV9JTkZPKCkKCQkJCQl7CgkJCQkJCXBzekNh
cHRpb25UZXh0ID0gb3B0aW9ucy5DYXB0aW9uLAoJCQkJCQlwc3pNZXNzYWdlVGV4dCA9IG9wdGlv
bnMuTWVzc2FnZSwKCQkJCQkJaHduZFBhcmVudCA9IG9wdGlvbnMuSHduZFBhcmVudCwKCQkJCQkJ
aGJtQmFubmVyID0gb3B0aW9ucy5IYm1CYW5uZXIKCQkJCQl9OwoKCQkJCQlQcm9tcHRGb3JXaW5k
b3dzQ3JlZGVudGlhbHNGbGFnIGNyZWRlbnRpYWxzRmxhZyA9IG9wdGlvbnMuRmxhZ3M7CgoJCQkJ
CUludFB0ciB1c2VyTmFtZVB0ciA9IEludFB0ci5aZXJvOwoJCQkJCUludFB0ciBwYXNzd29yZFB0
ciA9IEludFB0ci5aZXJvOwoJCQkJCUludDMyIGF1dGhQYWNrYWdlID0gMDsKCQkJCQlJbnRQdHIg
b3V0QXV0aEJ1ZmZlciA9IEludFB0ci5aZXJvOwoJCQkJCUludDMyIG91dEF1dGhCdWZmZXJTaXpl
ID0gMDsKCQkJCQlJbnRQdHIgaW5BdXRoQnVmZmVyID0gSW50UHRyLlplcm87CgkJCQkJSW50MzIg
aW5BdXRoQnVmZmVyU2l6ZSA9IDA7CgkJCQkJQm9vbGVhbiBzYXZlID0gb3B0aW9ucy5Jc1NhdmVD
aGVja2VkOwoJCQkJCXRyeQoJCQkJCXsKCQkJCQkJaWYgKHVzZXJOYW1lICE9IG51bGwgfHwgcGFz
c3dvcmQgIT0gbnVsbCkKCQkJCQkJewoJCQkJCQkJaWYgKHVzZXJOYW1lID09IG51bGwpCgkJCQkJ
CQkJdXNlck5hbWUgPSBuZXcgU2VjdXJlU3RyaW5nKCk7CgkJCQkJCQlpZiAocGFzc3dvcmQgPT0g
bnVsbCkKCQkJCQkJCQlwYXNzd29yZCA9IG5ldyBTZWN1cmVTdHJpbmcoKTsKCQkJCQkJCXVzZXJO
YW1lUHRyID0gTWFyc2hhbC5TZWN1cmVTdHJpbmdUb0NvVGFza01lbVVuaWNvZGUodXNlck5hbWUp
OwoJCQkJCQkJcGFzc3dvcmRQdHIgPSBNYXJzaGFsLlNlY3VyZVN0cmluZ1RvQ29UYXNrTWVtVW5p
Y29kZShwYXNzd29yZCk7CgkJCQkJCX0KCgkJCQkJCS8vIHByZWZpbGxlZCB3aXRoIFVzZXJOYW1l
IG9yIFBhc3N3b3JkCgkJCQkJCWlmICh1c2VyTmFtZVB0ciAhPSBJbnRQdHIuWmVybyB8fCBwYXNz
d29yZFB0ciAhPSBJbnRQdHIuWmVybykKCQkJCQkJewoJCQkJCQkJaW5BdXRoQnVmZmVyU2l6ZSA9
IDEwMjQ7CgkJCQkJCQlpbkF1dGhCdWZmZXIgPSBNYXJzaGFsLkFsbG9jQ29UYXNrTWVtKGluQXV0
aEJ1ZmZlclNpemUpOwoJCQkJCQkJaWYgKAoJCQkJCQkJCSFOYXRpdmVNZXRob2RzLkNyZWRQYWNr
QXV0aGVudGljYXRpb25CdWZmZXIoMHgwMCwgdXNlck5hbWVQdHIsIHBhc3N3b3JkUHRyLCBpbkF1
dGhCdWZmZXIsCgkJCQkJCQkJCQkJCQkJCQkJcmVmIGluQXV0aEJ1ZmZlclNpemUpKQoJCQkJCQkJ
ewoJCQkJCQkJCXZhciB3aW4zMkVycm9yID0gTWFyc2hhbC5HZXRMYXN0V2luMzJFcnJvcigpOwoJ
CQkJCQkJCWlmICh3aW4zMkVycm9yID09IDEyMiAvKkVSUk9SX0lOU1VGRklDSUVOVF9CVUZGRVIq
LykKCQkJCQkJCQl7CgkJCQkJCQkJCWluQXV0aEJ1ZmZlciA9IE1hcnNoYWwuUmVBbGxvY0NvVGFz
a01lbShpbkF1dGhCdWZmZXIsIGluQXV0aEJ1ZmZlclNpemUpOwoJCQkJCQkJCQlpZiAoCgkJCQkJ
CQkJCQkhTmF0aXZlTWV0aG9kcy5DcmVkUGFja0F1dGhlbnRpY2F0aW9uQnVmZmVyKDB4MDAsIHVz
ZXJOYW1lUHRyLCBwYXNzd29yZFB0ciwgaW5BdXRoQnVmZmVyLAoJCQkJCQkJCQkJCQkJCQkJCQkJ
cmVmIGluQXV0aEJ1ZmZlclNpemUpKQoJCQkJCQkJCQl7CgkJCQkJCQkJCQl0aHJvdyBuZXcgV2lu
MzJFeGNlcHRpb24oTWFyc2hhbC5HZXRMYXN0V2luMzJFcnJvcigpKTsKCQkJCQkJCQkJfQoJCQkJ
CQkJCX0KCQkJCQkJCQllbHNlCgkJCQkJCQkJewoJCQkJCQkJCQl0aHJvdyBuZXcgV2luMzJFeGNl
cHRpb24od2luMzJFcnJvcik7CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9CgoJCQkJCQl2YXIg
cmV0VmFsID0gTmF0aXZlTWV0aG9kcy5DcmVkVUlQcm9tcHRGb3JXaW5kb3dzQ3JlZGVudGlhbHMo
Y3JlZHVpSW5mbywKCQkJCQkJCQkJCQkJCQkJCQkJCSBvcHRpb25zLkF1dGhFcnJvckNvZGUsCgkJ
CQkJCQkJCQkJCQkJCQkJCQkgcmVmIGF1dGhQYWNrYWdlLAoJCQkJCQkJCQkJCQkJCQkJCQkJIGlu
QXV0aEJ1ZmZlciwKCQkJCQkJCQkJCQkJCQkJCQkJCSBpbkF1dGhCdWZmZXJTaXplLAoJCQkJCQkJ
CQkJCQkJCQkJCQkJIG91dCBvdXRBdXRoQnVmZmVyLAoJCQkJCQkJCQkJCQkJCQkJCQkJIG91dCBv
dXRBdXRoQnVmZmVyU2l6ZSwKCQkJCQkJCQkJCQkJCQkJCQkJCSByZWYgc2F2ZSwKCQkJCQkJCQkJ
CQkJCQkJCQkJCSBjcmVkZW50aWFsc0ZsYWcKCQkJCQkJCQkJCQkJCQkJCQkJCSApOwoKCQkJCQkJ
c3dpdGNoIChyZXRWYWwpCgkJCQkJCXsKCQkJCQkJCWNhc2UgTmF0aXZlTWV0aG9kcy5DcmVkVUlQ
cm9tcHRSZXR1cm5Db2RlLkNhbmNlbGxlZDoKCQkJCQkJCQlyZXR1cm4gbnVsbDsKCQkJCQkJCWNh
c2UgTmF0aXZlTWV0aG9kcy5DcmVkVUlQcm9tcHRSZXR1cm5Db2RlLlN1Y2Nlc3M6CgkJCQkJCQkJ
YnJlYWs7CgkJCQkJCQlkZWZhdWx0OgoJCQkJCQkJCXRocm93IG5ldyBXaW4zMkV4Y2VwdGlvbigo
SW50MzIpcmV0VmFsKTsKCQkJCQkJfQoKCgkJCQkJCWlmICh0eXBlb2YoVCkgPT0gdHlwZW9mKFBy
b21wdENyZWRlbnRpYWxzU2VjdXJlU3RyaW5nUmVzdWx0KSkKCQkJCQkJewoJCQkJCQkJdmFyIGNy
ZWRSZXN1bHQgPSBOYXRpdmVNZXRob2RzLkNyZWRVblBhY2tBdXRoZW50aWNhdGlvbkJ1ZmZlcldy
YXBTZWN1cmVTdHJpbmcodHJ1ZSwgb3V0QXV0aEJ1ZmZlciwgb3V0QXV0aEJ1ZmZlclNpemUpOwoJ
CQkJCQkJY3JlZFJlc3VsdC5Jc1NhdmVDaGVja2VkID0gc2F2ZTsKCQkJCQkJCXJldHVybiBjcmVk
UmVzdWx0IGFzIFQ7CgkJCQkJCX0KCQkJCQkJZWxzZQoJCQkJCQl7CgkJCQkJCQl2YXIgY3JlZFJl
c3VsdCA9IE5hdGl2ZU1ldGhvZHMuQ3JlZFVuUGFja0F1dGhlbnRpY2F0aW9uQnVmZmVyV3JhcCh0
cnVlLCBvdXRBdXRoQnVmZmVyLCBvdXRBdXRoQnVmZmVyU2l6ZSk7CgkJCQkJCQljcmVkUmVzdWx0
LklzU2F2ZUNoZWNrZWQgPSBzYXZlOwoJCQkJCQkJcmV0dXJuIGNyZWRSZXN1bHQgYXMgVDsKCQkJ
CQkJfQoJCQkJCX0KCQkJCQlmaW5hbGx5CgkJCQkJewoJCQkJCQlpZiAoaW5BdXRoQnVmZmVyICE9
IEludFB0ci5aZXJvKQoJCQkJCQkJTWFyc2hhbC5aZXJvRnJlZUNvVGFza01lbVVuaWNvZGUoaW5B
dXRoQnVmZmVyKTsKCQkJCQkJaWYgKG91dEF1dGhCdWZmZXIgIT0gSW50UHRyLlplcm8pCgkJCQkJ
CQlNYXJzaGFsLlplcm9GcmVlQ29UYXNrTWVtVW5pY29kZShvdXRBdXRoQnVmZmVyKTsKCQkJCQkJ
aWYgKHVzZXJOYW1lUHRyICE9IEludFB0ci5aZXJvKQoJCQkJCQkJTWFyc2hhbC5aZXJvRnJlZUNv
VGFza01lbVVuaWNvZGUodXNlck5hbWVQdHIpOwoJCQkJCQlpZiAocGFzc3dvcmRQdHIgIT0gSW50
UHRyLlplcm8pCgkJCQkJCQlNYXJzaGFsLlplcm9GcmVlQ29UYXNrTWVtVW5pY29kZShwYXNzd29y
ZFB0cik7CgkJCQkJfQoJCQkJfQoJCQkJI2VuZHJlZ2lvbgoKCQkJCSNyZWdpb24gTWV0aG9kOiBQ
cm9tcHRGb3JDcmVkZW50aWFscwoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIENyZWF0ZXMgYW5k
IGRpc3BsYXlzIGEgY29uZmlndXJhYmxlIGRpYWxvZyBib3ggdGhhdCBhY2NlcHRzIGNyZWRlbnRp
YWxzIGluZm9ybWF0aW9uIGZyb20gYSB1c2VyLgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCS8vLyA8
cGFyYW0gbmFtZT0idGFyZ2V0TmFtZSI+PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0iY2Fw
dGlvbiI+PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0ibWVzc2FnZSI+PC9wYXJhbT4KCQkJ
CS8vLyA8cmV0dXJucz48L3JldHVybnM+CgkJCQlwdWJsaWMgc3RhdGljIFByb21wdENyZWRlbnRp
YWxzUmVzdWx0IFByb21wdEZvckNyZWRlbnRpYWxzKFN0cmluZyB0YXJnZXROYW1lLCBTdHJpbmcg
Y2FwdGlvbiwgU3RyaW5nIG1lc3NhZ2UpCgkJCQl7CgkJCQkJcmV0dXJuIFByb21wdEZvckNyZWRl
bnRpYWxzKG5ldyBQcm9tcHRGb3JDcmVkZW50aWFsc09wdGlvbnModGFyZ2V0TmFtZSwgY2FwdGlv
biwgbWVzc2FnZSkpOwoJCQkJfQoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIENyZWF0ZXMgYW5k
IGRpc3BsYXlzIGEgY29uZmlndXJhYmxlIGRpYWxvZyBib3ggdGhhdCBhY2NlcHRzIGNyZWRlbnRp
YWxzIGluZm9ybWF0aW9uIGZyb20gYSB1c2VyLgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCS8vLyA8
cGFyYW0gbmFtZT0idGFyZ2V0TmFtZSI+PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0iY2Fw
dGlvbiI+PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0ibWVzc2FnZSI+PC9wYXJhbT4KCQkJ
CS8vLyA8cGFyYW0gbmFtZT0iaHduZFBhcmVudCI+PC9wYXJhbT4KCQkJCS8vLyA8cmV0dXJucz48
L3JldHVybnM+CgkJCQlwdWJsaWMgc3RhdGljIFByb21wdENyZWRlbnRpYWxzUmVzdWx0IFByb21w
dEZvckNyZWRlbnRpYWxzKFN0cmluZyB0YXJnZXROYW1lLCBTdHJpbmcgY2FwdGlvbiwgU3RyaW5n
IG1lc3NhZ2UsIEludFB0ciBod25kUGFyZW50KQoJCQkJewoJCQkJCXJldHVybiBQcm9tcHRGb3JD
cmVkZW50aWFscyh0YXJnZXROYW1lLCBjYXB0aW9uLCBtZXNzYWdlLCBod25kUGFyZW50KTsKCQkJ
CX0KCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBDcmVhdGVzIGFuZCBkaXNwbGF5cyBhIGNvbmZp
Z3VyYWJsZSBkaWFsb2cgYm94IHRoYXQgYWNjZXB0cyBjcmVkZW50aWFscyBpbmZvcm1hdGlvbiBm
cm9tIGEgdXNlci4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InRhcmdl
dE5hbWUiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImNhcHRpb24iPjwvcGFyYW0+CgkJ
CQkvLy8gPHBhcmFtIG5hbWU9Im1lc3NhZ2UiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9
InVzZXJOYW1lIj48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJwYXNzd29yZCI+PC9wYXJh
bT4KCQkJCS8vLyA8cmV0dXJucz48L3JldHVybnM+CgkJCQlwdWJsaWMgc3RhdGljIFByb21wdENy
ZWRlbnRpYWxzUmVzdWx0IFByb21wdEZvckNyZWRlbnRpYWxzKFN0cmluZyB0YXJnZXROYW1lLCBT
dHJpbmcgY2FwdGlvbiwgU3RyaW5nIG1lc3NhZ2UsIFN0cmluZyB1c2VyTmFtZSwgU3RyaW5nIHBh
c3N3b3JkKQoJCQkJewoJCQkJCXJldHVybiBQcm9tcHRGb3JDcmVkZW50aWFscyh0YXJnZXROYW1l
LCBjYXB0aW9uLCBtZXNzYWdlLCBJbnRQdHIuWmVybywgdXNlck5hbWUsIHBhc3N3b3JkKTsKCQkJ
CX0KCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBDcmVhdGVzIGFuZCBkaXNwbGF5cyBhIGNvbmZp
Z3VyYWJsZSBkaWFsb2cgYm94IHRoYXQgYWNjZXB0cyBjcmVkZW50aWFscyBpbmZvcm1hdGlvbiBm
cm9tIGEgdXNlci4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InRhcmdl
dE5hbWUiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImNhcHRpb24iPjwvcGFyYW0+CgkJ
CQkvLy8gPHBhcmFtIG5hbWU9Im1lc3NhZ2UiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9
Imh3bmRQYXJlbnQiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InVzZXJOYW1lIj48L3Bh
cmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJwYXNzd29yZCI+PC9wYXJhbT4KCQkJCS8vLyA8cmV0
dXJucz48L3JldHVybnM+CgkJCQlwdWJsaWMgc3RhdGljIFByb21wdENyZWRlbnRpYWxzUmVzdWx0
IFByb21wdEZvckNyZWRlbnRpYWxzKFN0cmluZyB0YXJnZXROYW1lLCBTdHJpbmcgY2FwdGlvbiwg
U3RyaW5nIG1lc3NhZ2UsIEludFB0ciBod25kUGFyZW50LCBTdHJpbmcgdXNlck5hbWUsIFN0cmlu
ZyBwYXNzd29yZCkKCQkJCXsKCQkJCQlyZXR1cm4gUHJvbXB0Rm9yQ3JlZGVudGlhbHMobmV3IFBy
b21wdEZvckNyZWRlbnRpYWxzT3B0aW9ucyh0YXJnZXROYW1lLCBjYXB0aW9uLCBtZXNzYWdlKSB7
IEh3bmRQYXJlbnQgPSBod25kUGFyZW50IH0sIHVzZXJOYW1lLCBwYXNzd29yZCk7CgkJCQl9CgkJ
CQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gQ3JlYXRlcyBhbmQgZGlzcGxheXMgYSBjb25maWd1cmFi
bGUgZGlhbG9nIGJveCB0aGF0IGFjY2VwdHMgY3JlZGVudGlhbHMgaW5mb3JtYXRpb24gZnJvbSBh
IHVzZXIuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJvcHRpb25zIj48
L3BhcmFtPgoJCQkJLy8vIDxyZXR1cm5zPjwvcmV0dXJucz4KCQkJCXB1YmxpYyBzdGF0aWMgUHJv
bXB0Q3JlZGVudGlhbHNSZXN1bHQgUHJvbXB0Rm9yQ3JlZGVudGlhbHMoUHJvbXB0Rm9yQ3JlZGVu
dGlhbHNPcHRpb25zIG9wdGlvbnMpCgkJCQl7CgkJCQkJcmV0dXJuIFByb21wdEZvckNyZWRlbnRp
YWxzKG9wdGlvbnMsIG51bGwsIG51bGwpOwoJCQkJfQoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8v
IENyZWF0ZXMgYW5kIGRpc3BsYXlzIGEgY29uZmlndXJhYmxlIGRpYWxvZyBib3ggdGhhdCBhY2Nl
cHRzIGNyZWRlbnRpYWxzIGluZm9ybWF0aW9uIGZyb20gYSB1c2VyLgoJCQkJLy8vIDwvc3VtbWFy
eT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0ib3B0aW9ucyI+PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0g
bmFtZT0idXNlck5hbWUiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InBhc3N3b3JkIj48
L3BhcmFtPgoJCQkJLy8vIDxyZXR1cm5zPjwvcmV0dXJucz4KCQkJCXB1YmxpYyBzdGF0aWMgUHJv
bXB0Q3JlZGVudGlhbHNSZXN1bHQgUHJvbXB0Rm9yQ3JlZGVudGlhbHMoUHJvbXB0Rm9yQ3JlZGVu
dGlhbHNPcHRpb25zIG9wdGlvbnMsIFN0cmluZyB1c2VyTmFtZSwgU3RyaW5nIHBhc3N3b3JkKQoJ
CQkJewoJCQkJCXVzaW5nIChTZWN1cmVTdHJpbmcgdXNlck5hbWVTID0gbmV3IFNlY3VyZVN0cmlu
ZygpKQoJCQkJCXVzaW5nIChTZWN1cmVTdHJpbmcgcGFzc3dvcmRTID0gbmV3IFNlY3VyZVN0cmlu
ZygpKQoJCQkJCXsKCQkJCQkJaWYgKCFTdHJpbmcuSXNOdWxsT3JFbXB0eSh1c2VyTmFtZSkpCgkJ
CQkJCXsKCQkJCQkJCWZvcmVhY2ggKHZhciBjIGluIHVzZXJOYW1lKQoJCQkJCQkJCXVzZXJOYW1l
Uy5BcHBlbmRDaGFyKGMpOwoJCQkJCQl9CgkJCQkJCWlmICghU3RyaW5nLklzTnVsbE9yRW1wdHko
cGFzc3dvcmQpKQoJCQkJCQl7CgkJCQkJCQlmb3JlYWNoICh2YXIgYyBpbiBwYXNzd29yZCkKCQkJ
CQkJCQlwYXNzd29yZFMuQXBwZW5kQ2hhcihjKTsKCQkJCQkJfQoKCQkJCQkJdXNlck5hbWVTLk1h
a2VSZWFkT25seSgpOwoJCQkJCQlwYXNzd29yZFMuTWFrZVJlYWRPbmx5KCk7CgkJCQkJCXJldHVy
biBQcm9tcHRGb3JDcmVkZW50aWFsc0ludGVybmFsPFByb21wdENyZWRlbnRpYWxzUmVzdWx0Pihv
cHRpb25zLCB1c2VyTmFtZVMsIHBhc3N3b3JkUyk7CgkJCQkJfQoJCQkJfQoJCQkJLy8vIDxzdW1t
YXJ5PgoJCQkJLy8vIENyZWF0ZXMgYW5kIGRpc3BsYXlzIGEgY29uZmlndXJhYmxlIGRpYWxvZyBi
b3ggdGhhdCBhY2NlcHRzIGNyZWRlbnRpYWxzIGluZm9ybWF0aW9uIGZyb20gYSB1c2VyLgoJCQkJ
Ly8vIDwvc3VtbWFyeT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0idGFyZ2V0TmFtZSI+PC9wYXJhbT4K
CQkJCS8vLyA8cGFyYW0gbmFtZT0iY2FwdGlvbiI+PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFt
ZT0ibWVzc2FnZSI+PC9wYXJhbT4KCQkJCS8vLyA8cmV0dXJucz48L3JldHVybnM+CgkJCQlwdWJs
aWMgc3RhdGljIFByb21wdENyZWRlbnRpYWxzU2VjdXJlU3RyaW5nUmVzdWx0IFByb21wdEZvckNy
ZWRlbnRpYWxzV2l0aFNlY3VyZVN0cmluZyhTdHJpbmcgdGFyZ2V0TmFtZSwgU3RyaW5nIGNhcHRp
b24sIFN0cmluZyBtZXNzYWdlKQoJCQkJewoJCQkJCXJldHVybiBQcm9tcHRGb3JDcmVkZW50aWFs
c1dpdGhTZWN1cmVTdHJpbmcobmV3IFByb21wdEZvckNyZWRlbnRpYWxzT3B0aW9ucyh0YXJnZXRO
YW1lLCBjYXB0aW9uLCBtZXNzYWdlKSk7CgkJCQl9CgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8g
Q3JlYXRlcyBhbmQgZGlzcGxheXMgYSBjb25maWd1cmFibGUgZGlhbG9nIGJveCB0aGF0IGFjY2Vw
dHMgY3JlZGVudGlhbHMgaW5mb3JtYXRpb24gZnJvbSBhIHVzZXIuCgkJCQkvLy8gPC9zdW1tYXJ5
PgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJ0YXJnZXROYW1lIj48L3BhcmFtPgoJCQkJLy8vIDxwYXJh
bSBuYW1lPSJjYXB0aW9uIj48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJtZXNzYWdlIj48
L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJod25kUGFyZW50Ij48L3BhcmFtPgoJCQkJLy8v
IDxyZXR1cm5zPjwvcmV0dXJucz4KCQkJCXB1YmxpYyBzdGF0aWMgUHJvbXB0Q3JlZGVudGlhbHNT
ZWN1cmVTdHJpbmdSZXN1bHQgUHJvbXB0Rm9yQ3JlZGVudGlhbHNXaXRoU2VjdXJlU3RyaW5nKFN0
cmluZyB0YXJnZXROYW1lLCBTdHJpbmcgY2FwdGlvbiwgU3RyaW5nIG1lc3NhZ2UsIEludFB0ciBo
d25kUGFyZW50KQoJCQkJewoJCQkJCXJldHVybiBQcm9tcHRGb3JDcmVkZW50aWFsc1dpdGhTZWN1
cmVTdHJpbmcodGFyZ2V0TmFtZSwgY2FwdGlvbiwgbWVzc2FnZSwgaHduZFBhcmVudCwgbnVsbCwg
bnVsbCk7CgkJCQl9CgkJCQkvLy8gPHN1bW1hcnk+CgkJCQkvLy8gQ3JlYXRlcyBhbmQgZGlzcGxh
eXMgYSBjb25maWd1cmFibGUgZGlhbG9nIGJveCB0aGF0IGFjY2VwdHMgY3JlZGVudGlhbHMgaW5m
b3JtYXRpb24gZnJvbSBhIHVzZXIuCgkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJLy8vIDxwYXJhbSBu
YW1lPSJ0YXJnZXROYW1lIj48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJjYXB0aW9uIj48
L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJtZXNzYWdlIj48L3BhcmFtPgoJCQkJLy8vIDxw
YXJhbSBuYW1lPSJ1c2VyTmFtZSI+PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0icGFzc3dv
cmQiPjwvcGFyYW0+CgkJCQkvLy8gPHJldHVybnM+PC9yZXR1cm5zPgoJCQkJcHVibGljIHN0YXRp
YyBQcm9tcHRDcmVkZW50aWFsc1NlY3VyZVN0cmluZ1Jlc3VsdCBQcm9tcHRGb3JDcmVkZW50aWFs
c1dpdGhTZWN1cmVTdHJpbmcoU3RyaW5nIHRhcmdldE5hbWUsIFN0cmluZyBjYXB0aW9uLCBTdHJp
bmcgbWVzc2FnZSwgU2VjdXJlU3RyaW5nIHVzZXJOYW1lLCBTZWN1cmVTdHJpbmcgcGFzc3dvcmQp
CgkJCQl7CgkJCQkJcmV0dXJuIFByb21wdEZvckNyZWRlbnRpYWxzV2l0aFNlY3VyZVN0cmluZyh0
YXJnZXROYW1lLCBjYXB0aW9uLCBtZXNzYWdlLCBJbnRQdHIuWmVybywgdXNlck5hbWUsIHBhc3N3
b3JkKTsKCQkJCX0KCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBDcmVhdGVzIGFuZCBkaXNwbGF5
cyBhIGNvbmZpZ3VyYWJsZSBkaWFsb2cgYm94IHRoYXQgYWNjZXB0cyBjcmVkZW50aWFscyBpbmZv
cm1hdGlvbiBmcm9tIGEgdXNlci4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5h
bWU9InRhcmdldE5hbWUiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9ImNhcHRpb24iPjwv
cGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9Im1lc3NhZ2UiPjwvcGFyYW0+CgkJCQkvLy8gPHBh
cmFtIG5hbWU9Imh3bmRQYXJlbnQiPjwvcGFyYW0+CgkJCQkvLy8gPHBhcmFtIG5hbWU9InVzZXJO
YW1lIj48L3BhcmFtPgoJCQkJLy8vIDxwYXJhbSBuYW1lPSJwYXNzd29yZCI+PC9wYXJhbT4KCQkJ
CS8vLyA8cmV0dXJucz48L3JldHVybnM+CgkJCQlwdWJsaWMgc3RhdGljIFByb21wdENyZWRlbnRp
YWxzU2VjdXJlU3RyaW5nUmVzdWx0IFByb21wdEZvckNyZWRlbnRpYWxzV2l0aFNlY3VyZVN0cmlu
ZyhTdHJpbmcgdGFyZ2V0TmFtZSwgU3RyaW5nIGNhcHRpb24sIFN0cmluZyBtZXNzYWdlLCBJbnRQ
dHIgaHduZFBhcmVudCwgU2VjdXJlU3RyaW5nIHVzZXJOYW1lLCBTZWN1cmVTdHJpbmcgcGFzc3dv
cmQpCgkJCQl7CgkJCQkJcmV0dXJuIFByb21wdEZvckNyZWRlbnRpYWxzV2l0aFNlY3VyZVN0cmlu
ZyhuZXcgUHJvbXB0Rm9yQ3JlZGVudGlhbHNPcHRpb25zKHRhcmdldE5hbWUsIGNhcHRpb24sIG1l
c3NhZ2UpIHsgSHduZFBhcmVudCA9IGh3bmRQYXJlbnQgfSwgdXNlck5hbWUsIHBhc3N3b3JkKTsK
CQkJCX0KCQkJCS8vLyA8c3VtbWFyeT4KCQkJCS8vLyBDcmVhdGVzIGFuZCBkaXNwbGF5cyBhIGNv
bmZpZ3VyYWJsZSBkaWFsb2cgYm94IHRoYXQgYWNjZXB0cyBjcmVkZW50aWFscyBpbmZvcm1hdGlv
biBmcm9tIGEgdXNlci4KCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkvLy8gPHBhcmFtIG5hbWU9Im9w
dGlvbnMiPjwvcGFyYW0+CgkJCQkvLy8gPHJldHVybnM+PC9yZXR1cm5zPgoJCQkJcHVibGljIHN0
YXRpYyBQcm9tcHRDcmVkZW50aWFsc1NlY3VyZVN0cmluZ1Jlc3VsdCBQcm9tcHRGb3JDcmVkZW50
aWFsc1dpdGhTZWN1cmVTdHJpbmcoUHJvbXB0Rm9yQ3JlZGVudGlhbHNPcHRpb25zIG9wdGlvbnMp
CgkJCQl7CgkJCQkJcmV0dXJuIFByb21wdEZvckNyZWRlbnRpYWxzSW50ZXJuYWw8UHJvbXB0Q3Jl
ZGVudGlhbHNTZWN1cmVTdHJpbmdSZXN1bHQ+KG9wdGlvbnMsIG51bGwsIG51bGwpOwoJCQkJfQoJ
CQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIENyZWF0ZXMgYW5kIGRpc3BsYXlzIGEgY29uZmlndXJh
YmxlIGRpYWxvZyBib3ggdGhhdCBhY2NlcHRzIGNyZWRlbnRpYWxzIGluZm9ybWF0aW9uIGZyb20g
YSB1c2VyLgoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0ib3B0aW9ucyI+
PC9wYXJhbT4KCQkJCS8vLyA8cGFyYW0gbmFtZT0idXNlck5hbWUiPjwvcGFyYW0+CgkJCQkvLy8g
PHBhcmFtIG5hbWU9InBhc3N3b3JkIj48L3BhcmFtPgoJCQkJLy8vIDxyZXR1cm5zPjwvcmV0dXJu
cz4KCQkJCXB1YmxpYyBzdGF0aWMgUHJvbXB0Q3JlZGVudGlhbHNTZWN1cmVTdHJpbmdSZXN1bHQg
UHJvbXB0Rm9yQ3JlZGVudGlhbHNXaXRoU2VjdXJlU3RyaW5nKFByb21wdEZvckNyZWRlbnRpYWxz
T3B0aW9ucyBvcHRpb25zLCBTZWN1cmVTdHJpbmcgdXNlck5hbWUsIFNlY3VyZVN0cmluZyBwYXNz
d29yZCkKCQkJCXsKCQkJCQlyZXR1cm4gUHJvbXB0Rm9yQ3JlZGVudGlhbHNJbnRlcm5hbDxQcm9t
cHRDcmVkZW50aWFsc1NlY3VyZVN0cmluZ1Jlc3VsdD4ob3B0aW9ucywgdXNlck5hbWUsIHBhc3N3
b3JkKTsKCQkJCX0KCgkJCQlwcml2YXRlIHN0YXRpYyBUIFByb21wdEZvckNyZWRlbnRpYWxzSW50
ZXJuYWw8VD4oUHJvbXB0Rm9yQ3JlZGVudGlhbHNPcHRpb25zIG9wdGlvbnMsIFNlY3VyZVN0cmlu
ZyB1c2VyTmFtZSwgU2VjdXJlU3RyaW5nIHBhc3N3b3JkKSB3aGVyZSBUIDogY2xhc3MsIElQcm9t
cHRDcmVkZW50aWFsc1Jlc3VsdAoJCQkJewoJCQkJCWlmIChvcHRpb25zID09IG51bGwpCgkJCQkJ
CXRocm93IG5ldyBBcmd1bWVudE51bGxFeGNlcHRpb24oIm9wdGlvbnMiKTsKCQkJCQlpZiAodXNl
ck5hbWUgIT0gbnVsbCAmJiAodXNlck5hbWUuTGVuZ3RoID4gTmF0aXZlTWV0aG9kcy5DUkVEVUlf
TUFYX1VTRVJOQU1FX0xFTkdUSCkpCgkJCQkJCXRocm93IG5ldyBBcmd1bWVudE91dE9mUmFuZ2VF
eGNlcHRpb24oInVzZXJOYW1lIiwgIkNSRURVSV9NQVhfVVNFUk5BTUVfTEVOR1RIIik7CgkJCQkJ
aWYgKHBhc3N3b3JkICE9IG51bGwgJiYgKHBhc3N3b3JkLkxlbmd0aCA+IE5hdGl2ZU1ldGhvZHMu
Q1JFRFVJX01BWF9QQVNTV09SRF9MRU5HVEgpKQoJCQkJCQl0aHJvdyBuZXcgQXJndW1lbnRPdXRP
ZlJhbmdlRXhjZXB0aW9uKCJwYXNzd29yZCIsICJDUkVEVUlfTUFYX1BBU1NXT1JEX0xFTkdUSCIp
OwoKCQkJCQlOYXRpdmVNZXRob2RzLkNSRURVSV9JTkZPIGNyZWR1aUluZm8gPSBuZXcgTmF0aXZl
TWV0aG9kcy5DUkVEVUlfSU5GTygpCgkJCQkJewoJCQkJCQlwc3pDYXB0aW9uVGV4dCA9IG9wdGlv
bnMuQ2FwdGlvbiwKCQkJCQkJcHN6TWVzc2FnZVRleHQgPSBvcHRpb25zLk1lc3NhZ2UsCgkJCQkJ
CWh3bmRQYXJlbnQgPSBvcHRpb25zLkh3bmRQYXJlbnQsCgkJCQkJCWhibUJhbm5lciA9IG9wdGlv
bnMuSGJtQmFubmVyCgkJCQkJfTsKCQkJCQlJbnRQdHIgdXNlck5hbWVQdHIgPSBJbnRQdHIuWmVy
bzsKCQkJCQlJbnRQdHIgcGFzc3dvcmRQdHIgPSBJbnRQdHIuWmVybzsKCQkJCQlCb29sZWFuIHNh
dmUgPSBvcHRpb25zLklzU2F2ZUNoZWNrZWQ7CgkJCQkJdHJ5CgkJCQkJewoJCQkJCQkvLyBUaGUg
bWF4aW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyB0aGF0IGNhbiBiZSBjb3BpZWQgdG8gKHBzelVz
ZXJOYW1lfHN6UGFzc3dvcmQpIGluY2x1ZGluZyB0aGUgdGVybWluYXRpbmcgbnVsbCBjaGFyYWN0
ZXIuCgkJCQkJCWlmICh1c2VyTmFtZSA9PSBudWxsKQoJCQkJCQl7CgkJCQkJCQl1c2VyTmFtZVB0
ciA9IE1hcnNoYWwuQWxsb2NDb1Rhc2tNZW0oKE5hdGl2ZU1ldGhvZHMuQ1JFRFVJX01BWF9VU0VS
TkFNRV9MRU5HVEggKyAxKSAqIHNpemVvZihJbnQxNikpOwoJCQkJCQkJTWFyc2hhbC5Xcml0ZUlu
dDE2KHVzZXJOYW1lUHRyLCAwLCAweDAwKTsKCQkJCQkJfQoJCQkJCQllbHNlCgkJCQkJCXsKCQkJ
CQkJCXVzZXJOYW1lUHRyID0gTWFyc2hhbC5TZWN1cmVTdHJpbmdUb0NvVGFza01lbVVuaWNvZGUo
dXNlck5hbWUpOwoJCQkJCQkJdXNlck5hbWVQdHIgPSBNYXJzaGFsLlJlQWxsb2NDb1Rhc2tNZW0o
dXNlck5hbWVQdHIsIChOYXRpdmVNZXRob2RzLkNSRURVSV9NQVhfVVNFUk5BTUVfTEVOR1RIICsg
MSkgKiBzaXplb2YoSW50MTYpKTsKCQkJCQkJfQoKCQkJCQkJaWYgKHBhc3N3b3JkID09IG51bGwp
CgkJCQkJCXsKCQkJCQkJCXBhc3N3b3JkUHRyID0gTWFyc2hhbC5BbGxvY0NvVGFza01lbSgoTmF0
aXZlTWV0aG9kcy5DUkVEVUlfTUFYX1BBU1NXT1JEX0xFTkdUSCArIDEpICogc2l6ZW9mKEludDE2
KSk7CgkJCQkJCQlNYXJzaGFsLldyaXRlSW50MTYocGFzc3dvcmRQdHIsIDAsIDB4MDApOwoJCQkJ
CQl9CgkJCQkJCWVsc2UKCQkJCQkJewoJCQkJCQkJcGFzc3dvcmRQdHIgPSBNYXJzaGFsLlNlY3Vy
ZVN0cmluZ1RvQ29UYXNrTWVtVW5pY29kZShwYXNzd29yZCk7CgkJCQkJCQlwYXNzd29yZFB0ciA9
IE1hcnNoYWwuUmVBbGxvY0NvVGFza01lbShwYXNzd29yZFB0ciwgKE5hdGl2ZU1ldGhvZHMuQ1JF
RFVJX01BWF9QQVNTV09SRF9MRU5HVEggKyAxKSAqIHNpemVvZihJbnQxNikpOwoJCQkJCQl9CgkJ
CQkJCU1hcnNoYWwuV3JpdGVJbnQxNih1c2VyTmFtZVB0ciwgTmF0aXZlTWV0aG9kcy5DUkVEVUlf
TUFYX1VTRVJOQU1FX0xFTkdUSCAqIHNpemVvZihJbnQxNiksIDB4MDApOwoJCQkJCQlNYXJzaGFs
LldyaXRlSW50MTYocGFzc3dvcmRQdHIsIE5hdGl2ZU1ldGhvZHMuQ1JFRFVJX01BWF9QQVNTV09S
RF9MRU5HVEggKiBzaXplb2YoSW50MTYpLCAweDAwKTsKCgkJCQkJCXZhciByZXRWYWwgPSBOYXRp
dmVNZXRob2RzLkNyZWRVSVByb21wdEZvckNyZWRlbnRpYWxzKGNyZWR1aUluZm8sCgkJCQkJCQkJ
CQkJCQkJCQkJICBvcHRpb25zLlRhcmdldE5hbWUsCgkJCQkJCQkJCQkJCQkJCQkJICBJbnRQdHIu
WmVybywKCQkJCQkJCQkJCQkJCQkJCQkgIG9wdGlvbnMuQXV0aEVycm9yQ29kZSwKCQkJCQkJCQkJ
CQkJCQkJCQkgIHVzZXJOYW1lUHRyLAoJCQkJCQkJCQkJCQkJCQkJCSAgTmF0aXZlTWV0aG9kcy5D
UkVEVUlfTUFYX1VTRVJOQU1FX0xFTkdUSCwKCQkJCQkJCQkJCQkJCQkJCQkgIHBhc3N3b3JkUHRy
LAoJCQkJCQkJCQkJCQkJCQkJCSAgTmF0aXZlTWV0aG9kcy5DUkVEVUlfTUFYX1BBU1NXT1JEX0xF
TkdUSCwKCQkJCQkJCQkJCQkJCQkJCQkgIHJlZiBzYXZlLAoJCQkJCQkJCQkJCQkJCQkJCSAgb3B0
aW9ucy5GbGFncyk7CgkJCQkJCXN3aXRjaCAocmV0VmFsKQoJCQkJCQl7CgkJCQkJCQljYXNlIE5h
dGl2ZU1ldGhvZHMuQ3JlZFVJUHJvbXB0UmV0dXJuQ29kZS5DYW5jZWxsZWQ6CgkJCQkJCQkJcmV0
dXJuIG51bGw7CgkJCQkJCQljYXNlIE5hdGl2ZU1ldGhvZHMuQ3JlZFVJUHJvbXB0UmV0dXJuQ29k
ZS5JbnZhbGlkUGFyYW1ldGVyOgoJCQkJCQkJCXRocm93IG5ldyBXaW4zMkV4Y2VwdGlvbigoSW50
MzIpcmV0VmFsKTsKCQkJCQkJCWNhc2UgTmF0aXZlTWV0aG9kcy5DcmVkVUlQcm9tcHRSZXR1cm5D
b2RlLkludmFsaWRGbGFnczoKCQkJCQkJCQl0aHJvdyBuZXcgV2luMzJFeGNlcHRpb24oKEludDMy
KXJldFZhbCk7CgkJCQkJCQljYXNlIE5hdGl2ZU1ldGhvZHMuQ3JlZFVJUHJvbXB0UmV0dXJuQ29k
ZS5TdWNjZXNzOgoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJZGVmYXVsdDoKCQkJCQkJCQl0aHJvdyBu
ZXcgV2luMzJFeGNlcHRpb24oKEludDMyKXJldFZhbCk7CgkJCQkJCX0KCgoJCQkJCQlpZiAodHlw
ZW9mKFQpID09IHR5cGVvZihQcm9tcHRDcmVkZW50aWFsc1NlY3VyZVN0cmluZ1Jlc3VsdCkpCgkJ
CQkJCXsKCQkJCQkJCXJldHVybiBuZXcgUHJvbXB0Q3JlZGVudGlhbHNTZWN1cmVTdHJpbmdSZXN1
bHQKCQkJCQkJCXsKCQkJCQkJCQlVc2VyTmFtZSA9IE5hdGl2ZU1ldGhvZHMuUHRyVG9TZWN1cmVT
dHJpbmcodXNlck5hbWVQdHIpLAoJCQkJCQkJCVBhc3N3b3JkID0gTmF0aXZlTWV0aG9kcy5QdHJU
b1NlY3VyZVN0cmluZyhwYXNzd29yZFB0ciksCgkJCQkJCQkJSXNTYXZlQ2hlY2tlZCA9IHNhdmUK
CQkJCQkJCX0gYXMgVDsKCQkJCQkJfQoJCQkJCQllbHNlCgkJCQkJCXsKCQkJCQkJCXJldHVybiBu
ZXcgUHJvbXB0Q3JlZGVudGlhbHNSZXN1bHQKCQkJCQkJCXsKCQkJCQkJCQlVc2VyTmFtZSA9IE1h
cnNoYWwuUHRyVG9TdHJpbmdVbmkodXNlck5hbWVQdHIpLAoJCQkJCQkJCVBhc3N3b3JkID0gTWFy
c2hhbC5QdHJUb1N0cmluZ1VuaShwYXNzd29yZFB0ciksCgkJCQkJCQkJSXNTYXZlQ2hlY2tlZCA9
IHNhdmUKCQkJCQkJCX0gYXMgVDsKCQkJCQkJfQoJCQkJCX0KCQkJCQlmaW5hbGx5CgkJCQkJewoJ
CQkJCQlpZiAodXNlck5hbWVQdHIgIT0gSW50UHRyLlplcm8pCgkJCQkJCQlNYXJzaGFsLlplcm9G
cmVlQ29UYXNrTWVtVW5pY29kZSh1c2VyTmFtZVB0cik7CgkJCQkJCWlmIChwYXNzd29yZFB0ciAh
PSBJbnRQdHIuWmVybykKCQkJCQkJCU1hcnNoYWwuWmVyb0ZyZWVDb1Rhc2tNZW1Vbmljb2RlKHBh
c3N3b3JkUHRyKTsKCQkJCQl9CgkJCQl9CgkJCQkjZW5kcmVnaW9uCgoJCQkJLy8vIDxzdW1tYXJ5
PgoJCQkJLy8vIAoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCVtGbGFnc10KCQkJCXB1YmxpYyBlbnVt
IFByb21wdEZvcldpbmRvd3NDcmVkZW50aWFsc0ZsYWcKCQkJCXsKCQkJCQkvLy8gPHN1bW1hcnk+
CgkJCQkJLy8vIFBsYWluIHRleHQgdXNlcm5hbWUvcGFzc3dvcmQgaXMgYmVpbmcgcmVxdWVzdGVk
CgkJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCQlDUkVEVUlXSU5fR0VORVJJQyA9IDB4MDAwMDAwMDEs
CgkJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJCS8vLyBTaG93IHRoZSBTYXZlIENyZWRlbnRpYWwgY2hl
Y2tib3gKCQkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJCUNSRURVSVdJTl9DSEVDS0JPWCA9IDB4MDAw
MDAwMDIsCgkJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJCS8vLyBPbmx5IENyZWQgUHJvdmlkZXJzIHRo
YXQgc3VwcG9ydCB0aGUgaW5wdXQgYXV0aCBwYWNrYWdlIHNob3VsZCBlbnVtZXJhdGUKCQkJCQkv
Ly8gPC9zdW1tYXJ5PgoJCQkJCUNSRURVSVdJTl9BVVRIUEFDS0FHRV9PTkxZID0gMHgwMDAwMDAx
MCwKCQkJCQkvLy8gPHN1bW1hcnk+CgkJCQkJLy8vIE9ubHkgdGhlIGluY29taW5nIGNyZWQgZm9y
IHRoZSBzcGVjaWZpYyBhdXRoIHBhY2thZ2Ugc2hvdWxkIGJlIGVudW1lcmF0ZWQKCQkJCQkvLy8g
PC9zdW1tYXJ5PgoJCQkJCUNSRURVSVdJTl9JTl9DUkVEX09OTFkgPSAweDAwMDAwMDIwLAoJCQkJ
CS8vLyA8c3VtbWFyeT4KCQkJCQkvLy8gQ3JlZCBQcm92aWRlcnMgc2hvdWxkIGVudW1lcmF0ZSBh
ZG1pbmlzdHJhdG9ycyBvbmx5CgkJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCQlDUkVEVUlXSU5fRU5V
TUVSQVRFX0FETUlOUyA9IDB4MDAwMDAxMDAsCgkJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJCS8vLyBP
bmx5IHRoZSBpbmNvbWluZyBjcmVkIGZvciB0aGUgc3BlY2lmaWMgYXV0aCBwYWNrYWdlIHNob3Vs
ZCBiZSBlbnVtZXJhdGVkCgkJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCQlDUkVEVUlXSU5fRU5VTUVS
QVRFX0NVUlJFTlRfVVNFUiA9IDB4MDAwMDAyMDAsCgkJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJCS8v
LyBUaGUgQ3JlZHVpIHByb21wdCBzaG91bGQgYmUgZGlzcGxheWVkIG9uIHRoZSBzZWN1cmUgZGVz
a3RvcAoJCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkJQ1JFRFVJV0lOX1NFQ1VSRV9QUk9NUFQgPSAw
eDAwMDAxMDAwLAoJCQkJCS8vLyA8c3VtbWFyeT4KCQkJCQkvLy8gVGVsbCB0aGUgY3JlZGVudGlh
bCBwcm92aWRlciBpdCBzaG91bGQgYmUgcGFja2luZyBpdHMgQXV0aCBCbG9iIDMyIGJpdCBldmVu
IHRob3VnaCBpdCBpcyBydW5uaW5nIDY0IG5hdGl2ZQoJCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkJ
Q1JFRFVJV0lOX1BBQ0tfMzJfV09XID0gMHgxMDAwMDAwMAoJCQkJfQoKCQkJCS8vLyA8c3VtbWFy
eT4KCQkJCS8vLyAKCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQlbRmxhZ3NdCgkJCQlwdWJsaWMgZW51
bSBQcm9tcHRGb3JDcmVkZW50aWFsc0ZsYWcKCQkJCXsKCQkJCQkvLy8gPHN1bW1hcnk+CgkJCQkJ
Ly8vIGluZGljYXRlcyB0aGUgdXNlcm5hbWUgaXMgdmFsaWQsIGJ1dCBwYXNzd29yZCBpcyBub3QK
CQkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJCUNSRURVSV9GTEFHU19JTkNPUlJFQ1RfUEFTU1dPUkQg
PSAweDAwMDAxLAoJCQkJCS8vLyA8c3VtbWFyeT4KCQkJCQkvLy8gRG8gbm90IHNob3cgIlNhdmUi
IGNoZWNrYm94LCBhbmQgZG8gbm90IHBlcnNpc3QgY3JlZGVudGlhbHMKCQkJCQkvLy8gPC9zdW1t
YXJ5PgoJCQkJCUNSRURVSV9GTEFHU19ET19OT1RfUEVSU0lTVCA9IDB4MDAwMDIsCgkJCQkJLy8v
IDxzdW1tYXJ5PgoJCQkJCS8vLyBQb3B1bGF0ZSBsaXN0IGJveCB3aXRoIGFkbWluIGFjY291bnRz
CgkJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCQlDUkVEVUlfRkxBR1NfUkVRVUVTVF9BRE1JTklTVFJB
VE9SID0gMHgwMDAwNCwKCQkJCQkvLy8gPHN1bW1hcnk+CgkJCQkJLy8vIGRvIG5vdCBpbmNsdWRl
IGNlcnRpZmljYXRlcyBpbiB0aGUgZHJvcCBsaXN0CgkJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCQlD
UkVEVUlfRkxBR1NfRVhDTFVERV9DRVJUSUZJQ0FURVMgPSAweDAwMDA4LAoJCQkJCS8vLyA8c3Vt
bWFyeT4KCQkJCQkvLy8gCgkJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCQlDUkVEVUlfRkxBR1NfUkVR
VUlSRV9DRVJUSUZJQ0FURSA9IDB4MDAwMTAsCgkJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJCS8vLyAK
CQkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJCUNSRURVSV9GTEFHU19TSE9XX1NBVkVfQ0hFQ0tfQk9Y
ID0gMHgwMDA0MCwKCQkJCQkvLy8gPHN1bW1hcnk+CgkJCQkJLy8vIAoJCQkJCS8vLyA8L3N1bW1h
cnk+CgkJCQkJQ1JFRFVJX0ZMQUdTX0FMV0FZU19TSE9XX1VJID0gMHgwMDA4MCwKCQkJCQkvLy8g
PHN1bW1hcnk+CgkJCQkJLy8vIAoJCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkJQ1JFRFVJX0ZMQUdT
X1JFUVVJUkVfU01BUlRDQVJEID0gMHgwMDEwMCwKCQkJCQkvLy8gPHN1bW1hcnk+CgkJCQkJLy8v
IAoJCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkJQ1JFRFVJX0ZMQUdTX1BBU1NXT1JEX09OTFlfT0sg
PSAweDAwMjAwLAoJCQkJCS8vLyA8c3VtbWFyeT4KCQkJCQkvLy8gCgkJCQkJLy8vIDwvc3VtbWFy
eT4KCQkJCQlDUkVEVUlfRkxBR1NfVkFMSURBVEVfVVNFUk5BTUUgPSAweDAwNDAwLAoJCQkJCS8v
LyA8c3VtbWFyeT4KCQkJCQkvLy8gCgkJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCQlDUkVEVUlfRkxB
R1NfQ09NUExFVEVfVVNFUk5BTUUgPSAweDAwODAwLAoJCQkJCS8vLyA8c3VtbWFyeT4KCQkJCQkv
Ly8gRG8gbm90IHNob3cgIlNhdmUiIGNoZWNrYm94LCBidXQgcGVyc2lzdCBjcmVkZW50aWFscyBh
bnl3YXkKCQkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJCUNSRURVSV9GTEFHU19QRVJTSVNUID0gMHgw
MTAwMCwKCQkJCQkvLy8gPHN1bW1hcnk+CgkJCQkJLy8vIAoJCQkJCS8vLyA8L3N1bW1hcnk+CgkJ
CQkJQ1JFRFVJX0ZMQUdTX1NFUlZFUl9DUkVERU5USUFMID0gMHgwNDAwMCwKCQkJCQkvLy8gPHN1
bW1hcnk+CgkJCQkJLy8vIGRvIG5vdCBwZXJzaXN0IHVubGVzcyBjYWxsZXIgbGF0ZXIgY29uZmly
bXMgY3JlZGVudGlhbCB2aWEgQ3JlZFVJQ29uZmlybUNyZWRlbnRpYWwoKSBhcGkKCQkJCQkvLy8g
PC9zdW1tYXJ5PgoJCQkJCUNSRURVSV9GTEFHU19FWFBFQ1RfQ09ORklSTUFUSU9OID0gMHgyMDAw
MCwKCQkJCQkvLy8gPHN1bW1hcnk+CgkJCQkJLy8vIENyZWRlbnRpYWwgaXMgYSBnZW5lcmljIGNy
ZWRlbnRpYWwKCQkJCQkvLy8gPC9zdW1tYXJ5PgoJCQkJCUNSRURVSV9GTEFHU19HRU5FUklDX0NS
RURFTlRJQUxTID0gMHg0MDAwMCwKCQkJCQkvLy8gPHN1bW1hcnk+CgkJCQkJLy8vIENyZWRlbnRp
YWwgaGFzIGEgdXNlcm5hbWUgYXMgdGhlIHRhcmdldAoJCQkJCS8vLyA8L3N1bW1hcnk+CgkJCQkJ
Q1JFRFVJX0ZMQUdTX1VTRVJOQU1FX1RBUkdFVF9DUkVERU5USUFMUyA9IDB4ODAwMDAsCgkJCQkJ
Ly8vIDxzdW1tYXJ5PgoJCQkJCS8vLyBkb24ndCBhbGxvdyB0aGUgdXNlciB0byBjaGFuZ2UgdGhl
IHN1cHBsaWVkIHVzZXJuYW1lCgkJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCQlDUkVEVUlfRkxBR1Nf
S0VFUF9VU0VSTkFNRSA9IDB4MTAwMDAwCgkJCQl9CgoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8v
IAoJCQkJLy8vIDwvc3VtbWFyeT4KCQkJCXB1YmxpYyBjbGFzcyBQcm9tcHRGb3JXaW5kb3dzQ3Jl
ZGVudGlhbHNPcHRpb25zCgkJCQl7CgkJCQkJcHJpdmF0ZSBTdHJpbmcgX2NhcHRpb247CgkJCQkJ
cHJpdmF0ZSBTdHJpbmcgX21lc3NhZ2U7CgkJCQkJcHVibGljIFN0cmluZyBDYXB0aW9uCgkJCQkJ
ewoJCQkJCQlnZXQgeyByZXR1cm4gX2NhcHRpb247IH0KCQkJCQkJc2V0CgkJCQkJCXsKCQkJCQkJ
CWlmICh2YWx1ZS5MZW5ndGggPiBOYXRpdmVNZXRob2RzLkNSRURVSV9NQVhfQ0FQVElPTl9MRU5H
VEgpCgkJCQkJCQkJdGhyb3cgbmV3IEFyZ3VtZW50T3V0T2ZSYW5nZUV4Y2VwdGlvbigidmFsdWUi
KTsKCQkJCQkJCV9jYXB0aW9uID0gdmFsdWU7CgkJCQkJCX0KCQkJCQl9CgkJCQkJcHVibGljIFN0
cmluZyBNZXNzYWdlCgkJCQkJewoJCQkJCQlnZXQgeyByZXR1cm4gX21lc3NhZ2U7IH0KCQkJCQkJ
c2V0CgkJCQkJCXsKCQkJCQkJCWlmICh2YWx1ZS5MZW5ndGggPiBOYXRpdmVNZXRob2RzLkNSRURV
SV9NQVhfTUVTU0FHRV9MRU5HVEgpCgkJCQkJCQkJdGhyb3cgbmV3IEFyZ3VtZW50T3V0T2ZSYW5n
ZUV4Y2VwdGlvbigidmFsdWUiKTsKCQkJCQkJCV9tZXNzYWdlID0gdmFsdWU7CgkJCQkJCX0KCQkJ
CQl9CgkJCQkJcHVibGljIEludFB0ciBId25kUGFyZW50IHsgZ2V0OyBzZXQ7IH0KCQkJCQlwdWJs
aWMgSW50UHRyIEhibUJhbm5lciB7IGdldDsgc2V0OyB9CgkJCQkJcHVibGljIEJvb2xlYW4gSXNT
YXZlQ2hlY2tlZCB7IGdldDsgc2V0OyB9CgkJCQkJcHVibGljIFByb21wdEZvcldpbmRvd3NDcmVk
ZW50aWFsc0ZsYWcgRmxhZ3MgeyBnZXQ7IHNldDsgfQoJCQkJCXB1YmxpYyBJbnQzMiBBdXRoRXJy
b3JDb2RlIHsgZ2V0OyBzZXQ7IH0KCQkJCQlwdWJsaWMgUHJvbXB0Rm9yV2luZG93c0NyZWRlbnRp
YWxzT3B0aW9ucyhTdHJpbmcgY2FwdGlvbiwgU3RyaW5nIG1lc3NhZ2UpCgkJCQkJewoJCQkJCQlp
ZiAoU3RyaW5nLklzTnVsbE9yRW1wdHkoY2FwdGlvbikpCgkJCQkJCQl0aHJvdyBuZXcgQXJndW1l
bnROdWxsRXhjZXB0aW9uKCJjYXB0aW9uIik7CgkJCQkJCWlmIChTdHJpbmcuSXNOdWxsT3JFbXB0
eShtZXNzYWdlKSkKCQkJCQkJCXRocm93IG5ldyBBcmd1bWVudE51bGxFeGNlcHRpb24oIm1lc3Nh
Z2UiKTsKCQkJCQkJQ2FwdGlvbiA9IGNhcHRpb247CgkJCQkJCU1lc3NhZ2UgPSBtZXNzYWdlOwoJ
CQkJCQlGbGFncyA9IFByb21wdEZvcldpbmRvd3NDcmVkZW50aWFsc0ZsYWcuQ1JFRFVJV0lOX0dF
TkVSSUM7CgkJCQkJfQoJCQkJfQoJCQkJLy8vIDxzdW1tYXJ5PgoJCQkJLy8vIAoJCQkJLy8vIDwv
c3VtbWFyeT4KCQkJCXB1YmxpYyBjbGFzcyBQcm9tcHRGb3JDcmVkZW50aWFsc09wdGlvbnMKCQkJ
CXsKCQkJCQlwcml2YXRlIFN0cmluZyBfY2FwdGlvbjsKCQkJCQlwcml2YXRlIFN0cmluZyBfbWVz
c2FnZTsKCQkJCQlwdWJsaWMgU3RyaW5nIENhcHRpb24KCQkJCQl7CgkJCQkJCWdldCB7IHJldHVy
biBfY2FwdGlvbjsgfQoJCQkJCQlzZXQKCQkJCQkJewoJCQkJCQkJaWYgKHZhbHVlLkxlbmd0aCA+
IE5hdGl2ZU1ldGhvZHMuQ1JFRFVJX01BWF9DQVBUSU9OX0xFTkdUSCkKCQkJCQkJCQl0aHJvdyBu
ZXcgQXJndW1lbnRPdXRPZlJhbmdlRXhjZXB0aW9uKCJ2YWx1ZSIpOwoJCQkJCQkJX2NhcHRpb24g
PSB2YWx1ZTsKCQkJCQkJfQoJCQkJCX0KCQkJCQlwdWJsaWMgU3RyaW5nIE1lc3NhZ2UKCQkJCQl7
CgkJCQkJCWdldCB7IHJldHVybiBfbWVzc2FnZTsgfQoJCQkJCQlzZXQKCQkJCQkJewoJCQkJCQkJ
aWYgKHZhbHVlLkxlbmd0aCA+IE5hdGl2ZU1ldGhvZHMuQ1JFRFVJX01BWF9NRVNTQUdFX0xFTkdU
SCkKCQkJCQkJCQl0aHJvdyBuZXcgQXJndW1lbnRPdXRPZlJhbmdlRXhjZXB0aW9uKCJ2YWx1ZSIp
OwoJCQkJCQkJX21lc3NhZ2UgPSB2YWx1ZTsKCQkJCQkJfQoJCQkJCX0KCQkJCQlwdWJsaWMgU3Ry
aW5nIFRhcmdldE5hbWUgeyBnZXQ7IHNldDsgfQoJCQkJCXB1YmxpYyBJbnRQdHIgSHduZFBhcmVu
dCB7IGdldDsgc2V0OyB9CgkJCQkJcHVibGljIEludFB0ciBIYm1CYW5uZXIgeyBnZXQ7IHNldDsg
fQoJCQkJCXB1YmxpYyBCb29sZWFuIElzU2F2ZUNoZWNrZWQgeyBnZXQ7IHNldDsgfQoJCQkJCXB1
YmxpYyBQcm9tcHRGb3JDcmVkZW50aWFsc0ZsYWcgRmxhZ3MgeyBnZXQ7IHNldDsgfQoJCQkJCXB1
YmxpYyBJbnQzMiBBdXRoRXJyb3JDb2RlIHsgZ2V0OyBzZXQ7IH0KCQkJCQlwdWJsaWMgUHJvbXB0
Rm9yQ3JlZGVudGlhbHNPcHRpb25zKFN0cmluZyB0YXJnZXROYW1lLCBTdHJpbmcgY2FwdGlvbiwg
U3RyaW5nIG1lc3NhZ2UpCgkJCQkJewoJCQkJCQkvLyB0YXJnZXQgbmFtZSBtYXkgYmUgZW1wdHku
CgkJCQkJCWlmIChTdHJpbmcuSXNOdWxsT3JFbXB0eShjYXB0aW9uKSkKCQkJCQkJCXRocm93IG5l
dyBBcmd1bWVudE51bGxFeGNlcHRpb24oImNhcHRpb24iKTsKCQkJCQkJaWYgKFN0cmluZy5Jc051
bGxPckVtcHR5KG1lc3NhZ2UpKQoJCQkJCQkJdGhyb3cgbmV3IEFyZ3VtZW50TnVsbEV4Y2VwdGlv
bigibWVzc2FnZSIpOwoKCQkJCQkJVGFyZ2V0TmFtZSA9IHRhcmdldE5hbWU7CgkJCQkJCUNhcHRp
b24gPSBjYXB0aW9uOwoJCQkJCQlNZXNzYWdlID0gbWVzc2FnZTsKCQkJCQkJRmxhZ3MgPSBQcm9t
cHRGb3JDcmVkZW50aWFsc0ZsYWcuQ1JFRFVJX0ZMQUdTX0dFTkVSSUNfQ1JFREVOVElBTFMgfCBQ
cm9tcHRGb3JDcmVkZW50aWFsc0ZsYWcuQ1JFRFVJX0ZMQUdTX0RPX05PVF9QRVJTSVNUOwoJCQkJ
CX0KCQkJCX0KCgkJCQlwcml2YXRlIHN0YXRpYyBjbGFzcyBOYXRpdmVNZXRob2RzCgkJCQl7CgkJ
CQkJcHVibGljIGNvbnN0IEludDMyIENSRURVSV9NQVhfTUVTU0FHRV9MRU5HVEggPSAzMjc2NzsK
CQkJCQlwdWJsaWMgY29uc3QgSW50MzIgQ1JFRFVJX01BWF9DQVBUSU9OX0xFTkdUSCA9IDEyODsK
CQkJCQlwdWJsaWMgY29uc3QgSW50MzIgQ1JFRF9NQVhfVVNFUk5BTUVfTEVOR1RIID0gKDI1NiAr
IDEgKyAyNTYpOwoJCQkJCXB1YmxpYyBjb25zdCBJbnQzMiBDUkVEVUlfTUFYX1VTRVJOQU1FX0xF
TkdUSCA9IENSRURfTUFYX1VTRVJOQU1FX0xFTkdUSDsKCQkJCQlwdWJsaWMgY29uc3QgSW50MzIg
Q1JFRFVJX01BWF9QQVNTV09SRF9MRU5HVEggPSAoNTEyIC8gMik7CgoJCQkJCXB1YmxpYyBlbnVt
IENyZWRVSVByb21wdFJldHVybkNvZGUKCQkJCQl7CgkJCQkJCVN1Y2Nlc3MgPSAwLAoJCQkJCQlD
YW5jZWxsZWQgPSAxMjIzLAoJCQkJCQlJbnZhbGlkUGFyYW1ldGVyID0gODcsCgkJCQkJCUludmFs
aWRGbGFncyA9IDEwMDQKCQkJCQl9CgoJCQkJCVtTdHJ1Y3RMYXlvdXQoTGF5b3V0S2luZC5TZXF1
ZW50aWFsKV0KCQkJCQlwdWJsaWMgY2xhc3MgQ1JFRFVJX0lORk8KCQkJCQl7CgkJCQkJCXB1Ymxp
YyBJbnQzMiBjYlNpemU7CgkJCQkJCXB1YmxpYyBJbnRQdHIgaHduZFBhcmVudDsKCQkJCQkJW01h
cnNoYWxBcyhVbm1hbmFnZWRUeXBlLkxQV1N0cildCgkJCQkJCXB1YmxpYyBTdHJpbmcgcHN6TWVz
c2FnZVRleHQ7CgkJCQkJCVtNYXJzaGFsQXMoVW5tYW5hZ2VkVHlwZS5MUFdTdHIpXQoJCQkJCQlw
dWJsaWMgU3RyaW5nIHBzekNhcHRpb25UZXh0OwoJCQkJCQlwdWJsaWMgSW50UHRyIGhibUJhbm5l
cjsKCgkJCQkJCXB1YmxpYyBDUkVEVUlfSU5GTygpCgkJCQkJCXsKCQkJCQkJCWNiU2l6ZSA9IE1h
cnNoYWwuU2l6ZU9mKHR5cGVvZihDUkVEVUlfSU5GTykpOwoJCQkJCQl9CgkJCQkJfQoKCQkJCQkv
LwoJCQkJCS8vIENyZWRVSVByb21wdEZvckNyZWRlbnRpYWxzIC0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0KCQkJCQkvLwoJCQkJCVtEbGxJbXBvcnQoImNyZWR1aS5kbGwiLCBD
aGFyU2V0ID0gQ2hhclNldC5Vbmljb2RlKV0KCQkJCQlwdWJsaWMgc3RhdGljIGV4dGVybiBDcmVk
VUlQcm9tcHRSZXR1cm5Db2RlIENyZWRVSVByb21wdEZvckNyZWRlbnRpYWxzKAoJCQkJCQlDUkVE
VUlfSU5GTyBwVWlJbmZvLAoJCQkJCQlTdHJpbmcgcHN6VGFyZ2V0TmFtZSwKCQkJCQkJSW50UHRy
IFJlc2VydmVkLAoJCQkJCQlJbnQzMiBkd0F1dGhFcnJvciwKCQkJCQkJSW50UHRyIHBzelVzZXJO
YW1lLAoJCQkJCQlJbnQzMiB1bFVzZXJOYW1lTWF4Q2hhcnMsCgkJCQkJCUludFB0ciBwc3pQYXNz
d29yZCwKCQkJCQkJSW50MzIgdWxQYXNzd29yZE1heENoYXJzLAoJCQkJCQlyZWYgQm9vbGVhbiBw
ZlNhdmUsCgkJCQkJCVByb21wdEZvckNyZWRlbnRpYWxzRmxhZyBkd0ZsYWdzCgkJCQkJKTsKCgkJ
CQkJLy8KCQkJCQkvLyBDcmVkVUlQcm9tcHRGb3JXaW5kb3dzQ3JlZGVudGlhbHMgLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJCQkJLy8KCQkJCQlbRGxsSW1wb3J0KCJjcmVkdWkuZGxs
IiwgQ2hhclNldCA9IENoYXJTZXQuVW5pY29kZSldCgkJCQkJcHVibGljIHN0YXRpYyBleHRlcm4g
Q3JlZFVJUHJvbXB0UmV0dXJuQ29kZQoJCQkJCUNyZWRVSVByb21wdEZvcldpbmRvd3NDcmVkZW50
aWFscygKCQkJCQkJQ1JFRFVJX0lORk8gcFVpSW5mbywKCQkJCQkJSW50MzIgZHdBdXRoRXJyb3Is
CgkJCQkJCXJlZiBJbnQzMiBwdWxBdXRoUGFja2FnZSwKCQkJCQkJSW50UHRyIHB2SW5BdXRoQnVm
ZmVyLAoJCQkJCQlJbnQzMiB1bEluQXV0aEJ1ZmZlclNpemUsCgkJCQkJCW91dCBJbnRQdHIgcHB2
T3V0QXV0aEJ1ZmZlciwKCQkJCQkJb3V0IEludDMyIHB1bE91dEF1dGhCdWZmZXJTaXplLAoJCQkJ
CQlyZWYgQm9vbGVhbiBwZlNhdmUsCgkJCQkJCVByb21wdEZvcldpbmRvd3NDcmVkZW50aWFsc0Zs
YWcgZHdGbGFncwoJCQkJCSk7CgoJCQkJCVtEbGxJbXBvcnQoImNyZWR1aS5kbGwiLCBDaGFyU2V0
ID0gQ2hhclNldC5Vbmljb2RlLCBTZXRMYXN0RXJyb3IgPSB0cnVlKV0KCQkJCQlwdWJsaWMgc3Rh
dGljIGV4dGVybiBCb29sZWFuIENyZWRQYWNrQXV0aGVudGljYXRpb25CdWZmZXIoCgkJCQkJCUlu
dDMyIGR3RmxhZ3MsCgkJCQkJCVN0cmluZyBwc3pVc2VyTmFtZSwKCQkJCQkJU3RyaW5nIHBzelBh
c3N3b3JkLAoJCQkJCQlJbnRQdHIgcFBhY2tlZENyZWRlbnRpYWxzLAoJCQkJCQlyZWYgSW50MzIg
cGNiUGFja2VkQ3JlZGVudGlhbHMKCQkJCQkpOwoJCQkJCVtEbGxJbXBvcnQoImNyZWR1aS5kbGwi
LCBDaGFyU2V0ID0gQ2hhclNldC5Vbmljb2RlLCBTZXRMYXN0RXJyb3IgPSB0cnVlKV0KCQkJCQlw
dWJsaWMgc3RhdGljIGV4dGVybiBCb29sZWFuIENyZWRQYWNrQXV0aGVudGljYXRpb25CdWZmZXIo
CgkJCQkJCUludDMyIGR3RmxhZ3MsCgkJCQkJCUludFB0ciBwc3pVc2VyTmFtZSwKCQkJCQkJSW50
UHRyIHBzelBhc3N3b3JkLAoJCQkJCQlJbnRQdHIgcFBhY2tlZENyZWRlbnRpYWxzLAoJCQkJCQly
ZWYgSW50MzIgcGNiUGFja2VkQ3JlZGVudGlhbHMKCQkJCQkpOwoKCQkJCQlbRGxsSW1wb3J0KCJj
cmVkdWkuZGxsIiwgQ2hhclNldCA9IENoYXJTZXQuVW5pY29kZSwgU2V0TGFzdEVycm9yID0gdHJ1
ZSldCgkJCQkJcHVibGljIHN0YXRpYyBleHRlcm4gQm9vbGVhbiBDcmVkVW5QYWNrQXV0aGVudGlj
YXRpb25CdWZmZXIoCgkJCQkJCUludDMyIGR3RmxhZ3MsCgkJCQkJCUludFB0ciBwQXV0aEJ1ZmZl
ciwKCQkJCQkJSW50MzIgY2JBdXRoQnVmZmVyLAoJCQkJCQlTdHJpbmdCdWlsZGVyIHBzelVzZXJO
YW1lLAoJCQkJCQlyZWYgSW50MzIgcGNjaE1heFVzZXJOYW1lLAoJCQkJCQlTdHJpbmdCdWlsZGVy
IHBzekRvbWFpbk5hbWUsCgkJCQkJCXJlZiBJbnQzMiBwY2NoTWF4RG9tYWluYW1lLAoJCQkJCQlT
dHJpbmdCdWlsZGVyIHBzelBhc3N3b3JkLAoJCQkJCQlyZWYgSW50MzIgcGNjaE1heFBhc3N3b3Jk
CgkJCQkJKTsKCQkJCQlbRGxsSW1wb3J0KCJjcmVkdWkuZGxsIiwgQ2hhclNldCA9IENoYXJTZXQu
VW5pY29kZSwgU2V0TGFzdEVycm9yID0gdHJ1ZSldCgkJCQkJcHVibGljIHN0YXRpYyBleHRlcm4g
Qm9vbGVhbiBDcmVkVW5QYWNrQXV0aGVudGljYXRpb25CdWZmZXIoCgkJCQkJCUludDMyIGR3Rmxh
Z3MsCgkJCQkJCUludFB0ciBwQXV0aEJ1ZmZlciwKCQkJCQkJSW50MzIgY2JBdXRoQnVmZmVyLAoJ
CQkJCQlJbnRQdHIgcHN6VXNlck5hbWUsCgkJCQkJCXJlZiBJbnQzMiBwY2NoTWF4VXNlck5hbWUs
CgkJCQkJCUludFB0ciBwc3pEb21haW5OYW1lLAoJCQkJCQlyZWYgSW50MzIgcGNjaE1heERvbWFp
bmFtZSwKCQkJCQkJSW50UHRyIHBzelBhc3N3b3JkLAoJCQkJCQlyZWYgSW50MzIgcGNjaE1heFBh
c3N3b3JkCgkJCQkJKTsKCgkJCQkJcHVibGljIHN0YXRpYyBQcm9tcHRDcmVkZW50aWFsc1Jlc3Vs
dCBDcmVkVW5QYWNrQXV0aGVudGljYXRpb25CdWZmZXJXcmFwKEJvb2xlYW4gZGVjcnlwdFByb3Rl
Y3RlZENyZWRlbnRpYWxzLCBJbnRQdHIgYXV0aEJ1ZmZlclB0ciwgSW50MzIgYXV0aEJ1ZmZlclNp
emUpCgkJCQkJewoJCQkJCQlTdHJpbmdCdWlsZGVyIHNiVXNlck5hbWUgPSBuZXcgU3RyaW5nQnVp
bGRlcigyNTUpOwoJCQkJCQlTdHJpbmdCdWlsZGVyIHNiRG9tYWluTmFtZSA9IG5ldyBTdHJpbmdC
dWlsZGVyKDI1NSk7CgkJCQkJCVN0cmluZ0J1aWxkZXIgc2JQYXNzd29yZCA9IG5ldyBTdHJpbmdC
dWlsZGVyKDI1NSk7CgkJCQkJCUludDMyIHVzZXJOYW1lU2l6ZSA9IHNiVXNlck5hbWUuQ2FwYWNp
dHk7CgkJCQkJCUludDMyIGRvbWFpbk5hbWVTaXplID0gc2JEb21haW5OYW1lLkNhcGFjaXR5OwoJ
CQkJCQlJbnQzMiBwYXNzd29yZFNpemUgPSBzYlBhc3N3b3JkLkNhcGFjaXR5OwoKCQkJCQkJLy8j
ZGVmaW5lIENSRURfUEFDS19QUk9URUNURURfQ1JFREVOVElBTFMgICAgICAweDEKCQkJCQkJLy8j
ZGVmaW5lIENSRURfUEFDS19XT1dfQlVGRkVSICAgICAgICAgICAgICAgICAweDIKCQkJCQkJLy8j
ZGVmaW5lIENSRURfUEFDS19HRU5FUklDX0NSRURFTlRJQUxTICAgICAgICAweDQKCgkJCQkJCUJv
b2xlYW4gcmVzdWx0ID0gQ3JlZFVuUGFja0F1dGhlbnRpY2F0aW9uQnVmZmVyKChkZWNyeXB0UHJv
dGVjdGVkQ3JlZGVudGlhbHMgPyAweDEgOiAweDApLAoJCQkJCQkJCQkJCQkJCQkJCQlhdXRoQnVm
ZmVyUHRyLAoJCQkJCQkJCQkJCQkJCQkJCQlhdXRoQnVmZmVyU2l6ZSwKCQkJCQkJCQkJCQkJCQkJ
CQkJc2JVc2VyTmFtZSwKCQkJCQkJCQkJCQkJCQkJCQkJcmVmIHVzZXJOYW1lU2l6ZSwKCQkJCQkJ
CQkJCQkJCQkJCQkJc2JEb21haW5OYW1lLAoJCQkJCQkJCQkJCQkJCQkJCQlyZWYgZG9tYWluTmFt
ZVNpemUsCgkJCQkJCQkJCQkJCQkJCQkJCXNiUGFzc3dvcmQsCgkJCQkJCQkJCQkJCQkJCQkJCXJl
ZiBwYXNzd29yZFNpemUKCQkJCQkJCQkJCQkJCQkJCQkJKTsKCQkJCQkJaWYgKCFyZXN1bHQpCgkJ
CQkJCXsKCQkJCQkJCXZhciB3aW4zMkVycm9yID0gTWFyc2hhbC5HZXRMYXN0V2luMzJFcnJvcigp
OwoJCQkJCQkJaWYgKHdpbjMyRXJyb3IgPT0gMTIyIC8qRVJST1JfSU5TVUZGSUNJRU5UX0JVRkZF
UiovKQoJCQkJCQkJewoJCQkJCQkJCXNiVXNlck5hbWUuQ2FwYWNpdHkgPSB1c2VyTmFtZVNpemU7
CgkJCQkJCQkJc2JQYXNzd29yZC5DYXBhY2l0eSA9IHBhc3N3b3JkU2l6ZTsKCQkJCQkJCQlzYkRv
bWFpbk5hbWUuQ2FwYWNpdHkgPSBkb21haW5OYW1lU2l6ZTsKCQkJCQkJCQlyZXN1bHQgPSBDcmVk
VW5QYWNrQXV0aGVudGljYXRpb25CdWZmZXIoKGRlY3J5cHRQcm90ZWN0ZWRDcmVkZW50aWFscyA/
IDB4MSA6IDB4MCksCgkJCQkJCQkJCQkJCQkJCQkJCWF1dGhCdWZmZXJQdHIsCgkJCQkJCQkJCQkJ
CQkJCQkJCWF1dGhCdWZmZXJTaXplLAoJCQkJCQkJCQkJCQkJCQkJCQlzYlVzZXJOYW1lLAoJCQkJ
CQkJCQkJCQkJCQkJCQlyZWYgdXNlck5hbWVTaXplLAoJCQkJCQkJCQkJCQkJCQkJCQlzYkRvbWFp
bk5hbWUsCgkJCQkJCQkJCQkJCQkJCQkJCXJlZiBkb21haW5OYW1lU2l6ZSwKCQkJCQkJCQkJCQkJ
CQkJCQkJc2JQYXNzd29yZCwKCQkJCQkJCQkJCQkJCQkJCQkJcmVmIHBhc3N3b3JkU2l6ZQoJCQkJ
CQkJCQkJCQkJCQkJCQkpOwoJCQkJCQkJCWlmICghcmVzdWx0KQoJCQkJCQkJCXsKCQkJCQkJCQkJ
dGhyb3cgbmV3IFdpbjMyRXhjZXB0aW9uKE1hcnNoYWwuR2V0TGFzdFdpbjMyRXJyb3IoKSk7CgkJ
CQkJCQkJfQoJCQkJCQkJfQoJCQkJCQkJZWxzZQoJCQkJCQkJewoJCQkJCQkJCXRocm93IG5ldyBX
aW4zMkV4Y2VwdGlvbih3aW4zMkVycm9yKTsKCQkJCQkJCX0KCQkJCQkJfQoKCQkJCQkJcmV0dXJu
IG5ldyBQcm9tcHRDcmVkZW50aWFsc1Jlc3VsdAoJCQkJCQl7CgkJCQkJCQlVc2VyTmFtZSA9IHNi
VXNlck5hbWUuVG9TdHJpbmcoKSwKCQkJCQkJCURvbWFpbk5hbWUgPSBzYkRvbWFpbk5hbWUuVG9T
dHJpbmcoKSwKCQkJCQkJCVBhc3N3b3JkID0gc2JQYXNzd29yZC5Ub1N0cmluZygpCgkJCQkJCX07
CgkJCQkJfQoKCQkJCQlwdWJsaWMgc3RhdGljIFByb21wdENyZWRlbnRpYWxzU2VjdXJlU3RyaW5n
UmVzdWx0IENyZWRVblBhY2tBdXRoZW50aWNhdGlvbkJ1ZmZlcldyYXBTZWN1cmVTdHJpbmcoQm9v
bGVhbiBkZWNyeXB0UHJvdGVjdGVkQ3JlZGVudGlhbHMsIEludFB0ciBhdXRoQnVmZmVyUHRyLCBJ
bnQzMiBhdXRoQnVmZmVyU2l6ZSkKCQkJCQl7CgkJCQkJCUludDMyIHVzZXJOYW1lU2l6ZSA9IDI1
NTsKCQkJCQkJSW50MzIgZG9tYWluTmFtZVNpemUgPSAyNTU7CgkJCQkJCUludDMyIHBhc3N3b3Jk
U2l6ZSA9IDI1NTsKCQkJCQkJSW50UHRyIHVzZXJOYW1lUHRyID0gSW50UHRyLlplcm87CgkJCQkJ
CUludFB0ciBkb21haW5OYW1lUHRyID0gSW50UHRyLlplcm87CgkJCQkJCUludFB0ciBwYXNzd29y
ZFB0ciA9IEludFB0ci5aZXJvOwoJCQkJCQl0cnkKCQkJCQkJewoJCQkJCQkJdXNlck5hbWVQdHIg
PSBNYXJzaGFsLkFsbG9jQ29UYXNrTWVtKHVzZXJOYW1lU2l6ZSk7CgkJCQkJCQlkb21haW5OYW1l
UHRyID0gTWFyc2hhbC5BbGxvY0NvVGFza01lbShkb21haW5OYW1lU2l6ZSk7CgkJCQkJCQlwYXNz
d29yZFB0ciA9IE1hcnNoYWwuQWxsb2NDb1Rhc2tNZW0ocGFzc3dvcmRTaXplKTsKCgkJCQkJCQkv
LyNkZWZpbmUgQ1JFRF9QQUNLX1BST1RFQ1RFRF9DUkVERU5USUFMUyAgICAgIDB4MQoJCQkJCQkJ
Ly8jZGVmaW5lIENSRURfUEFDS19XT1dfQlVGRkVSICAgICAgICAgICAgICAgICAweDIKCQkJCQkJ
CS8vI2RlZmluZSBDUkVEX1BBQ0tfR0VORVJJQ19DUkVERU5USUFMUyAgICAgICAgMHg0CgoJCQkJ
CQkJQm9vbGVhbiByZXN1bHQgPSBDcmVkVW5QYWNrQXV0aGVudGljYXRpb25CdWZmZXIoKGRlY3J5
cHRQcm90ZWN0ZWRDcmVkZW50aWFscyA/IDB4MSA6IDB4MCksCgkJCQkJCQkJCQkJCQkJCQkJCQlh
dXRoQnVmZmVyUHRyLAoJCQkJCQkJCQkJCQkJCQkJCQkJYXV0aEJ1ZmZlclNpemUsCgkJCQkJCQkJ
CQkJCQkJCQkJCQl1c2VyTmFtZVB0ciwKCQkJCQkJCQkJCQkJCQkJCQkJCXJlZiB1c2VyTmFtZVNp
emUsCgkJCQkJCQkJCQkJCQkJCQkJCQlkb21haW5OYW1lUHRyLAoJCQkJCQkJCQkJCQkJCQkJCQkJ
cmVmIGRvbWFpbk5hbWVTaXplLAoJCQkJCQkJCQkJCQkJCQkJCQkJcGFzc3dvcmRQdHIsCgkJCQkJ
CQkJCQkJCQkJCQkJCQlyZWYgcGFzc3dvcmRTaXplCgkJCQkJCQkJCQkJCQkJCQkJCQkpOwoJCQkJ
CQkJaWYgKCFyZXN1bHQpCgkJCQkJCQl7CgkJCQkJCQkJdmFyIHdpbjMyRXJyb3IgPSBNYXJzaGFs
LkdldExhc3RXaW4zMkVycm9yKCk7CgkJCQkJCQkJaWYgKHdpbjMyRXJyb3IgPT0gMTIyIC8qRVJS
T1JfSU5TVUZGSUNJRU5UX0JVRkZFUiovKQoJCQkJCQkJCXsKCQkJCQkJCQkJdXNlck5hbWVQdHIg
PSBNYXJzaGFsLlJlQWxsb2NDb1Rhc2tNZW0odXNlck5hbWVQdHIsIHVzZXJOYW1lU2l6ZSk7CgkJ
CQkJCQkJCWRvbWFpbk5hbWVQdHIgPSBNYXJzaGFsLlJlQWxsb2NDb1Rhc2tNZW0oZG9tYWluTmFt
ZVB0ciwgZG9tYWluTmFtZVNpemUpOwoJCQkJCQkJCQlwYXNzd29yZFB0ciA9IE1hcnNoYWwuUmVB
bGxvY0NvVGFza01lbShwYXNzd29yZFB0ciwgcGFzc3dvcmRTaXplKTsKCQkJCQkJCQkJcmVzdWx0
ID0gQ3JlZFVuUGFja0F1dGhlbnRpY2F0aW9uQnVmZmVyKChkZWNyeXB0UHJvdGVjdGVkQ3JlZGVu
dGlhbHMgPyAweDEgOiAweDApLAoJCQkJCQkJCQkJCQkJCQkJCQkJYXV0aEJ1ZmZlclB0ciwKCQkJ
CQkJCQkJCQkJCQkJCQkJCWF1dGhCdWZmZXJTaXplLAoJCQkJCQkJCQkJCQkJCQkJCQkJdXNlck5h
bWVQdHIsCgkJCQkJCQkJCQkJCQkJCQkJCQlyZWYgdXNlck5hbWVTaXplLAoJCQkJCQkJCQkJCQkJ
CQkJCQkJZG9tYWluTmFtZVB0ciwKCQkJCQkJCQkJCQkJCQkJCQkJCXJlZiBkb21haW5OYW1lU2l6
ZSwKCQkJCQkJCQkJCQkJCQkJCQkJCXBhc3N3b3JkUHRyLAoJCQkJCQkJCQkJCQkJCQkJCQkJcmVm
IHBhc3N3b3JkU2l6ZSk7CgkJCQkJCQkJCWlmICghcmVzdWx0KQoJCQkJCQkJCQl7CgkJCQkJCQkJ
CQl0aHJvdyBuZXcgV2luMzJFeGNlcHRpb24oTWFyc2hhbC5HZXRMYXN0V2luMzJFcnJvcigpKTsK
CQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCQllbHNlCgkJCQkJCQkJewoJCQkJCQkJCQl0aHJv
dyBuZXcgV2luMzJFeGNlcHRpb24od2luMzJFcnJvcik7CgkJCQkJCQkJfQoJCQkJCQkJfQoKCQkJ
CQkJCXJldHVybiBuZXcgUHJvbXB0Q3JlZGVudGlhbHNTZWN1cmVTdHJpbmdSZXN1bHQKCQkJCQkJ
CXsKCQkJCQkJCQlVc2VyTmFtZSA9IFB0clRvU2VjdXJlU3RyaW5nKHVzZXJOYW1lUHRyLCB1c2Vy
TmFtZVNpemUpLAoJCQkJCQkJCURvbWFpbk5hbWUgPSBQdHJUb1NlY3VyZVN0cmluZyhkb21haW5O
YW1lUHRyLCBkb21haW5OYW1lU2l6ZSksCgkJCQkJCQkJUGFzc3dvcmQgPSBQdHJUb1NlY3VyZVN0
cmluZyhwYXNzd29yZFB0ciwgcGFzc3dvcmRTaXplKQoJCQkJCQkJfTsKCQkJCQkJfQoJCQkJCQlm
aW5hbGx5CgkJCQkJCXsKCQkJCQkJCWlmICh1c2VyTmFtZVB0ciAhPSBJbnRQdHIuWmVybykKCQkJ
CQkJCQlNYXJzaGFsLlplcm9GcmVlQ29UYXNrTWVtVW5pY29kZSh1c2VyTmFtZVB0cik7CgkJCQkJ
CQlpZiAoZG9tYWluTmFtZVB0ciAhPSBJbnRQdHIuWmVybykKCQkJCQkJCQlNYXJzaGFsLlplcm9G
cmVlQ29UYXNrTWVtVW5pY29kZShkb21haW5OYW1lUHRyKTsKCQkJCQkJCWlmIChwYXNzd29yZFB0
ciAhPSBJbnRQdHIuWmVybykKCQkJCQkJCQlNYXJzaGFsLlplcm9GcmVlQ29UYXNrTWVtVW5pY29k
ZShwYXNzd29yZFB0cik7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCSNyZWdpb24gVXRpbGl0eSBNZXRo
b2RzCgkJCQkJcHVibGljIHN0YXRpYyBTZWN1cmVTdHJpbmcgUHRyVG9TZWN1cmVTdHJpbmcoSW50
UHRyIHApCgkJCQkJewoJCQkJCQlTZWN1cmVTdHJpbmcgcyA9IG5ldyBTZWN1cmVTdHJpbmcoKTsK
CQkJCQkJSW50MzIgaSA9IDA7CgkJCQkJCXdoaWxlICh0cnVlKQoJCQkJCQl7CgkJCQkJCQlDaGFy
IGMgPSAoQ2hhcilNYXJzaGFsLlJlYWRJbnQxNihwLCAoKGkrKykgKiBzaXplb2YoSW50MTYpKSk7
CgkJCQkJCQlpZiAoYyA9PSAnXHUwMDAwJykKCQkJCQkJCQlicmVhazsKCQkJCQkJCXMuQXBwZW5k
Q2hhcihjKTsKCQkJCQkJfQoJCQkJCQlzLk1ha2VSZWFkT25seSgpOwoJCQkJCQlyZXR1cm4gczsK
CQkJCQl9CgkJCQkJcHVibGljIHN0YXRpYyBTZWN1cmVTdHJpbmcgUHRyVG9TZWN1cmVTdHJpbmco
SW50UHRyIHAsIEludDMyIGxlbmd0aCkKCQkJCQl7CgkJCQkJCVNlY3VyZVN0cmluZyBzID0gbmV3
IFNlY3VyZVN0cmluZygpOwoJCQkJCQlmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKQoJ
CQkJCQkJcy5BcHBlbmRDaGFyKChDaGFyKU1hcnNoYWwuUmVhZEludDE2KHAsIGkgKiBzaXplb2Yo
SW50MTYpKSk7CgkJCQkJCXMuTWFrZVJlYWRPbmx5KCk7CgkJCQkJCXJldHVybiBzOwoJCQkJCX0K
CQkJCQkjZW5kcmVnaW9uCgkJCQl9CgkJCX0KCgkJCS8vLyA8c3VtbWFyeT4KCQkJLy8vIAoJCQkv
Ly8gPC9zdW1tYXJ5PgoJCQlwdWJsaWMgaW50ZXJmYWNlIElQcm9tcHRDcmVkZW50aWFsc1Jlc3Vs
dAoJCQl7CgkJCX0KCQkJLy8vIDxzdW1tYXJ5PgoJCQkvLy8gCgkJCS8vLyA8L3N1bW1hcnk+CgkJ
CXB1YmxpYyBjbGFzcyBQcm9tcHRDcmVkZW50aWFsc1Jlc3VsdCA6IElQcm9tcHRDcmVkZW50aWFs
c1Jlc3VsdAoJCQl7CgkJCQlwdWJsaWMgU3RyaW5nIFVzZXJOYW1lIHsgZ2V0OyBpbnRlcm5hbCBz
ZXQ7IH0KCQkJCXB1YmxpYyBTdHJpbmcgRG9tYWluTmFtZSB7IGdldDsgaW50ZXJuYWwgc2V0OyB9
CgkJCQlwdWJsaWMgU3RyaW5nIFBhc3N3b3JkIHsgZ2V0OyBpbnRlcm5hbCBzZXQ7IH0KCQkJCXB1
YmxpYyBCb29sZWFuIElzU2F2ZUNoZWNrZWQgeyBnZXQ7IHNldDsgfQoJCQl9CgkJCS8vLyA8c3Vt
bWFyeT4KCQkJLy8vIAoJCQkvLy8gPC9zdW1tYXJ5PgoJCQlwdWJsaWMgY2xhc3MgUHJvbXB0Q3Jl
ZGVudGlhbHNTZWN1cmVTdHJpbmdSZXN1bHQgOiBJUHJvbXB0Q3JlZGVudGlhbHNSZXN1bHQKCQkJ
ewoJCQkJcHVibGljIFNlY3VyZVN0cmluZyBVc2VyTmFtZSB7IGdldDsgaW50ZXJuYWwgc2V0OyB9
CgkJCQlwdWJsaWMgU2VjdXJlU3RyaW5nIERvbWFpbk5hbWUgeyBnZXQ7IGludGVybmFsIHNldDsg
fQoJCQkJcHVibGljIFNlY3VyZVN0cmluZyBQYXNzd29yZCB7IGdldDsgaW50ZXJuYWwgc2V0OyB9
CgkJCQlwdWJsaWMgQm9vbGVhbiBJc1NhdmVDaGVja2VkIHsgZ2V0OyBzZXQ7IH0KCQkJfQoKCQkJ
CgkJCXB1YmxpYyBzdGF0aWMgY2xhc3MgRXh0ZW5zaW9uTWV0aG9kcwoJCQl7CgkJCQlwdWJsaWMg
c3RhdGljIFNlY3VyZVN0cmluZyBUb1NlY3VyZVN0cmluZyh0aGlzIHN0cmluZyBzcmMpCgkJCQl7
CgkJCQkJU2VjdXJlU3RyaW5nIHJlc3VsdCA9IG5ldyBTZWN1cmVTdHJpbmcoKTsKCQkJCQlzcmMu
VG9DaGFyQXJyYXkoKS5Ub0xpc3QoKS5Gb3JFYWNoKGMgPT4gcmVzdWx0LkFwcGVuZENoYXIoYykp
OwoJCQkJCXJldHVybiByZXN1bHQ7CgkJCQl9CgkJCX0KICAgICAgICBdXT4KICAgICAgPC9Db2Rl
PgogICAgPC9UYXNrPgogIDwvVXNpbmdUYXNrPgo8L1Byb2plY3Q+Cg==
